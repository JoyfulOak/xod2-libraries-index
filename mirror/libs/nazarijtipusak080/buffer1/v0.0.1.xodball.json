{
  "patches": {
    "@/main": {
      "links": {
        "rkmIFK2aA": {
          "id": "rkmIFK2aA",
          "output": {
            "nodeId": "rk18tY3aC",
            "pinKey": "rymHO_t3pC"
          },
          "input": {
            "nodeId": "HJGUYKh60",
            "pinKey": "H1jZYY3pA"
          }
        },
        "HyawtK3pC": {
          "id": "HyawtK3pC",
          "output": {
            "nodeId": "HysPtF26C",
            "pinKey": "Bkf4BDsmV"
          },
          "input": {
            "nodeId": "HJGUYKh60",
            "pinKey": "SkGvbKKnTC"
          }
        },
        "ryWHiF2TC": {
          "id": "ryWHiF2TC",
          "output": {
            "nodeId": "r1cNjY2TC",
            "pinKey": "r1MTf9tnTA"
          },
          "input": {
            "nodeId": "H1h2qYhTC",
            "pinKey": "HkXK-dGob"
          }
        },
        "S1cgAFn6C": {
          "id": "S1cgAFn6C",
          "output": {
            "nodeId": "BkOxRKn6C",
            "pinKey": "ByfGSDjQE"
          },
          "input": {
            "nodeId": "HJGUYKh60",
            "pinKey": "H1bvbYK36R"
          }
        },
        "rJG-0K3T0": {
          "id": "rJG-0K3T0",
          "output": {
            "nodeId": "B1Rg0Yh60",
            "pinKey": "ByfGSDjQE"
          },
          "input": {
            "nodeId": "rk18tY3aC",
            "pinKey": "Sy-S_uF26C"
          }
        },
        "B1voxc2TC": {
          "id": "B1voxc2TC",
          "output": {
            "nodeId": "BkGsxqhTA",
            "pinKey": "Bkf4BDsmV"
          },
          "input": {
            "nodeId": "HJwYg5hp0",
            "pinKey": "B1G9ExcnaC"
          }
        },
        "BkVt-q26A": {
          "id": "BkVt-q26A",
          "output": {
            "nodeId": "HyhO-c2aC",
            "pinKey": "SyzO4Wcn6R"
          },
          "input": {
            "nodeId": "BJfKZ52T0",
            "pinKey": "HkXK-dGob"
          }
        },
        "BkmXE9nT0": {
          "id": "BkmXE9nT0",
          "output": {
            "nodeId": "BJFGN5na0",
            "pinKey": "ByfGSDjQE"
          },
          "input": {
            "nodeId": "HJwYg5hp0",
            "pinKey": "S1eqNgcnpR"
          }
        },
        "H1c7V92TR": {
          "id": "H1c7V92TR",
          "output": {
            "nodeId": "BJwQNc2aR",
            "pinKey": "ByfGSDjQE"
          },
          "input": {
            "nodeId": "HyhO-c2aC",
            "pinKey": "SyO4-9haR"
          }
        },
        "SyG3OT360": {
          "id": "SyG3OT360",
          "output": {
            "nodeId": "rk18tY3aC",
            "pinKey": "rymHO_t3pC"
          },
          "input": {
            "nodeId": "BJwvr92TC",
            "pinKey": "SykSr9ha0"
          }
        },
        "SkFEYA2aR": {
          "id": "SkFEYA2aR",
          "output": {
            "nodeId": "BJHNFRnTC",
            "pinKey": "SykJ8wjXN"
          },
          "input": {
            "nodeId": "HJGUYKh60",
            "pinKey": "rJxPbFt2TA"
          }
        },
        "rkSCIJA6C": {
          "id": "rkSCIJA6C",
          "output": {
            "nodeId": "BJkaOa3aR",
            "pinKey": "Bkf4BDsmV"
          },
          "input": {
            "nodeId": "H11RL1ApA",
            "pinKey": "HyySIkCpA"
          }
        },
        "HkUCIyAaA": {
          "id": "HkUCIyAaA",
          "output": {
            "nodeId": "H11RL1ApA",
            "pinKey": "HyMKYmk06A"
          },
          "input": {
            "nodeId": "rkexuAnp0",
            "pinKey": "HJdO9HwJ-"
          }
        },
        "S1cRU1ApC": {
          "id": "S1cRU1ApC",
          "output": {
            "nodeId": "H11RL1ApA",
            "pinKey": "HyvtUkRT0"
          },
          "input": {
            "nodeId": "rkexuAnp0",
            "pinKey": "S1n95SDJb"
          }
        },
        "H18_ck06C": {
          "id": "H18_ck06C",
          "output": {
            "nodeId": "H11RL1ApA",
            "pinKey": "HyMKYmk06A"
          },
          "input": {
            "nodeId": "S17ScR3aC",
            "pinKey": "HkXK-dGob"
          }
        },
        "S1NXnyAaA": {
          "id": "S1NXnyAaA",
          "output": {
            "nodeId": "rk18tY3aC",
            "pinKey": "rymHO_t3pC"
          },
          "input": {
            "nodeId": "r1cNjY2TC",
            "pinKey": "HkxhXqthTC"
          }
        },
        "HJ2X3JRp0": {
          "id": "HJ2X3JRp0",
          "output": {
            "nodeId": "rk18tY3aC",
            "pinKey": "rymHO_t3pC"
          },
          "input": {
            "nodeId": "HJwYg5hp0",
            "pinKey": "SJvrl9haR"
          }
        },
        "ryv431ApR": {
          "id": "ryv431ApR",
          "output": {
            "nodeId": "rk18tY3aC",
            "pinKey": "rymHO_t3pC"
          },
          "input": {
            "nodeId": "HyhO-c2aC",
            "pinKey": "HJZ8bc2a0"
          }
        },
        "rJKiWRyR0": {
          "id": "rJKiWRyR0",
          "output": {
            "nodeId": "rk18tY3aC",
            "pinKey": "rymHO_t3pC"
          },
          "input": {
            "nodeId": "H1Gjb0yR0",
            "pinKey": "HyMj2TkRA"
          }
        },
        "SJUL80yAA": {
          "id": "SJUL80yAA",
          "output": {
            "nodeId": "BkfIUAJCR",
            "pinKey": "Bkf4BDsmV"
          },
          "input": {
            "nodeId": "H1Gjb0yR0",
            "pinKey": "SyZfjn61RA"
          }
        },
        "BkzPUAJ00": {
          "id": "BkzPUAJ00",
          "output": {
            "nodeId": "HyA8I0k0R",
            "pinKey": "ByfGSDjQE"
          },
          "input": {
            "nodeId": "r1cNjY2TC",
            "pinKey": "SJgpf9thp0"
          }
        },
        "HJm_LA1C0": {
          "id": "HJm_LA1C0",
          "output": {
            "nodeId": "BkgOIAkCR",
            "pinKey": "Bkf4BDsmV"
          },
          "input": {
            "nodeId": "r1cNjY2TC",
            "pinKey": "B1baf5YhTC"
          }
        },
        "H1zkdZeAA": {
          "id": "H1zkdZeAA",
          "output": {
            "nodeId": "Sy11O-g0C",
            "pinKey": "Bkf4BDsmV"
          },
          "input": {
            "nodeId": "SktCvZx00",
            "pinKey": "SyZfjn61RA"
          }
        },
        "rJBk_-eCA": {
          "id": "rJBk_-eCA",
          "output": {
            "nodeId": "BJwvr92TC",
            "pinKey": "HygKzScnaA"
          },
          "input": {
            "nodeId": "SktCvZx00",
            "pinKey": "BJgzs3akR0"
          }
        },
        "BkPy_-xCA": {
          "id": "BkPy_-xCA",
          "output": {
            "nodeId": "rk18tY3aC",
            "pinKey": "rymHO_t3pC"
          },
          "input": {
            "nodeId": "SktCvZx00",
            "pinKey": "HyMj2TkRA"
          }
        },
        "HkPd9beCC": {
          "id": "HkPd9beCC",
          "output": {
            "nodeId": "rk18tY3aC",
            "pinKey": "rymHO_t3pC"
          },
          "input": {
            "nodeId": "ryld9bx0A",
            "pinKey": "rkllntWl0R"
          }
        },
        "HJ229ZxR0": {
          "id": "HJ229ZxR0",
          "output": {
            "nodeId": "BJwvr92TC",
            "pinKey": "HygKzScnaA"
          },
          "input": {
            "nodeId": "ryld9bx0A",
            "pinKey": "HJ-ghYWeRA"
          }
        },
        "r1cR9-eA0": {
          "id": "r1cR9-eA0",
          "output": {
            "nodeId": "r1DAqbeCR",
            "pinKey": "Bkf4BDsmV"
          },
          "input": {
            "nodeId": "ryld9bx0A",
            "pinKey": "rkzx2YWlRR"
          }
        },
        "SJ1u0ZlCC": {
          "id": "SJ1u0ZlCC",
          "output": {
            "nodeId": "rk18tY3aC",
            "pinKey": "rymHO_t3pC"
          },
          "input": {
            "nodeId": "H11RL1ApA",
            "pinKey": "BkltKXJATA"
          }
        },
        "rkpAefxRC": {
          "id": "rkpAefxRC",
          "output": {
            "nodeId": "BJwvr92TC",
            "pinKey": "HygKzScnaA"
          },
          "input": {
            "nodeId": "H11RL1ApA",
            "pinKey": "BJZYKQkA6C"
          }
        },
        "SJVwGzgR0": {
          "id": "SJVwGzgR0",
          "output": {
            "nodeId": "S1yvGzxCR",
            "pinKey": "Bkf4BDsmV"
          },
          "input": {
            "nodeId": "HyhO-c2aC",
            "pinKey": "SJedVb9npA"
          }
        }
      },
      "nodes": {
        "rk18tY3aC": {
          "id": "rk18tY3aC",
          "type": "@/buffer1",
          "position": {
            "x": 3,
            "y": 0,
            "units": "slots"
          }
        },
        "HJGUYKh60": {
          "boundLiterals": {
            "rJxPbFt2TA": "24h"
          },
          "id": "HJGUYKh60",
          "type": "@/set-byte",
          "position": {
            "x": 3,
            "y": 4,
            "units": "slots"
          }
        },
        "HysPtF26C": {
          "id": "HysPtF26C",
          "type": "xod/debug/tweak-pulse",
          "position": {
            "x": 9,
            "y": 2,
            "units": "slots"
          }
        },
        "H1h2qYhTC": {
          "size": {
            "width": 3,
            "height": 1,
            "units": "slots"
          },
          "id": "H1h2qYhTC",
          "type": "xod/debug/watch",
          "position": {
            "x": 4,
            "y": 7,
            "units": "slots"
          }
        },
        "r1cNjY2TC": {
          "id": "r1cNjY2TC",
          "type": "@/get-byte",
          "position": {
            "x": 3,
            "y": 6,
            "units": "slots"
          }
        },
        "BkOxRKn6C": {
          "boundLiterals": {
            "ByfGSDjQE": "0"
          },
          "id": "BkOxRKn6C",
          "type": "xod/debug/tweak-number",
          "position": {
            "x": 6,
            "y": 2,
            "units": "slots"
          }
        },
        "B1Rg0Yh60": {
          "boundLiterals": {
            "ByfGSDjQE": "12"
          },
          "id": "B1Rg0Yh60",
          "type": "xod/debug/tweak-number",
          "position": {
            "x": 3,
            "y": -1,
            "units": "slots"
          }
        },
        "HJwYg5hp0": {
          "boundLiterals": {
            "rkZqVlqhpA": "3",
            "S1eqNgcnpR": "2"
          },
          "id": "HJwYg5hp0",
          "type": "@/set-word",
          "position": {
            "x": 4,
            "y": 10,
            "units": "slots"
          }
        },
        "BkGsxqhTA": {
          "id": "BkGsxqhTA",
          "type": "xod/debug/tweak-pulse",
          "position": {
            "x": 9,
            "y": 8,
            "units": "slots"
          }
        },
        "HyhO-c2aC": {
          "boundLiterals": {
            "SyO4-9haR": "2"
          },
          "id": "HyhO-c2aC",
          "type": "@/get-word",
          "position": {
            "x": 3,
            "y": 12,
            "units": "slots"
          }
        },
        "BJfKZ52T0": {
          "size": {
            "width": 5,
            "height": 1,
            "units": "slots"
          },
          "id": "BJfKZ52T0",
          "type": "xod/debug/watch",
          "position": {
            "x": 4,
            "y": 15,
            "units": "slots"
          }
        },
        "BJFGN5na0": {
          "boundLiterals": {
            "ByfGSDjQE": "125"
          },
          "id": "BJFGN5na0",
          "type": "xod/debug/tweak-number",
          "position": {
            "x": 4,
            "y": 9,
            "units": "slots"
          }
        },
        "BJwQNc2aR": {
          "boundLiterals": {
            "ByfGSDjQE": "3"
          },
          "id": "BJwQNc2aR",
          "type": "xod/debug/tweak-number",
          "position": {
            "x": 4,
            "y": 11,
            "units": "slots"
          }
        },
        "BJwvr92TC": {
          "id": "BJwvr92TC",
          "type": "@/length",
          "position": {
            "x": 13,
            "y": 1,
            "units": "slots"
          }
        },
        "BJkaOa3aR": {
          "id": "BJkaOa3aR",
          "type": "xod/debug/tweak-pulse",
          "position": {
            "x": 17,
            "y": 1,
            "units": "slots"
          }
        },
        "rkexuAnp0": {
          "id": "rkexuAnp0",
          "type": "xod/debug/console-log",
          "position": {
            "x": 15,
            "y": 4,
            "units": "slots"
          }
        },
        "BJHNFRnTC": {
          "boundLiterals": {
            "SykJ8wjXN": "34h"
          },
          "id": "BJHNFRnTC",
          "type": "xod/debug/tweak-byte",
          "position": {
            "x": 4,
            "y": 3,
            "units": "slots"
          }
        },
        "S17ScR3aC": {
          "size": {
            "width": 9,
            "height": 1,
            "units": "slots"
          },
          "id": "S17ScR3aC",
          "type": "xod/debug/watch",
          "position": {
            "x": 14,
            "y": 5,
            "units": "slots"
          }
        },
        "H11RL1ApA": {
          "id": "H11RL1ApA",
          "type": "@/print-char-buffer1",
          "position": {
            "x": 15,
            "y": 2,
            "units": "slots"
          }
        },
        "H1Gjb0yR0": {
          "id": "H1Gjb0yR0",
          "type": "@/shift-right-buffer1",
          "position": {
            "x": 7,
            "y": 1,
            "units": "slots"
          },
          "boundLiterals": {
            "BJgzs3akR0": "4"
          }
        },
        "BkfIUAJCR": {
          "id": "BkfIUAJCR",
          "type": "xod/debug/tweak-pulse",
          "position": {
            "x": 12,
            "y": 0,
            "units": "slots"
          }
        },
        "HyA8I0k0R": {
          "boundLiterals": {
            "ByfGSDjQE": "0"
          },
          "id": "HyA8I0k0R",
          "type": "xod/debug/tweak-number",
          "position": {
            "x": 9,
            "y": 5,
            "units": "slots"
          }
        },
        "BkgOIAkCR": {
          "id": "BkgOIAkCR",
          "type": "xod/debug/tweak-pulse",
          "position": {
            "x": 8,
            "y": 4,
            "units": "slots"
          }
        },
        "SktCvZx00": {
          "id": "SktCvZx00",
          "type": "@/shift-left-buffer1",
          "position": {
            "x": 8,
            "y": 0,
            "units": "slots"
          }
        },
        "Sy11O-g0C": {
          "id": "Sy11O-g0C",
          "type": "xod/debug/tweak-pulse",
          "position": {
            "x": 10,
            "y": -1,
            "units": "slots"
          }
        },
        "ryld9bx0A": {
          "id": "ryld9bx0A",
          "type": "@/fill-buffer1",
          "position": {
            "x": 7,
            "y": -2,
            "units": "slots"
          },
          "boundLiterals": {
            "HydjcZxC0": "35h"
          }
        },
        "r1DAqbeCR": {
          "id": "r1DAqbeCR",
          "type": "xod/debug/tweak-pulse",
          "position": {
            "x": 11,
            "y": -3,
            "units": "slots"
          }
        },
        "S1yvGzxCR": {
          "id": "S1yvGzxCR",
          "type": "xod/debug/tweak-pulse",
          "position": {
            "x": 9,
            "y": 11,
            "units": "slots"
          }
        }
      },
      "path": "@/main"
    },
    "@/buffer1": {
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "//-- constructor buffer1\n\n// Our namespace should be: buffer1_ll__buffer1\nstruct State {\n    size_t len; // larger than XOD can deal with\n    uint8_t *buffer;\n  };\nusing Type = State*; // 'Type' is assumed by xod code-generator\n\n{{ GENERATED_CODE }}\n\nvoid evaluate(Context ctx) {\n  if (!isSettingUp()) return;\n  auto _state = getState(ctx);\n  uint16_t bytes = static_cast<uint16_t> (getValue<input_bytes>(ctx)); // casting gives us 16 bits\n  //DEBUG_SERIAL.print(F(\"buf \"));DEBUG_SERIAL.print(bytes);\n\n  if (bytes == 0) {\n    _state->buffer = NULL;\n    //DEBUG_SERIAL.print(F(\"buffer1/buffer1 tried to allocate 0 bytes\\n\")); // exception\n    }\n  else {\n    _state->buffer = ( uint8_t* ) malloc( bytes ); // try\n    }\n  //DEBUG_SERIAL.print(F(\" @ \"));DEBUG_SERIAL.print((long) _state->buffer);\n  //DEBUG_SERIAL.print(F(\"\\n\"));\n\n  if (_state->buffer) {\n    // worked\n    _state->len = bytes;\n    emitValue<output_done>(ctx, 1); // fix type\n    }\n  else {\n    _state->len = 0; // to be nice, ->buffer is already NULL\n    emitValue<output_ERR>(ctx, 1);\n    }\n  emitValue<output_buffer1>(ctx, _state); // must emit, otherwise you get a default value (usually NULL)\n}\n"
        }
      ],
      "description": "Creates a buffer with the specified number of bytes.",
      "nodes": {
        "HJrddFh6C": {
          "label": "ERR",
          "id": "HJrddFh6C",
          "position": {
            "x": 4,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "rklrOOF2aC": {
          "id": "rklrOOF2aC",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sy-S_uF26C": {
          "description": "size of buffer in bytes",
          "label": "bytes",
          "id": "Sy-S_uF26C",
          "position": {
            "x": 0,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-number"
        },
        "rJGB__F3pC": {
          "description": "did it",
          "label": "done",
          "id": "rJGB__F3pC",
          "position": {
            "x": 2,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "rymHO_t3pC": {
          "label": "buffer1",
          "id": "rymHO_t3pC",
          "position": {
            "x": 0,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-self"
        }
      },
      "path": "@/buffer1"
    },
    "@/set-byte": {
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "//-- void buffer1::set_byte(value, i)\n// Our constructor namespace should be: buffer1_ll__buffer1\nstruct State {\n  // not used\n  };\n\n{{ GENERATED_CODE }}\n\nvoid evaluate(Context ctx) {\n\n  // only act on trigger, inputs not relevant for this\n  if ( !isInputDirty<input_trigger>(ctx) ) return;\n\n  char value = getValue<input_value>(ctx); // char\n  uint16_t i = static_cast<uint16_t> (getValue<input_i>(ctx));\n  auto _object = getValue<input_buffer1>(ctx); // buffer1\n\n  //DEBUG_SERIAL.print(F(\"set @\")); DEBUG_SERIAL.print((long) _object->buffer);DEBUG_SERIAL.print(F(\"/\"));DEBUG_SERIAL.print(_object->len);\n  //DEBUG_SERIAL.print(F(\"[\"));DEBUG_SERIAL.print((int)i);DEBUG_SERIAL.print(F(\"]=\"));DEBUG_SERIAL.print((int)value,HEX);\n  //DEBUG_SERIAL.print(F(\"\\n\"));\n  if ( ! _object->buffer ) {\n    //DEBUG_SERIAL.print(F(\"buffer1/\"));DEBUG_SERIAL.print(F(\"set-byte\")); DEBUG_SERIAL.print(F(\" saw unallocated buffer1\\n\")); // exception\n  }\n  else if ( i < 0 || i  >= _object->len ) {\n    emitValue<output_ERR>(ctx, 1); // pulse\n  }\n  else {\n    _object->buffer[i] = value;\n    emitValue<output_done>(ctx, 1); // pulse\n  }\n  emitValue<output_buffer>(ctx, _object); // convenience\n}\n"
        }
      ],
      "description": "Places the specified byte in the buffer at location \"i\".",
      "nodes": {
        "rkvbYKhaC": {
          "id": "rkvbYKhaC",
          "position": {
            "x": 0,
            "y": 0.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "rJxPbFt2TA": {
          "label": "value",
          "id": "rJxPbFt2TA",
          "position": {
            "x": 2,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-byte"
        },
        "H1bvbYK36R": {
          "label": "i",
          "id": "H1bvbYK36R",
          "position": {
            "x": 4,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-number"
        },
        "SkGvbKKnTC": {
          "label": "trigger",
          "id": "SkGvbKKnTC",
          "position": {
            "x": 6,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "HymwbFthT0": {
          "label": "done",
          "id": "HymwbFthT0",
          "position": {
            "x": 2,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "BkEv-KYhpR": {
          "label": "ERR",
          "id": "BkEv-KYhpR",
          "position": {
            "x": 3,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "H1jZYY3pA": {
          "label": "buffer1",
          "id": "H1jZYY3pA",
          "type": "@/input-buffer1",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          }
        },
        "H1WGKYn6R": {
          "label": "buffer",
          "id": "H1WGKYn6R",
          "type": "@/output-buffer1",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          }
        }
      },
      "path": "@/set-byte"
    },
    "@/get-byte": {
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "//-- char buffer1::get_byte(i)\n// Our constructor namespace should be: buffer1_ll__buffer1\nstruct State {\n  // not used\n  };\n\n{{ GENERATED_CODE }}\n\nvoid evaluate(Context ctx) {\n\n  if ( !isInputDirty<input_trigger>(ctx) ) return;\n\n  uint16_t i = static_cast<uint16_t> (getValue<input_i>(ctx));\n  auto _object = getValue<input_buffer1>(ctx); // buffer1\n\n  if ( ! _object->buffer ) {\n   // DEBUG_SERIAL.print(F(\"buffer1/\"));DEBUG_SERIAL.print(F(\"get-byte\")); DEBUG_SERIAL.print(F(\" saw unallocated buffer1\\n\")); // exception\n  }\n  else if ( i < 0 || i  >= _object->len ) {\n    emitValue<output_ERR>(ctx, 1); // pulse\n  }\n  else {\n    uint8_t _rez = _object->buffer[ i ];\n    //DEBUG_SERIAL.print(F(\"@\")); DEBUG_SERIAL.print((long) _object->buffer);\n    //DEBUG_SERIAL.print(F(\"[\")); DEBUG_SERIAL.print(_rez,HEX); DEBUG_SERIAL.print(F(\"]\\n\"));\n    emitValue<output_val>(ctx, _rez); // byte\n    emitValue<output_done>(ctx, 1);\n  }\n  emitValue<output_buffer>(ctx, _object); // convenience\n}\n"
        }
      ],
      "description": "Outputs the byte at the specified number \"i\" from the buffer.",
      "nodes": {
        "SJgpf9thp0": {
          "label": "i",
          "id": "SJgpf9thp0",
          "position": {
            "x": 2,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-number"
        },
        "B1baf5YhTC": {
          "label": "trigger",
          "id": "B1baf5YhTC",
          "position": {
            "x": 4,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "r1MTf9tnTA": {
          "label": "val",
          "id": "r1MTf9tnTA",
          "position": {
            "x": 2,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-byte"
        },
        "rkQTz9K2TA": {
          "label": "done",
          "id": "rkQTz9K2TA",
          "position": {
            "x": 4,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "Hk4TfcK2TR": {
          "label": "ERR",
          "id": "Hk4TfcK2TR",
          "position": {
            "x": 6,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HkxhXqthTC": {
          "label": "buffer1",
          "id": "HkxhXqthTC",
          "type": "@/input-buffer1",
          "position": {
            "x": 0,
            "y": -0.25,
            "units": "slots"
          }
        },
        "H1b2XcYnaC": {
          "label": "buffer",
          "id": "H1b2XcYnaC",
          "type": "@/output-buffer1",
          "position": {
            "x": 0,
            "y": 1.75,
            "units": "slots"
          }
        },
        "rkSqpF2a0": {
          "id": "rkSqpF2a0",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        }
      },
      "path": "@/get-byte"
    },
    "@/set-word": {
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "//-- void buffer1::set_word(value, i)\n// Our constructor namespace should be: buffer1_ll__buffer1\nstruct State {\n  // not used\n  };\n\n{{ GENERATED_CODE }}\n\nvoid evaluate(Context ctx) {\n\n  // only act on trigger, inputs not relevant for this\n  if ( !isInputDirty<input_trigger>(ctx) ) return;\n\n  uint16_t value = static_cast<uint16_t> (getValue<input_value>(ctx)); // char\n  uint16_t i = static_cast<uint16_t> (getValue<input_i>(ctx)); // int\n  auto _object = getValue<input_buffer1>(ctx); // buffer1\n\n  if ( ! _object->buffer ) {\n    //DEBUG_SERIAL.print(F(\"buffer1/\"));DEBUG_SERIAL.print(F(\"set-word\")); DEBUG_SERIAL.print(F(\" saw unallocated buffer1\\n\")); // exception\n  }\n  else if ( i < 0 || (sizeof(uint16_t) * i) + 1  >= _object->len ) { // 2nd byte fits too?\n    emitValue<output_ERR>(ctx, 1); // pulse\n  }\n  else {\n    reinterpret_cast <uint16_t *> (_object->buffer)[i] = value;\n    emitValue<output_done>(ctx, 1); // pulse\n  }\n  emitValue<output_buffer>(ctx, _object); // convenience\n}\n"
        }
      ],
      "description": "Places the specified word in the buffer at position \"i\".",
      "nodes": {
        "HJ9Nlq2pR": {
          "id": "HJ9Nlq2pR",
          "position": {
            "x": 0,
            "y": 0.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "S1eqNgcnpR": {
          "label": "value",
          "id": "S1eqNgcnpR",
          "position": {
            "x": 2,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-number"
        },
        "rkZqVlqhpA": {
          "label": "i",
          "id": "rkZqVlqhpA",
          "position": {
            "x": 4,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-number"
        },
        "B1G9ExcnaC": {
          "label": "trigger",
          "id": "B1G9ExcnaC",
          "position": {
            "x": 6,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "S1XcVe5hT0": {
          "label": "done",
          "id": "S1XcVe5hT0",
          "position": {
            "x": 2,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "rJE54l9hpA": {
          "label": "ERR",
          "id": "rJE54l9hpA",
          "position": {
            "x": 3,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "SJvrl9haR": {
          "label": "buffer1",
          "id": "SJvrl9haR",
          "type": "@/input-buffer1",
          "position": {
            "x": 0,
            "y": -0.25,
            "units": "slots"
          }
        },
        "Hygvrecn6A": {
          "label": "buffer",
          "id": "Hygvrecn6A",
          "type": "@/output-buffer1",
          "position": {
            "x": 0,
            "y": 1.75,
            "units": "slots"
          }
        }
      },
      "path": "@/set-word"
    },
    "@/get-word": {
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "//-- int buffer1::get_word(i)\n// Our constructor namespace should be: buffer1_ll__buffer1\nstruct State {\n  // not used\n  };\n\n{{ GENERATED_CODE }}\n\nvoid evaluate(Context ctx) {\n\n  if ( !isInputDirty<input_trigger>(ctx) ) return;\n\n  uint16_t i = static_cast<uint16_t> (getValue<input_i>(ctx));\n  auto _object = getValue<input_buffer1>(ctx); // buffer1\n\n  if ( ! _object->buffer ) {\n    //DEBUG_SERIAL.print(F(\"buffer1/\"));DEBUG_SERIAL.print(F(\"get-word\")); DEBUG_SERIAL.print(F(\" saw unallocated buffer1\\n\")); // exception\n  }\n  else if ( i < 0 || (i * sizeof(uint16_t) >= _object->len) ) {\n    emitValue<output_ERR>(ctx, 1); // pulse\n  }\n  else {\n    auto _rez = reinterpret_cast <uint16_t *> ( _object->buffer )[ i ]; // int\n\n    emitValue<output_val>(ctx, _rez); // int\n    emitValue<output_done>(ctx, 1);\n  }\n  emitValue<output_buffer>(ctx, _object); // convenience\n}\n"
        }
      ],
      "description": "Outputs the word at the specified number \"i\" from the buffer.",
      "nodes": {
        "SyO4-9haR": {
          "label": "i",
          "id": "SyO4-9haR",
          "position": {
            "x": 2,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-number"
        },
        "SJedVb9npA": {
          "label": "trigger",
          "id": "SJedVb9npA",
          "position": {
            "x": 4,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "BJWu4Z92a0": {
          "id": "BJWu4Z92a0",
          "position": {
            "x": 0,
            "y": 0.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "SyzO4Wcn6R": {
          "label": "val",
          "id": "SyzO4Wcn6R",
          "position": {
            "x": 2,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HkQdN-5hT0": {
          "label": "done",
          "id": "HkQdN-5hT0",
          "position": {
            "x": 4,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "H1NO4WqnTA": {
          "label": "ERR",
          "id": "H1NO4WqnTA",
          "position": {
            "x": 6,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJZ8bc2a0": {
          "label": "buffer1",
          "id": "HJZ8bc2a0",
          "type": "@/input-buffer1",
          "position": {
            "x": 0,
            "y": -0.25,
            "units": "slots"
          }
        },
        "BJe-LWq360": {
          "label": "buffer",
          "id": "BJe-LWq360",
          "type": "@/output-buffer1",
          "position": {
            "x": 0,
            "y": 1.75,
            "units": "slots"
          }
        }
      },
      "path": "@/get-word"
    },
    "@/length": {
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "//-- int buffer1::length()\n// Our constructor namespace should be: buffer1_ll__buffer1\nstruct State {\n  // not used\n  };\n\n{{ GENERATED_CODE }}\n\nvoid evaluate(Context ctx) {\n\n  if ( !isInputDirty<input_buffer1>(ctx) ) return;\n\n  auto _object = getValue<input_buffer1>(ctx); // buffer1\n  auto _rez = _object->len; // size_t in real life. Report 0 if actually 0\n\n  emitValue<output_buffer>(ctx, _object); // convenience\n  emitValue<output_val>(ctx, _rez); // int\n\n}\n"
        }
      ],
      "description": "Shows the number of bytes in the buffer.\n\n",
      "nodes": {
        "HygKzScnaA": {
          "label": "val",
          "id": "HygKzScnaA",
          "position": {
            "x": 5,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "rJEXS92p0": {
          "id": "rJEXS92p0",
          "position": {
            "x": 4,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "SykSr9ha0": {
          "label": "buffer1",
          "id": "SykSr9ha0",
          "type": "@/input-buffer1",
          "position": {
            "x": 3,
            "y": -1,
            "units": "slots"
          }
        },
        "ryx1BS5npC": {
          "label": "buffer",
          "id": "ryx1BS5npC",
          "type": "@/output-buffer1",
          "position": {
            "x": 3,
            "y": 1,
            "units": "slots"
          }
        }
      },
      "path": "@/length"
    },
    "@/print-char-buffer1": {
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "struct State {\n  // не використовується\n};\n char* buff;\n CStringView view;\n\n{{ GENERATED_CODE }}\n\n \n\nvoid evaluate(Context ctx) {\n  if (!isInputDirty<input_trigger>(ctx)) return;\n\n  // Отримуємо об'єкт буфера\n  auto _object = getValue<input_buffer1>(ctx); // буфер\n  uint16_t len = static_cast<uint16_t>(getValue<input_len>(ctx));\n\n  // Перевірка, чи існує буфер і чи є правильна довжина\n  if (!_object->buffer || len > _object->len) {\n    emitValue<output_ERR>(ctx, 1);  // видаємо помилку\n    return;\n  }\n\n  // Створюємо список символів\n  buff = new char[len+1];\n  view = CStringView(buff);\n\n\n  // Заповнюємо список символами з буфера\n  for (uint16_t i = 0; i < len; i++) {\n    buff[i] =reinterpret_cast <uint8_t *> ( _object->buffer )[ i ];  // копіюємо байти з буфера\n  }\n    buff[len]='\\0';\n\n  // Виводимо результат як список символів\n  emitValue<output_str>(ctx, XString(&view));\n  emitValue<output_done>(ctx, 1);  // видаємо завершення\n   \n}"
        }
      ],
      "description": "Outputs the contents of the buffer to a string. (At the same time, bytes will be character addresses.)",
      "nodes": {
        "BJYtXJRaR": {
          "id": "BJYtXJRaR",
          "type": "xod/patch-nodes/not-implemented-in-xod",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          }
        },
        "BkltKXJATA": {
          "label": "buffer1",
          "id": "BkltKXJATA",
          "type": "@/input-buffer1",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          }
        },
        "BJZYKQkA6C": {
          "label": "len",
          "id": "BJZYKQkA6C",
          "type": "xod/patch-nodes/input-number",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          }
        },
        "HyMKYmk06A": {
          "label": "str",
          "id": "HyMKYmk06A",
          "type": "xod/patch-nodes/output-string",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          }
        },
        "HyySIkCpA": {
          "label": "trigger",
          "id": "HyySIkCpA",
          "type": "xod/patch-nodes/input-pulse",
          "position": {
            "x": 4,
            "y": 0,
            "units": "slots"
          }
        },
        "HyvtUkRT0": {
          "label": "done",
          "id": "HyvtUkRT0",
          "type": "xod/patch-nodes/output-pulse",
          "position": {
            "x": 2,
            "y": 2,
            "units": "slots"
          }
        },
        "HJjKLJAaC": {
          "label": "ERR",
          "id": "HJjKLJAaC",
          "type": "xod/patch-nodes/output-pulse",
          "position": {
            "x": 4,
            "y": 2,
            "units": "slots"
          }
        }
      },
      "path": "@/print-char-buffer1"
    },
    "@/shift-right-buffer1": {
      "nodes": {
        "HJTRiTyRR": {
          "id": "HJTRiTyRR",
          "type": "xod/patch-nodes/not-implemented-in-xod",
          "position": {
            "x": 3,
            "y": 1,
            "units": "slots"
          }
        },
        "HyMj2TkRA": {
          "label": "buffer1",
          "id": "HyMj2TkRA",
          "type": "@/input-buffer1",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          }
        },
        "BJgzs3akR0": {
          "label": "len",
          "id": "BJgzs3akR0",
          "type": "xod/patch-nodes/input-number",
          "position": {
            "x": 4,
            "y": 0,
            "units": "slots"
          }
        },
        "SyZfjn61RA": {
          "label": "trigger",
          "id": "SyZfjn61RA",
          "type": "xod/patch-nodes/input-pulse",
          "position": {
            "x": 6,
            "y": 0,
            "units": "slots"
          }
        },
        "H117zRy0C": {
          "label": "done",
          "id": "H117zRy0C",
          "type": "xod/patch-nodes/output-pulse",
          "position": {
            "x": 2,
            "y": 2,
            "units": "slots"
          }
        },
        "BJlJmzRk00": {
          "label": "ERR",
          "id": "BJlJmzRk00",
          "type": "xod/patch-nodes/output-pulse",
          "position": {
            "x": 4,
            "y": 2,
            "units": "slots"
          }
        }
      },
      "path": "@/shift-right-buffer1",
      "description": "Shifts the contents of the buffer by a byte to the right.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "\nstruct State {\n    // не використовується\n};\n\n{{ GENERATED_CODE }}\n\nvoid evaluate(Context ctx) {\n    if (!isInputDirty<input_trigger>(ctx)) return;\n\n    // Отримуємо об'єкт буфера\n    auto _object = getValue<input_buffer1>(ctx); // буфер\n    uint16_t len = static_cast<uint16_t>(getValue<input_len>(ctx));\n\n    // Перевірка, чи існує буфер і чи є правильна довжина\n    if (!_object->buffer || len > _object->len) {\n        emitValue<output_ERR>(ctx, 1);  // видаємо помилку\n        return;\n    }\n\n    // Зсув байтів вправо\n    for (int16_t i = len - 2; i >= 0; i--) {\n        reinterpret_cast<uint8_t*>(_object->buffer)[i + 1] = reinterpret_cast<uint8_t*>(_object->buffer)[i];\n    }\n    \n    // Очищуємо перший байт\n    reinterpret_cast<uint8_t*>(_object->buffer)[0] = 0;\n\n    // Виводимо успіх\n    emitValue<output_done>(ctx, 1);\n}"
        }
      ]
    },
    "@/shift-left-buffer1": {
      "nodes": {
        "HJTRiTyRR": {
          "id": "HJTRiTyRR",
          "type": "xod/patch-nodes/not-implemented-in-xod",
          "position": {
            "x": 3,
            "y": 1,
            "units": "slots"
          }
        },
        "HyMj2TkRA": {
          "label": "buffer1",
          "id": "HyMj2TkRA",
          "type": "@/input-buffer1",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          }
        },
        "BJgzs3akR0": {
          "label": "len",
          "id": "BJgzs3akR0",
          "type": "xod/patch-nodes/input-number",
          "position": {
            "x": 4,
            "y": 0,
            "units": "slots"
          }
        },
        "SyZfjn61RA": {
          "label": "trigger",
          "id": "SyZfjn61RA",
          "type": "xod/patch-nodes/input-pulse",
          "position": {
            "x": 6,
            "y": 0,
            "units": "slots"
          }
        },
        "H117zRy0C": {
          "label": "done",
          "id": "H117zRy0C",
          "type": "xod/patch-nodes/output-pulse",
          "position": {
            "x": 2,
            "y": 2,
            "units": "slots"
          }
        },
        "BJlJmzRk00": {
          "label": "ERR",
          "id": "BJlJmzRk00",
          "type": "xod/patch-nodes/output-pulse",
          "position": {
            "x": 4,
            "y": 2,
            "units": "slots"
          }
        }
      },
      "path": "@/shift-left-buffer1",
      "description": "Shifts the contents of the buffer by a byte to the left.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "\nstruct State {\n    // не використовується\n};\n\n{{ GENERATED_CODE }}\n\nvoid evaluate(Context ctx) {\n    if (!isInputDirty<input_trigger>(ctx)) return;\n\n    // Отримуємо об'єкт буфера\n    auto _object = getValue<input_buffer1>(ctx); // буфер\n    uint16_t len = static_cast<uint16_t>(getValue<input_len>(ctx));\n\n    // Перевірка, чи існує буфер і чи є правильна довжина\n    if (!_object->buffer || len > _object->len) {\n        emitValue<output_ERR>(ctx, 1);  // видаємо помилку\n        return;\n    }\n\n    // Зсув байтів вліво\n    for (uint16_t i = 1; i < len; i++) {\n        reinterpret_cast<uint8_t*>(_object->buffer)[i - 1] = reinterpret_cast<uint8_t*>(_object->buffer)[i];\n    }\n    \n    // Очищуємо останній байт\n    reinterpret_cast<uint8_t*>(_object->buffer)[len - 1] = 0;\n\n    // Виводимо успіх\n    emitValue<output_done>(ctx, 1);\n}"
        }
      ]
    },
    "@/fill-buffer1": {
      "nodes": {
        "BJeht-xAA": {
          "id": "BJeht-xAA",
          "type": "xod/patch-nodes/not-implemented-in-xod",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          }
        },
        "rkllntWl0R": {
          "label": "buffer1",
          "id": "rkllntWl0R",
          "type": "@/input-buffer1",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          }
        },
        "HJ-ghYWeRA": {
          "label": "len",
          "id": "HJ-ghYWeRA",
          "type": "xod/patch-nodes/input-number",
          "position": {
            "x": 4,
            "y": 1,
            "units": "slots"
          }
        },
        "rkzx2YWlRR": {
          "label": "trigger",
          "id": "rkzx2YWlRR",
          "type": "xod/patch-nodes/input-pulse",
          "position": {
            "x": 6,
            "y": 1,
            "units": "slots"
          }
        },
        "Hy7x3Ybe00": {
          "label": "done",
          "id": "Hy7x3Ybe00",
          "type": "xod/patch-nodes/output-pulse",
          "position": {
            "x": 0,
            "y": 3,
            "units": "slots"
          }
        },
        "HJ4entblRR": {
          "label": "ERR",
          "id": "HJ4entblRR",
          "type": "xod/patch-nodes/output-pulse",
          "position": {
            "x": 2,
            "y": 3,
            "units": "slots"
          }
        },
        "HydjcZxC0": {
          "label": "value",
          "id": "HydjcZxC0",
          "position": {
            "x": 2,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-byte"
        }
      },
      "path": "@/fill-buffer1",
      "description": "Fills the buffer with the specified byte.\n\n",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "\nstruct State {\n    // не використовується\n};\n\n{{ GENERATED_CODE }}\n\nvoid evaluate(Context ctx) {\n    if (!isInputDirty<input_trigger>(ctx)) return;\n\n    // Отримуємо об'єкт буфера\n    auto _object = getValue<input_buffer1>(ctx); // буфер\n    uint16_t len = static_cast<uint16_t>(getValue<input_len>(ctx));\n    char value = getValue<input_value>(ctx); // char\n    // Перевірка, чи існує буфер і чи є правильна довжина\n    if (!_object->buffer || len > _object->len) {\n        emitValue<output_ERR>(ctx, 1);  // видаємо помилку\n        return;\n    }\n\n    // Зсув байтів вліво\n    for (uint16_t i = 0; i < len; i++) {\n        _object->buffer[i] = value;\n    }\n    \n   \n    // Виводимо успіх\n    emitValue<output_done>(ctx, 1);\n}"
        }
      ]
    }
  },
  "version": "0.0.1",
  "description": "Contains nodes of the awgrover/buffer1@1.0.0 library with fixes for issues that caused it not to work.\nAlso added buffer shift nodes, fill node and convert buffer content to string node.",
  "apiKey": "f1de1c4d-42b7-4367-a35d-cab0ba791f23",
  "name": "buffer1"
}
