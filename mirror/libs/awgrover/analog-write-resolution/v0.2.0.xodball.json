{
  "patches": {
    "@/analog-write-resolution": {
      "nodes": {
        "r1t0WeGq5": {
          "description": "8,10,12,14,16 bits, depending on hardware",
          "label": "BITS",
          "id": "r1t0WeGq5",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-number"
        },
        "SyAfGlM95": {
          "id": "SyAfGlM95",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "HyoPMlfc5": {
          "description": "To signal that the change has been made.\nError if board doesn't support analogWriteResolution()",
          "label": "READY",
          "id": "HyoPMlfc5",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        }
      },
      "path": "@/analog-write-resolution",
      "description": "Set the bit resolution of the PWM (analogWrite) for SAMD21 and SAMD51 boards. i.e. analogWriteResolution(). Usually  8..16 bits.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "\n\nnode {\n    //#include <Arduino.h>\n    void evaluate(Context ctx) {\n        Number bits = getValue<input_BITS>(ctx);\n        #ifdef ARDUINO_ARCH_SAMD\n        analogWriteResolution(bits);\n        emitValue<output_READY>(ctx, true);\n        #else\n        raiseError<output_READY>(Context ctx)\n        #endif\n    }\n}\n"
        }
      ]
    },
    "@/example-analog-write-resolution": {
      "nodes": {
        "BkyacxM59": {
          "boundLiterals": {
            "r1t0WeGq5": "10"
          },
          "id": "BkyacxM59",
          "position": {
            "x": -2,
            "y": 1,
            "units": "slots"
          },
          "type": "@/analog-write-resolution"
        },
        "ByJ8Rezc9": {
          "boundLiterals": {
            "B1oqkTnIb": "D13"
          },
          "id": "ByJ8Rezc9",
          "position": {
            "x": -1,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/common-hardware/led"
        },
        "SyqI-bGc5": {
          "boundLiterals": {
            "H1gboDlzOM": "0.5"
          },
          "id": "SyqI-bGc5",
          "position": {
            "x": -1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/waves/saw-wave"
        },
        "HJ_ESZf55": {
          "boundLiterals": {
            "SJ4zUC_BD1-": "0.1"
          },
          "id": "HJ_ESZf55",
          "position": {
            "x": 0,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/core/multiply"
        },
        "S1yDI-f9q": {
          "boundLiterals": {
            "ByfGSDjQE": "8"
          },
          "id": "S1yDI-f9q",
          "position": {
            "x": -2,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/debug/tweak-number"
        },
        "SyT-5WMq5": {
          "id": "SyT-5WMq5",
          "position": {
            "x": 3,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "B1b3qWzcq": {
          "id": "B1b3qWzcq",
          "position": {
            "x": 3,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/core/count"
        },
        "rJQQoWzqc": {
          "id": "rJQQoWzqc",
          "position": {
            "x": 0,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "S1gQ7iZf5q": {
          "id": "S1gQ7iZf5q",
          "position": {
            "x": -1,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/core/has-error"
        },
        "B1DD1GGcq": {
          "boundLiterals": {
            "ByfGSDjQE": "0.2"
          },
          "id": "B1DD1GGcq",
          "position": {
            "x": 5,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/debug/tweak-number"
        },
        "SkQomMz9c": {
          "id": "SkQomMz9c",
          "position": {
            "x": -3,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "Bye7oXfGqc": {
          "id": "Bye7oXfGqc",
          "position": {
            "x": -4,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/core/has-error"
        },
        "Sk-68fMq9": {
          "boundLiterals": {
            "ByfGSDjQE": "0.5"
          },
          "id": "Sk-68fMq9",
          "position": {
            "x": 6,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/debug/tweak-number"
        }
      },
      "links": {
        "Hynub-fq9": {
          "id": "Hynub-fq9",
          "input": {
            "nodeId": "SyqI-bGc5",
            "pinKey": "rkSWsDxz_G"
          },
          "output": {
            "nodeId": "BkyacxM59",
            "pinKey": "HyoPMlfc5"
          }
        },
        "Hk1rS-Mq9": {
          "id": "Hk1rS-Mq9",
          "input": {
            "nodeId": "HJ_ESZf55",
            "pinKey": "B1GfLR_SPk-"
          },
          "output": {
            "nodeId": "SyqI-bGc5",
            "pinKey": "SkZowlzOM"
          }
        },
        "HJrBrZG5q": {
          "id": "HJrBrZG5q",
          "input": {
            "nodeId": "ByJ8Rezc9",
            "pinKey": "HyYh1a3LZ"
          },
          "output": {
            "nodeId": "HJ_ESZf55",
            "pinKey": "BkQzLCurwJZ"
          }
        },
        "SJFDUZzcc": {
          "id": "SJFDUZzcc",
          "input": {
            "nodeId": "BkyacxM59",
            "pinKey": "r1t0WeGq5"
          },
          "output": {
            "nodeId": "S1yDI-f9q",
            "pinKey": "ByfGSDjQE"
          }
        },
        "BkPpqbM59": {
          "id": "BkPpqbM59",
          "input": {
            "nodeId": "B1b3qWzcq",
            "pinKey": "HJAq-A_8-"
          },
          "output": {
            "nodeId": "ByJ8Rezc9",
            "pinKey": "rJxhvs_Lx7"
          }
        },
        "SJFTcbfcc": {
          "id": "SJFTcbfcc",
          "input": {
            "nodeId": "SyT-5WMq5",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "B1b3qWzcq",
            "pinKey": "r1yhZRd8W"
          }
        },
        "rJZm7sWGqc": {
          "id": "rJZm7sWGqc",
          "input": {
            "nodeId": "rJQQoWzqc",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "S1gQ7iZf5q",
            "pinKey": "rJagQXblS"
          }
        },
        "BywmiZf9c": {
          "id": "BywmiZf9c",
          "input": {
            "nodeId": "S1gQ7iZf5q",
            "pinKey": "Hygwgm7Wgr"
          },
          "output": {
            "nodeId": "ByJ8Rezc9",
            "pinKey": "rJxhvs_Lx7"
          }
        },
        "SyTP1zM95": {
          "id": "SyTP1zM95",
          "input": {
            "nodeId": "HJ_ESZf55",
            "pinKey": "SJ4zUC_BD1-"
          },
          "output": {
            "nodeId": "B1DD1GGcq",
            "pinKey": "ByfGSDjQE"
          }
        },
        "B1WmoQGMcc": {
          "id": "B1WmoQGMcc",
          "input": {
            "nodeId": "SkQomMz9c",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "Bye7oXfGqc",
            "pinKey": "rJagQXblS"
          }
        },
        "SJus7Mfq9": {
          "id": "SJus7Mfq9",
          "input": {
            "nodeId": "Bye7oXfGqc",
            "pinKey": "Hygwgm7Wgr"
          },
          "output": {
            "nodeId": "BkyacxM59",
            "pinKey": "HyoPMlfc5"
          }
        },
        "HyrpUGz59": {
          "id": "HyrpUGz59",
          "input": {
            "nodeId": "SyqI-bGc5",
            "pinKey": "H1gboDlzOM"
          },
          "output": {
            "nodeId": "Sk-68fMq9",
            "pinKey": "ByfGSDjQE"
          }
        }
      },
      "comments": {
        "HyXKxMz5q": {
          "content": "<- Start with 8 bits\nand 0.2 multiply ->\n\nShould see lowest value on built-in LED\n\n<- Then try 14\nand 0.4 ->\nLED should be a LOT dimmer.\nLook closely!",
          "id": "HyXKxMz5q",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "size": {
            "height": 2,
            "width": 5,
            "units": "slots"
          }
        },
        "rJ-JZzz95": {
          "content": "Only for SAMD21 and SAMD51 based boards.\n\n\"Upload And Debug\"\nIf the \"count\" \"watch\" node doesn't show anything:\n1. Wait 30 seconds\n2. If still not \"watch\"ing, \"Upload and debug\" a second time.",
          "id": "rJ-JZzz95",
          "position": {
            "x": -11,
            "y": 0,
            "units": "slots"
          },
          "size": {
            "height": 2,
            "width": 6,
            "units": "slots"
          }
        },
        "rkorXff95": {
          "content": "<- \"debug\" is working when this starts counting",
          "id": "rkorXff95",
          "position": {
            "x": 5,
            "y": 5,
            "units": "slots"
          },
          "size": {
            "height": 1,
            "width": 4,
            "units": "slots"
          }
        },
        "HJVOQGGcq": {
          "content": "Should be false ->\nIf true, then there was an error, probably serial-write-resolution() is not supported for this board.",
          "id": "HJVOQGGcq",
          "position": {
            "x": -6,
            "y": 5,
            "units": "slots"
          },
          "size": {
            "height": 2,
            "width": 5,
            "units": "slots"
          }
        },
        "SkQ3XGM99": {
          "content": "Change the \"bits\" above, and:\nShould be false ->\nIf true, then serial-write-resolution() is not supported for this board.",
          "id": "SkQ3XGM99",
          "position": {
            "x": -11,
            "y": 3,
            "units": "slots"
          },
          "size": {
            "height": 2,
            "width": 6,
            "units": "slots"
          }
        },
        "SylHEGz95": {
          "content": "Test analog-write-resolution.\nBy inspection of brightness of builtin-led.\nIf builtin-led is not PWM, attach external LED and adjust the led-port.",
          "id": "SylHEGz95",
          "position": {
            "x": -9,
            "y": -1,
            "units": "slots"
          },
          "size": {
            "height": 1,
            "width": 13,
            "units": "slots"
          }
        },
        "ByopEfM9q": {
          "content": "Here's where to set the LED port for an external LED. Use a PWM port. \"D13\" is usually the built-in LED, which is often PWM on SAMD boards.",
          "id": "ByopEfM9q",
          "position": {
            "x": -10,
            "y": 4,
            "units": "slots"
          },
          "size": {
            "height": 1,
            "width": 9,
            "units": "slots"
          }
        },
        "SyyLHzMc9": {
          "content": "<- Edit these WHILE it is running",
          "id": "SyyLHzMc9",
          "position": {
            "x": 7,
            "y": 0,
            "units": "slots"
          },
          "size": {
            "height": 1,
            "width": 6,
            "units": "slots"
          }
        }
      },
      "path": "@/example-analog-write-resolution",
      "description": "Example showing bit-resolution on an LED.\nRead the comments for instructions."
    }
  },
  "license": "GPLv3",
  "version": "0.2.0",
  "description": "Set the bit resolution of the PWM (analogWrite) for SAMD21 and SAMD51 boards. i.e. analogWriteResolution(). Usually  8..16 bits.",
  "name": "analog-write-resolution"
}
