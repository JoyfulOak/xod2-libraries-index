{
  "patches": {
    "@/0-example": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "B10DiST4B": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "B10DiST4B",
          "position": {
            "x": 0,
            "y": 5
          },
          "type": "@/number-value",
          "@@type": "xod-project/Node"
        },
        "B135sBpVS": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "height": 1,
            "width": 3
          },
          "id": "B135sBpVS",
          "position": {
            "x": 4,
            "y": 7
          },
          "type": "xod/debug/watch",
          "@@type": "xod-project/Node"
        },
        "B1CYsHa4r": {
          "boundLiterals": {
            "rJzURVyXB": "1"
          },
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "B1CYsHa4r",
          "position": {
            "x": 4,
            "y": 5
          },
          "type": "@/nth",
          "@@type": "xod-project/Node"
        },
        "H18sqBaVH": {
          "boundLiterals": {
            "B1x2RV3eZ": "\"{\"name\": \"Peter\", \"age\": 20, \"pets\": [\"turtle\", \"snail\"]}\""
          },
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "height": 1,
            "width": 8
          },
          "id": "H18sqBaVH",
          "position": {
            "x": 3,
            "y": 1
          },
          "type": "xod/core/constant-string",
          "@@type": "xod-project/Node"
        },
        "H1N_iST4r": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "height": 1,
            "width": 2
          },
          "id": "H1N_iST4r",
          "position": {
            "x": 0,
            "y": 6
          },
          "type": "xod/debug/watch",
          "@@type": "xod-project/Node"
        },
        "HkZhcHp4H": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "HkZhcHp4H",
          "position": {
            "x": 3,
            "y": 3
          },
          "type": "@/parse-json",
          "@@type": "xod-project/Node"
        },
        "SyHwoSpNB": {
          "boundLiterals": {
            "rJ9H3vXzB": "\"age\""
          },
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SyHwoSpNB",
          "position": {
            "x": 0,
            "y": 4
          },
          "type": "@/key",
          "@@type": "xod-project/Node"
        },
        "r1JYiSTNS": {
          "boundLiterals": {
            "rJ9H3vXzB": "\"pets\""
          },
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "r1JYiSTNS",
          "position": {
            "x": 4,
            "y": 4
          },
          "type": "@/key",
          "@@type": "xod-project/Node"
        },
        "r1w5iHp4S": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "r1w5iHp4S",
          "position": {
            "x": 4,
            "y": 6
          },
          "type": "@/string-value",
          "@@type": "xod-project/Node"
        },
        "rypqqS6Nr": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "rypqqS6Nr",
          "position": {
            "x": 3,
            "y": 2
          },
          "type": "xod/debug/stream-string",
          "@@type": "xod-project/Node"
        }
      },
      "links": {
        "B1McsrpNH": {
          "id": "B1McsrpNH",
          "input": {
            "nodeId": "B1CYsHa4r",
            "pinKey": "SyEqH0Ekmr"
          },
          "output": {
            "nodeId": "r1JYiSTNS",
            "pinKey": "r1K88EhMH"
          },
          "@@type": "xod-project/Link"
        },
        "B1c5sBT4B": {
          "id": "B1c5sBT4B",
          "input": {
            "nodeId": "r1w5iHp4S",
            "pinKey": "Hkx8Kr71QB"
          },
          "output": {
            "nodeId": "B1CYsHa4r",
            "pinKey": "H1G9H0VkXS"
          },
          "@@type": "xod-project/Link"
        },
        "BkGn5B6Er": {
          "id": "BkGn5B6Er",
          "input": {
            "nodeId": "HkZhcHp4H",
            "pinKey": "B10fvZPMS"
          },
          "output": {
            "nodeId": "rypqqS6Nr",
            "pinKey": "ry2m6-Uzr"
          },
          "@@type": "xod-project/Link"
        },
        "BkfKor6NH": {
          "id": "BkfKor6NH",
          "input": {
            "nodeId": "r1JYiSTNS",
            "pinKey": "rkoS8V3GH"
          },
          "output": {
            "nodeId": "HkZhcHp4H",
            "pinKey": "SyzAfvbwGr"
          },
          "@@type": "xod-project/Link"
        },
        "H1CciHaVS": {
          "id": "H1CciHaVS",
          "input": {
            "nodeId": "B135sBpVS",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "r1w5iHp4S",
            "pinKey": "r1427mJQr"
          },
          "@@type": "xod-project/Link"
        },
        "H1IvjrpEr": {
          "id": "H1IvjrpEr",
          "input": {
            "nodeId": "SyHwoSpNB",
            "pinKey": "H1VrIE3fB"
          },
          "output": {
            "nodeId": "HkZhcHp4H",
            "pinKey": "Sy0WvbPzr"
          },
          "@@type": "xod-project/Link"
        },
        "H1busrTES": {
          "id": "H1busrTES",
          "input": {
            "nodeId": "B10DiST4B",
            "pinKey": "B12D9AOQr"
          },
          "output": {
            "nodeId": "SyHwoSpNB",
            "pinKey": "r1K88EhMH"
          },
          "@@type": "xod-project/Link"
        },
        "HJ-KoraEB": {
          "id": "HJ-KoraEB",
          "input": {
            "nodeId": "r1JYiSTNS",
            "pinKey": "H1VrIE3fB"
          },
          "output": {
            "nodeId": "HkZhcHp4H",
            "pinKey": "Sy0WvbPzr"
          },
          "@@type": "xod-project/Link"
        },
        "HJb5jST4H": {
          "id": "HJb5jST4H",
          "input": {
            "nodeId": "B1CYsHa4r",
            "pinKey": "SJ5BCV1QH"
          },
          "output": {
            "nodeId": "r1JYiSTNS",
            "pinKey": "H1eLIEhGH"
          },
          "@@type": "xod-project/Link"
        },
        "HkSujHaNB": {
          "id": "HkSujHaNB",
          "input": {
            "nodeId": "H1N_iST4r",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "B10DiST4B",
            "pinKey": "B15ucAdQB"
          },
          "@@type": "xod-project/Link"
        },
        "Hy0iqBTNH": {
          "id": "Hy0iqBTNH",
          "input": {
            "nodeId": "rypqqS6Nr",
            "pinKey": "ryT-aWIfS"
          },
          "output": {
            "nodeId": "H18sqBaVH",
            "pinKey": "B1x2RV3eZ"
          },
          "@@type": "xod-project/Link"
        },
        "S1dqjHaEH": {
          "id": "S1dqjHaEH",
          "input": {
            "nodeId": "r1w5iHp4S",
            "pinKey": "HyLKSQ1Qr"
          },
          "output": {
            "nodeId": "B1CYsHa4r",
            "pinKey": "SJgqHCEkXB"
          },
          "@@type": "xod-project/Link"
        },
        "SyX2cHTEr": {
          "id": "SyX2cHTEr",
          "input": {
            "nodeId": "HkZhcHp4H",
            "pinKey": "HyeAGPWPMH"
          },
          "output": {
            "nodeId": "rypqqS6Nr",
            "pinKey": "HyvQ6ZIMH"
          },
          "@@type": "xod-project/Link"
        },
        "r1x_iS6VS": {
          "id": "r1x_iS6VS",
          "input": {
            "nodeId": "B10DiST4B",
            "pinKey": "r1xnv90_7S"
          },
          "output": {
            "nodeId": "SyHwoSpNB",
            "pinKey": "H1eLIEhGH"
          },
          "@@type": "xod-project/Link"
        },
        "rJvPsBTNB": {
          "id": "rJvPsBTNB",
          "input": {
            "nodeId": "SyHwoSpNB",
            "pinKey": "rkoS8V3GH"
          },
          "output": {
            "nodeId": "HkZhcHp4H",
            "pinKey": "SyzAfvbwGr"
          },
          "@@type": "xod-project/Link"
        }
      },
      "comments": {
        "B1nTX_aEB": {
          "content": "Usually you will receive such stream of characters as an [HTTP response](https://xod.io/docs/guide/http-get/).\nBut in this example we're faking it with a special utility node.\n",
          "id": "B1nTX_aEB",
          "position": {
            "x": 5,
            "y": 2
          },
          "size": {
            "height": 1,
            "width": 12
          }
        }
      },
      "path": "@/0-example",
      "description": "",
      "attachments": []
    },
    "@/boolean-value": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "BJeLqCu7S": {
          "boundLiterals": {},
          "description": "Process the incoming parsed chunk",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "BJeLqCu7S",
          "position": {
            "x": 2,
            "y": 0
          },
          "type": "xod/patch-nodes/input-pulse",
          "@@type": "xod-project/Node"
        },
        "Hk7g8qCdQH": {
          "boundLiterals": {},
          "description": "Pulses when a value is sucessfully extracted from parsed chunks",
          "label": "DONE",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "Hk7g8qCdQH",
          "position": {
            "x": 2,
            "y": 2
          },
          "type": "xod/patch-nodes/output-pulse",
          "@@type": "xod-project/Node"
        },
        "HkEeLqCOmS": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "HkEeLqCOmS",
          "position": {
            "x": 0,
            "y": 1
          },
          "type": "xod/patch-nodes/not-implemented-in-xod",
          "@@type": "xod-project/Node"
        },
        "SJxlU9R_7B": {
          "boundLiterals": {},
          "description": "Parsed chunk of a JSON document",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SJxlU9R_7B",
          "position": {
            "x": 0,
            "y": 0
          },
          "type": "@/input-parsed-json-chunk",
          "@@type": "xod-project/Node"
        },
        "SkTI90_7S": {
          "boundLiterals": {},
          "description": "Extracted value",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SkTI90_7S",
          "position": {
            "x": 0,
            "y": 2
          },
          "type": "xod/patch-nodes/output-boolean",
          "@@type": "xod-project/Node"
        }
      },
      "links": {},
      "comments": {},
      "path": "@/boolean-value",
      "description": "Extracts a boolean from a JSON stream",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_IN2\n\nnodespace {\n    using ParserState = xod::json_parser::ParserState;\n}\n\nnode {\n    ParserState prevParsedState;\n\n    void evaluate(Context ctx) {\n        if (!isInputDirty<input_IN2>(ctx)) return;\n\n        auto parsed = getValue<input_IN1>(ctx);\n\n        if (parsed.state != prevParsedState) {\n            if (prevParsedState == ParserState::IN_TRUE) {\n                emitValue<output_OUT>(ctx, true);\n                emitValue<output_DONE>(ctx, 1);\n            } else if (prevParsedState == ParserState::IN_FALSE) {\n                emitValue<output_OUT>(ctx, false);\n                emitValue<output_DONE>(ctx, 1);\n            }\n        }\n\n        prevParsedState = parsed.state;\n    }\n}\n"
        }
      ]
    },
    "@/key": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "H1VrIE3fB": {
          "boundLiterals": {},
          "description": "Parsed chunk of a JSON document",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "H1VrIE3fB",
          "position": {
            "x": 3,
            "y": 0
          },
          "type": "@/input-parsed-json-chunk",
          "@@type": "xod-project/Node"
        },
        "H1eLIEhGH": {
          "boundLiterals": {},
          "description": "Parsed chunk of an extracted value",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "H1eLIEhGH",
          "position": {
            "x": 3,
            "y": 2
          },
          "type": "@/output-parsed-json-chunk",
          "@@type": "xod-project/Node"
        },
        "SyHwIVnGS": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SyHwIVnGS",
          "position": {
            "x": 3,
            "y": 1
          },
          "type": "xod/patch-nodes/not-implemented-in-xod",
          "@@type": "xod-project/Node"
        },
        "r1K88EhMH": {
          "boundLiterals": {},
          "description": "Pulses when a new parsed chunk is produced",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "r1K88EhMH",
          "position": {
            "x": 5,
            "y": 2
          },
          "type": "xod/patch-nodes/output-pulse",
          "@@type": "xod-project/Node"
        },
        "rJ9H3vXzB": {
          "boundLiterals": {},
          "description": "Key name",
          "label": "NAME",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "rJ9H3vXzB",
          "position": {
            "x": 1,
            "y": 0
          },
          "type": "xod/patch-nodes/input-string",
          "@@type": "xod-project/Node"
        },
        "rkoS8V3GH": {
          "boundLiterals": {},
          "description": "Process the incoming parsed chunk",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "rkoS8V3GH",
          "position": {
            "x": 5,
            "y": 0
          },
          "type": "xod/patch-nodes/input-pulse",
          "@@type": "xod-project/Node"
        }
      },
      "links": {},
      "comments": {},
      "path": "@/key",
      "description": "Extracts a value from an object in a JSON stream",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_IN2\n\nnodespace {\n    using ParserState = xod::json_parser::ParserState;\n\n    enum Mode : uint8_t { waitingForKey, matchingKey, passingValue };\n}\n\nnode {\n    Iterator<char> searchedKeyIt = Iterator<char>::nil();\n    Mode mode = waitingForKey;\n    ParserState prevParsedState;\n    uint16_t depth = 0;\n    bool wasFound = false;\n\n    void evaluate(Context ctx) {\n        if (!isInputDirty<input_IN2>(ctx)) return;\n\n        auto parsed = getValue<input_IN1>(ctx);\n\n        if (parsed.state == ParserState::START_OBJECT || parsed.state == ParserState::START_ARRAY)\n            depth++;\n\n        bool shouldDecreaseDepth = parsed.state == ParserState::AFTER_OBJECT || parsed.state == ParserState::AFTER_ARRAY || parsed.state == ParserState::DONE;\n        // trailing ']' and '}' that are passed to indicate end of the value should not decrease depth\n        if (shouldDecreaseDepth && depth > 0)\n            depth--;\n\n        switch (mode) {\n            case waitingForKey: {\n                bool expectingAKey = prevParsedState == ParserState::START_OBJECT ||\n                                     prevParsedState == ParserState::IN_OBJECT ||\n                                     prevParsedState == ParserState::AFTER_VALUE;\n                if (depth == 1 && expectingAKey && parsed.state == ParserState::IN_STRING) {\n                    auto keyNameStr = getValue<input_NAME>(ctx);\n                    searchedKeyIt = keyNameStr.iterate();\n                    mode = matchingKey;\n                    // the first char of a key is a '\"'. we don't need it, so just get ready for the next character\n                }\n                break;\n            }\n            case matchingKey: {\n                // matched the searched key\n                if (!searchedKeyIt && parsed.state == ParserState::END_KEY) {\n                    mode = passingValue;\n                    wasFound = true;\n                    break;\n                }\n\n                bool oneOfComparedStringsHasEnded = !searchedKeyIt || parsed.state == ParserState::AFTER_KEY;\n                if (oneOfComparedStringsHasEnded || *searchedKeyIt != parsed.character) {\n                    mode = waitingForKey;\n                    break;\n                }\n\n                ++(searchedKeyIt);\n                break;\n            }\n            case passingValue: {\n                // skipping delimiter between key and value,\n                // waiting for a value to start\n                if (parsed.state == ParserState::AFTER_KEY) break;\n\n                bool valueEnded = depth <= 1 && (parsed.state == ParserState::IN_OBJECT || parsed.state == ParserState::AFTER_ARRAY || parsed.state == ParserState::AFTER_OBJECT);\n                if (valueEnded || parsed.state == ParserState::DONE) {\n                    mode = waitingForKey;\n                }\n\n                emitValue<output_OUT1>(ctx, parsed);\n                emitValue<output_OUT2>(ctx, true);\n                break;\n            }\n        }\n\n        // reached the end of object\n        if (depth == 0 && (parsed.state == ParserState::AFTER_OBJECT || parsed.state == ParserState::DONE)) {\n            if (!wasFound) raiseError(ctx);\n\n            wasFound = false;\n        }\n\n        prevParsedState = parsed.state;\n    }\n}\n"
        }
      ]
    },
    "@/nth": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "H1G9H0VkXS": {
          "boundLiterals": {},
          "description": "Pulses when a new parsed chunk is produced",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "H1G9H0VkXS",
          "position": {
            "x": 4,
            "y": 2
          },
          "type": "xod/patch-nodes/output-pulse",
          "@@type": "xod-project/Node"
        },
        "SJ5BCV1QH": {
          "boundLiterals": {},
          "description": "Parsed chunk of a JSON document",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SJ5BCV1QH",
          "position": {
            "x": 2,
            "y": 0
          },
          "type": "@/input-parsed-json-chunk",
          "@@type": "xod-project/Node"
        },
        "SJW9S0E17B": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SJW9S0E17B",
          "position": {
            "x": 2,
            "y": 1
          },
          "type": "xod/patch-nodes/not-implemented-in-xod",
          "@@type": "xod-project/Node"
        },
        "SJgqHCEkXB": {
          "boundLiterals": {},
          "description": "Parsed chunk of an extracted value",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SJgqHCEkXB",
          "position": {
            "x": 2,
            "y": 2
          },
          "type": "@/output-parsed-json-chunk",
          "@@type": "xod-project/Node"
        },
        "SyEqH0Ekmr": {
          "boundLiterals": {},
          "description": "Process the incoming parsed chunk",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SyEqH0Ekmr",
          "position": {
            "x": 4,
            "y": 0
          },
          "type": "xod/patch-nodes/input-pulse",
          "@@type": "xod-project/Node"
        },
        "rJzURVyXB": {
          "boundLiterals": {},
          "description": "Element index",
          "label": "N",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "rJzURVyXB",
          "position": {
            "x": 0,
            "y": 0
          },
          "type": "xod/patch-nodes/input-number",
          "@@type": "xod-project/Node"
        }
      },
      "links": {},
      "comments": {},
      "path": "@/nth",
      "description": "Extracts element with a given index from an array in a JSON stream",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_IN2\n\nnodespace {\n    using ParserState = xod::json_parser::ParserState;\n}\n\nnode {\n    uint16_t depth = 0;\n    uint16_t currentIndex = 0;\n\n    void evaluate(Context ctx) {\n        if (!isInputDirty<input_IN2>(ctx)) return;\n\n        auto desiredIndex = getValue<input_N>(ctx);\n        auto parsed = getValue<input_IN1>(ctx);\n\n        if (parsed.state == ParserState::START_ARRAY && depth == 0)\n            currentIndex = 0;\n\n        if (parsed.state == ParserState::START_OBJECT || parsed.state == ParserState::START_ARRAY)\n            depth++;\n\n        bool shouldDecreaseDepth = parsed.state == ParserState::AFTER_OBJECT || parsed.state == ParserState::AFTER_ARRAY || parsed.state == ParserState::DONE;\n        // trailing ']' and '}' that are passed to indicate end of the value should not decrease depth\n        if (shouldDecreaseDepth && depth > 0)\n            depth--;\n\n        // do not pass opening '['\n        if (parsed.state == ParserState::START_ARRAY && depth == 1)\n            return;\n\n        if (desiredIndex == currentIndex) {\n            emitValue<output_OUT1>(ctx, parsed);\n            emitValue<output_OUT2>(ctx, true);\n        }\n\n        bool valueHasEnded = depth == 1 && parsed.state == ParserState::IN_ARRAY;\n        bool arrayHasEnded = depth == 0 && parsed.state == ParserState::AFTER_ARRAY;\n        if (valueHasEnded || arrayHasEnded) {\n            currentIndex++;\n            return;\n        }\n    }\n}\n"
        }
      ]
    },
    "@/number-value": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "B12D9AOQr": {
          "boundLiterals": {},
          "description": "Process the incoming parsed chunk",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "B12D9AOQr",
          "position": {
            "x": 2,
            "y": 0
          },
          "type": "xod/patch-nodes/input-pulse",
          "@@type": "xod-project/Node"
        },
        "B15ucAdQB": {
          "boundLiterals": {},
          "description": "Extracted value",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "B15ucAdQB",
          "position": {
            "x": 0,
            "y": 2
          },
          "type": "xod/patch-nodes/output-number",
          "@@type": "xod-project/Node"
        },
        "H1G2P9AOQH": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "H1G2P9AOQH",
          "position": {
            "x": 0,
            "y": 1
          },
          "type": "xod/patch-nodes/not-implemented-in-xod",
          "@@type": "xod-project/Node"
        },
        "HJZhwqCO7S": {
          "boundLiterals": {},
          "description": "Pulses when a value is sucessfully extracted from parsed chunks",
          "label": "DONE",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "HJZhwqCO7S",
          "position": {
            "x": 2,
            "y": 2
          },
          "type": "xod/patch-nodes/output-pulse",
          "@@type": "xod-project/Node"
        },
        "r1xnv90_7S": {
          "boundLiterals": {},
          "description": "Parsed chunk of a JSON document",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "r1xnv90_7S",
          "position": {
            "x": 0,
            "y": 0
          },
          "type": "@/input-parsed-json-chunk",
          "@@type": "xod-project/Node"
        }
      },
      "links": {},
      "comments": {},
      "path": "@/number-value",
      "description": "Extracts a number from a JSON stream",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_IN2\n\nnodespace {\n    using ParserState = xod::json_parser::ParserState;\n}\n\nnode {\n    uint32_t integerResult = 0;\n    uint32_t divider = 1;\n    int8_t sign = 1;\n    bool isParsingDecimalPart = false;\n    ParserState prevParsedState;\n\n    void evaluate(Context ctx) {\n        auto parsed = getValue<input_IN1>(ctx);\n\n        if (!isInputDirty<input_IN2>(ctx)) return;\n\n        if (parsed.state == ParserState::IN_NUMBER) {\n            if (parsed.character == '-') {\n               sign = -1;\n            } else if (parsed.character == '.') {\n                isParsingDecimalPart = true;\n            } else if (parsed.character >= '0' && parsed.character <= '9') {\n                integerResult *= 10;\n                integerResult += parsed.character - '0';\n\n                if (isParsingDecimalPart)\n                    divider *= 10;\n            }\n        } else if (prevParsedState == ParserState::IN_NUMBER) {\n            Number result = (Number)integerResult / (Number)divider * (Number)sign;\n            emitValue<output_OUT>(ctx, result);\n            emitValue<output_DONE>(ctx, 1);\n\n            integerResult = 0;\n            divider = 1;\n            sign = 1;\n            isParsingDecimalPart = false;\n        }\n\n        prevParsedState = parsed.state;\n    }\n}\n"
        }
      ]
    },
    "@/parse-json": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "B10fvZPMS": {
          "boundLiterals": {},
          "description": "The character of a JSON document",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "B10fvZPMS",
          "position": {
            "x": 1,
            "y": 0
          },
          "type": "xod/patch-nodes/input-byte",
          "@@type": "xod-project/Node"
        },
        "HJtmwbPfr": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "HJtmwbPfr",
          "position": {
            "x": 1,
            "y": 1
          },
          "type": "xod/patch-nodes/not-implemented-in-xod",
          "@@type": "xod-project/Node"
        },
        "HyeAGPWPMH": {
          "boundLiterals": {},
          "description": "Process a character of a JSON document",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "HyeAGPWPMH",
          "position": {
            "x": 3,
            "y": 0
          },
          "type": "xod/patch-nodes/input-pulse",
          "@@type": "xod-project/Node"
        },
        "SkQL-Vl4r": {
          "boundLiterals": {},
          "description": "Resets the parser to start a new document",
          "label": "RST",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SkQL-Vl4r",
          "position": {
            "x": 5,
            "y": 0
          },
          "type": "xod/patch-nodes/input-pulse",
          "@@type": "xod-project/Node"
        },
        "Sy0WvbPzr": {
          "boundLiterals": {},
          "description": "Parsed chunk of a JSON document",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "Sy0WvbPzr",
          "position": {
            "x": 1,
            "y": 2
          },
          "type": "@/output-parsed-json-chunk",
          "@@type": "xod-project/Node"
        },
        "SyzAfvbwGr": {
          "boundLiterals": {},
          "description": "Pulses when a new parsed chunk is produced",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SyzAfvbwGr",
          "position": {
            "x": 3,
            "y": 2
          },
          "type": "xod/patch-nodes/output-pulse",
          "@@type": "xod-project/Node"
        }
      },
      "links": {},
      "comments": {},
      "path": "@/parse-json",
      "description": "Parses a stream of characters that represent a JSON document.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "// we only use buffer to validate numbers, booleans and `null`\n#define BUFFER_MAX_LENGTH 16\n\nnodespace {\n    using ParserState = xod::json_parser::ParserState;\n\n    enum class StackItem : uint8_t {\n      OBJECT = 0,\n      ARRAY = 1,\n      KEY = 2,\n      STRING = 3\n    };\n\n    bool isFirstCharInNumber(char c) {\n        return (c >= '0' && c <= '9') || c == '-';\n    }\n}\n\nnode {\n    ParserState parserState;\n    StackItem stack[20];\n    int stackPos = 0;\n\n    bool doEmitWhitespace = false;\n    char buffer[BUFFER_MAX_LENGTH];\n    int bufferPos = 0;\n\n    bool hasError = false;\n\n    void reset() {\n        parserState = ParserState::START_DOCUMENT;\n        bufferPos = 0;\n    }\n\n    void raiseErrorUntilReset(Context ctx) {\n      hasError = true;\n      raiseError(ctx);\n    }\n\n    void parse(Context ctx, char c) {\n        // valid whitespace characters in JSON (from RFC4627 for JSON) include:\n        // space, horizontal tab, line feed or new line, and carriage return.\n        // thanks:\n        // http://stackoverflow.com/questions/16042274/definition-of-whitespace-in-json\n        if ((c == ' ' || c == '\\t' || c == '\\n' || c == '\\r')\n            && !(parserState == ParserState::IN_STRING || parserState == ParserState::START_ESCAPE\n                || parserState == ParserState::IN_NUMBER || parserState == ParserState::START_DOCUMENT)) {\n          return;\n        }\n        switch (parserState) {\n        case ParserState::IN_STRING:\n          if (c == '\"') {\n            endString(ctx);\n          } else if (c == '\\\\') {\n            parserState = ParserState::START_ESCAPE;\n          } else if ((c < 0x1f) || (c == 0x7f)) {\n              // Unescaped control character encountered\n              raiseErrorUntilReset(ctx);\n          } else {\n            buffer[bufferPos] = c;\n            increaseBufferPointer();\n          }\n          break;\n        case ParserState::START_ARRAY:\n        case ParserState::IN_ARRAY:\n          if (c == ']') {\n            endArray(ctx);\n          } else {\n            startValue(ctx, c);\n          }\n          break;\n        case ParserState::START_OBJECT:\n        case ParserState::IN_OBJECT:\n          if (c == '}') {\n            endObject(ctx);\n          } else if (c == '\"') {\n            startKey();\n          } else {\n              // Start of string expected for object key\n              raiseErrorUntilReset(ctx);\n          }\n          break;\n        case ParserState::END_KEY:\n          if (c != ':') {\n              // Expected ':' after key\n              raiseErrorUntilReset(ctx);\n          }\n          parserState = ParserState::AFTER_KEY;\n          break;\n        case ParserState::AFTER_KEY:\n          startValue(ctx, c);\n          break;\n        case ParserState::START_ESCAPE:\n          processEscapeCharacters(ctx, c);\n          break;\n        case ParserState::AFTER_ARRAY:\n        case ParserState::AFTER_OBJECT:\n        case ParserState::AFTER_VALUE: {\n          // not safe for size == 0!!!\n          StackItem within = stack[stackPos - 1];\n          if (within == StackItem::OBJECT) {\n            if (c == '}') {\n              endObject(ctx);\n            } else if (c == ',') {\n              parserState = ParserState::IN_OBJECT;\n            } else {\n                // Expected ',' or '}' while parsing object\n                raiseErrorUntilReset(ctx);\n            }\n          } else if (within == StackItem::ARRAY) {\n            if (c == ']') {\n              endArray(ctx);\n            } else if (c == ',') {\n              parserState = ParserState::IN_ARRAY;\n            } else {\n                // Expected ',' or ']' while parsing array\n                raiseErrorUntilReset(ctx);\n            }\n          } else {\n              // Finished a literal, but unclear what state to move to\n              raiseErrorUntilReset(ctx);\n          }\n        }break;\n        case ParserState::IN_NUMBER:\n          if (c >= '0' && c <= '9') {\n            buffer[bufferPos] = c;\n            increaseBufferPointer();\n          } else if (c == '.') {\n            if (memchr(buffer, '.', bufferPos)) {\n              /// Cannot have multiple decimal points in a number\n              raiseErrorUntilReset(ctx);\n            } else if (memchr(buffer, 'e', bufferPos)) {\n              // Cannot have a decimal point in an exponent\n              raiseErrorUntilReset(ctx);\n            }\n            buffer[bufferPos] = c;\n            increaseBufferPointer();\n          } else if (c == 'e' || c == 'E') {\n            if (memchr(buffer, 'e', bufferPos)) {\n              // Cannot have multiple exponents in a number\n              raiseErrorUntilReset(ctx);\n            }\n            buffer[bufferPos] = 'e';\n            increaseBufferPointer();\n          } else if (c == '+' || c == '-') {\n            char last = buffer[bufferPos - 1];\n            if (last != 'e') {\n              // Can only have '+' or '-' after the 'e' in a number.\n              raiseErrorUntilReset(ctx);\n            }\n            buffer[bufferPos] = c;\n            increaseBufferPointer();\n          } else {\n            endNumber();\n            // we have consumed one beyond the end of the number\n            parse(ctx, c);\n          }\n          break;\n        case ParserState::IN_TRUE:\n          buffer[bufferPos] = c;\n          increaseBufferPointer();\n          if (bufferPos == 4) {\n            endTrue(ctx);\n          }\n          break;\n        case ParserState::IN_FALSE:\n          buffer[bufferPos] = c;\n          increaseBufferPointer();\n          if (bufferPos == 5) {\n            endFalse(ctx);\n          }\n          break;\n        case ParserState::IN_NULL:\n          buffer[bufferPos] = c;\n          increaseBufferPointer();\n          if (bufferPos == 4) {\n            endNull(ctx);\n          }\n          break;\n        case ParserState::START_DOCUMENT:\n          if (c == '[') {\n            startArray();\n          } else if (c == '{') {\n            startObject();\n          } else {\n            // Document must start with object or array.\n            // Questionable, but it conforms to https://tools.ietf.org/html/rfc4627\n            // which says \"A JSON text is a serialized object or array.\"\n            raiseErrorUntilReset(ctx);\n          }\n          break;\n        case ParserState::DONE:\n          // Expected end of document\n          raiseErrorUntilReset(ctx);\n        default:\n          // Internal error. Reached an unknown state\n          raiseErrorUntilReset(ctx);\n        }\n\n        if (hasError) return;\n\n        typeof_OUT1 parsed = {};\n        parsed.state = parserState;\n        parsed.character = c;\n        emitValue<output_OUT1>(ctx, parsed);\n        emitValue<output_OUT2>(ctx, true);\n    }\n\n    void increaseBufferPointer() {\n        bufferPos = min(bufferPos + 1, BUFFER_MAX_LENGTH - 1);\n    }\n\n    void endString(Context ctx) {\n        StackItem popped = stack[stackPos - 1];\n        stackPos--;\n        if (popped == StackItem::KEY) {\n          buffer[bufferPos] = '\\0';\n          parserState = ParserState::END_KEY;\n        } else if (popped == StackItem::STRING) {\n          buffer[bufferPos] = '\\0';\n          parserState = ParserState::AFTER_VALUE;\n        } else {\n          // Unexpected end of string\n          raiseErrorUntilReset(ctx);\n        }\n        bufferPos = 0;\n    }\n\n    void startValue(Context ctx, char c) {\n        if (c == '[') {\n          startArray();\n        } else if (c == '{') {\n          startObject();\n        } else if (c == '\"') {\n          startString();\n        } else if (isFirstCharInNumber(c)) {\n          startNumber(c);\n        } else if (c == 't') {\n          parserState = ParserState::IN_TRUE;\n          buffer[bufferPos] = c;\n          increaseBufferPointer();\n        } else if (c == 'f') {\n          parserState = ParserState::IN_FALSE;\n          buffer[bufferPos] = c;\n          increaseBufferPointer();\n        } else if (c == 'n') {\n          parserState = ParserState::IN_NULL;\n          buffer[bufferPos] = c;\n          increaseBufferPointer();\n        } else {\n          // Unexpected character for value\n          raiseErrorUntilReset(ctx);\n        }\n    }\n\n    void endArray(Context ctx) {\n        StackItem popped = stack[stackPos - 1];\n        stackPos--;\n        if (popped != StackItem::ARRAY) {\n          // Unexpected end of array encountered\n          raiseErrorUntilReset(ctx);\n        }\n        parserState = ParserState::AFTER_ARRAY;\n        if (stackPos == 0) {\n          endDocument();\n        }\n    }\n\n    void startKey() {\n        stack[stackPos] = StackItem::KEY;\n        stackPos++;\n        parserState = ParserState::IN_STRING;\n    }\n\n    void endObject(Context ctx) {\n        StackItem popped = stack[stackPos - 1];\n        stackPos--;\n        if (popped != StackItem::OBJECT) {\n          // Unexpected end of object encountered\n          raiseErrorUntilReset(ctx);\n        }\n        parserState = ParserState::AFTER_OBJECT;\n        if (stackPos == 0) {\n          endDocument();\n        }\n    }\n\n    void processEscapeCharacters(Context ctx, char c) {\n        if (c == '\"') {\n          buffer[bufferPos] = '\"';\n          increaseBufferPointer();\n        } else if (c == '\\\\') {\n          buffer[bufferPos] = '\\\\';\n          increaseBufferPointer();\n        } else if (c == '/') {\n          buffer[bufferPos] = '/';\n          increaseBufferPointer();\n        } else if (c == 'b') {\n          buffer[bufferPos] = 0x08;\n          increaseBufferPointer();\n        } else if (c == 'f') {\n          buffer[bufferPos] = '\\f';\n          increaseBufferPointer();\n        } else if (c == 'n') {\n          buffer[bufferPos] = '\\n';\n          increaseBufferPointer();\n        } else if (c == 'r') {\n          buffer[bufferPos] = '\\r';\n          increaseBufferPointer();\n        } else if (c == 't') {\n          buffer[bufferPos] = '\\t';\n          increaseBufferPointer();\n        } else {\n          // Expected escaped character after backslash\n          raiseErrorUntilReset(ctx);\n        }\n\n        parserState = ParserState::IN_STRING;\n    }\n\n    void endNumber() {\n        buffer[bufferPos] = '\\0';\n        bufferPos = 0;\n        parserState = ParserState::AFTER_VALUE;\n    }\n\n    void endDocument() {\n        parserState = ParserState::DONE;\n    }\n\n    void endTrue(Context ctx) {\n        buffer[bufferPos] = '\\0';\n        if (strcmp(buffer, \"true\") != 0) {\n          // Expected \"true\"\n          raiseErrorUntilReset(ctx);\n        }\n        bufferPos = 0;\n        parserState = ParserState::AFTER_VALUE;\n    }\n\n    void endFalse(Context ctx) {\n        buffer[bufferPos] = '\\0';\n        if (strcmp(buffer, \"false\") != 0) {\n          // Expected \"false\"\n          raiseErrorUntilReset(ctx);\n        }\n        bufferPos = 0;\n        parserState = ParserState::AFTER_VALUE;\n    }\n\n    void endNull(Context ctx) {\n        buffer[bufferPos] = '\\0';\n        if (strcmp(buffer, \"null\") != 0) {\n          // Expected \"null\"\n          raiseErrorUntilReset(ctx);\n        }\n        bufferPos = 0;\n        parserState = ParserState::AFTER_VALUE;\n    }\n\n    void startArray() {\n        parserState = ParserState::START_ARRAY;\n        stack[stackPos] = StackItem::ARRAY;\n        stackPos++;\n    }\n\n    void startObject() {\n        parserState = ParserState::START_OBJECT;\n        stack[stackPos] = StackItem::OBJECT;\n        stackPos++;\n    }\n\n    void startString() {\n        stack[stackPos] = StackItem::STRING;\n        stackPos++;\n        parserState = ParserState::IN_STRING;\n    }\n\n    void startNumber(char c) {\n        parserState = ParserState::IN_NUMBER;\n        buffer[bufferPos] = c;\n        increaseBufferPointer();\n    }\n\n    void evaluate(Context ctx) {\n        if (isSettingUp()) {\n          reset();\n        }\n\n        if (isInputDirty<input_RST>(ctx)) {\n          hasError = false;\n          reset();\n        }\n\n        if (hasError) {\n          return;\n        }\n\n        if (!isInputDirty<input_IN2>(ctx)) {\n          return;\n        }\n\n        auto c = getValue<input_IN1>(ctx);\n        parse(ctx, c);\n    }\n}\n"
        }
      ]
    },
    "@/parsed-json-chunk": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "Hydg8-PMr": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "Hydg8-PMr",
          "position": {
            "x": 1,
            "y": 1
          },
          "type": "xod/patch-nodes/not-implemented-in-xod",
          "@@type": "xod-project/Node"
        },
        "SJXZ8-DMr": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SJXZ8-DMr",
          "position": {
            "x": 1,
            "y": 2
          },
          "type": "xod/patch-nodes/output-self",
          "@@type": "xod-project/Node"
        },
        "rk5Z8ZwMH": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "rk5Z8ZwMH",
          "position": {
            "x": 3,
            "y": 1
          },
          "type": "xod/patch-nodes/utility",
          "@@type": "xod-project/Node"
        }
      },
      "links": {},
      "comments": {},
      "path": "@/parsed-json-chunk",
      "description": "",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "namespace xod {\nnamespace json_parser {\n\nenum class ParserState : int8_t {\n    START_DOCUMENT = 0,\n    DONE = -1,\n    IN_ARRAY = 1,\n    IN_OBJECT = 2,\n    END_KEY = 3,\n    AFTER_KEY = 4,\n    IN_STRING = 5,\n    START_ESCAPE = 6,\n    IN_NUMBER = 8,\n    IN_TRUE = 9,\n    IN_FALSE = 10,\n    IN_NULL = 11,\n    AFTER_VALUE = 12,\n    START_ARRAY = 14,\n    START_OBJECT = 15,\n    AFTER_ARRAY = 16,\n    AFTER_OBJECT = 17,\n};\n\n} // namespace json_parser\n} // namespace xod\n\nnode {\n    meta {\n        struct Type {\n            xod::json_parser::ParserState state;\n            uint8_t character;\n        };\n    }\n    void evaluate(Context ctx) {\n        // not intended to be called\n    }\n}\n"
        }
      ]
    },
    "@/string-value": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "Hkx8Kr71QB": {
          "boundLiterals": {},
          "description": "Process the incoming parsed chunk",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "Hkx8Kr71QB",
          "position": {
            "x": 4,
            "y": 0
          },
          "type": "xod/patch-nodes/input-pulse",
          "@@type": "xod-project/Node"
        },
        "HyLKSQ1Qr": {
          "boundLiterals": {},
          "description": "Parsed chunk of a JSON document",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "HyLKSQ1Qr",
          "position": {
            "x": 2,
            "y": 0
          },
          "type": "@/input-parsed-json-chunk",
          "@@type": "xod-project/Node"
        },
        "SksqrXkmS": {
          "boundLiterals": {
            "__out__": "32"
          },
          "description": "The capacity of the string buffer. Defines the maximum length. Must be a constant value. Any changes during program execution will be ignored.",
          "label": "CAP",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SksqrXkmS",
          "position": {
            "x": 0,
            "y": 0
          },
          "type": "xod/patch-nodes/input-number",
          "@@type": "xod-project/Node"
        },
        "r1427mJQr": {
          "boundLiterals": {},
          "description": "Extracted value\n",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "r1427mJQr",
          "position": {
            "x": 0,
            "y": 2
          },
          "type": "xod/patch-nodes/output-string",
          "@@type": "xod-project/Node"
        },
        "rJchQQ17S": {
          "boundLiterals": {},
          "description": "Pulses when a value is sucessfully extracted from parsed chunks",
          "label": "DONE",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "rJchQQ17S",
          "position": {
            "x": 2,
            "y": 2
          },
          "type": "xod/patch-nodes/output-pulse",
          "@@type": "xod-project/Node"
        },
        "ryxoqBX1Qr": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "ryxoqBX1Qr",
          "position": {
            "x": 0,
            "y": 1
          },
          "type": "xod/patch-nodes/not-implemented-in-xod",
          "@@type": "xod-project/Node"
        }
      },
      "links": {},
      "comments": {},
      "path": "@/string-value",
      "description": "Extracts a string from a JSON stream",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "nodespace {\n    using ParserState = xod::json_parser::ParserState;\n}\n\nnode {\n    char* buff;\n    char* cursor;\n    size_t cap;\n    CStringView view;\n    ParserState prevParsedState;\n\n    void evaluate(Context ctx) {\n        auto parsed = getValue<input_IN1>(ctx);\n\n        if (isSettingUp()) {\n            // save initial cap to ignore possible input changes during program execution\n            cap = getValue<input_CAP>(ctx);\n            buff = new char[cap + 1]; // +1 to make room for terminal '\\0'\n            view = CStringView(buff);\n        }\n\n        bool isStringStarting = prevParsedState != ParserState::IN_STRING && parsed.state == ParserState::IN_STRING;\n        bool isStringFinished = prevParsedState == ParserState::IN_STRING && parsed.state != ParserState::IN_STRING;\n        prevParsedState = parsed.state;\n\n        if (isSettingUp() || isStringStarting) {\n            // TODO: double buffer?\n            memset(buff, '\\0', cap + 1);\n            cursor = buff;\n            return; // first char is a '\"', start accumulating from a next one\n        }\n\n        if (!isInputDirty<input_IN2>(ctx)) return;\n\n        if (isStringFinished) {\n            emitValue<output_OUT>(ctx, XString(&view));\n            emitValue<output_DONE>(ctx, 1);\n        } else if (cursor >= &buff[cap]) {\n            // buffer is over capacity. raise error? emit existing value?\n        } else {\n            *cursor = parsed.character;\n            cursor++;\n        }\n    }\n}\n"
        }
      ]
    },
    "@/to-json": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "SJ1umjhID": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SJ1umjhID",
          "position": {
            "x": 0,
            "y": 1
          },
          "type": "xod/patch-nodes/abstract",
          "@@type": "xod-project/Node"
        },
        "SJpDQonLw": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SJpDQonLw",
          "position": {
            "x": 0,
            "y": 0
          },
          "type": "xod/patch-nodes/input-t1",
          "@@type": "xod-project/Node"
        },
        "rk7uQih8v": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "rk7uQih8v",
          "position": {
            "x": 0,
            "y": 2
          },
          "type": "xod/patch-nodes/output-string",
          "@@type": "xod-project/Node"
        }
      },
      "links": {},
      "comments": {},
      "path": "@/to-json",
      "description": "",
      "attachments": []
    },
    "@/to-json(boolean)": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "B1OL4inLD": {
          "boundLiterals": {
            "r1AgIROHDJW": "\"false\"",
            "ryTeUROHD1b": "\"true\""
          },
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "B1OL4inLD",
          "position": {
            "x": 1,
            "y": 1
          },
          "type": "xod/core/if-else",
          "@@type": "xod-project/Node"
        },
        "SJ-UNshUv": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SJ-UNshUv",
          "position": {
            "x": 1,
            "y": 0
          },
          "type": "xod/patch-nodes/input-boolean",
          "@@type": "xod-project/Node"
        },
        "rJpL4shLP": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "rJpL4shLP",
          "position": {
            "x": 1,
            "y": 2
          },
          "type": "xod/patch-nodes/output-string",
          "@@type": "xod-project/Node"
        }
      },
      "links": {
        "ByRL4sn8v": {
          "id": "ByRL4sn8v",
          "input": {
            "nodeId": "rJpL4shLP",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "B1OL4inLD",
            "pinKey": "S13xLCuHvkW"
          },
          "@@type": "xod-project/Link"
        },
        "H1KLNs3LP": {
          "id": "H1KLNs3LP",
          "input": {
            "nodeId": "B1OL4inLD",
            "pinKey": "S1yZIA_rDJZ"
          },
          "output": {
            "nodeId": "SJ-UNshUv",
            "pinKey": "__out__"
          },
          "@@type": "xod-project/Link"
        }
      },
      "comments": {},
      "path": "@/to-json(boolean)",
      "description": "Formats a boolean as a string.",
      "attachments": []
    },
    "@/to-json(port)": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "HJBW-bzDw": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "HJBW-bzDw",
          "position": {
            "x": 0,
            "y": 1
          },
          "type": "@/to-json(string)",
          "@@type": "xod-project/Node"
        },
        "HyxklbGwP": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "HyxklbGwP",
          "position": {
            "x": 0,
            "y": 0
          },
          "type": "xod/patch-nodes/input-port",
          "@@type": "xod-project/Node"
        },
        "rkEyxbMwv": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "rkEyxbMwv",
          "position": {
            "x": 0,
            "y": 2
          },
          "type": "xod/patch-nodes/output-string",
          "@@type": "xod-project/Node"
        }
      },
      "links": {
        "ByFbZZGDv": {
          "id": "ByFbZZGDv",
          "input": {
            "nodeId": "HJBW-bzDw",
            "pinKey": "HJW3mj38v"
          },
          "output": {
            "nodeId": "HyxklbGwP",
            "pinKey": "__out__"
          },
          "@@type": "xod-project/Link"
        },
        "SkqZW-zvD": {
          "id": "SkqZW-zvD",
          "input": {
            "nodeId": "rkEyxbMwv",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "HJBW-bzDw",
            "pinKey": "HJNn7i38D"
          },
          "@@type": "xod-project/Link"
        }
      },
      "comments": {},
      "path": "@/to-json(port)",
      "description": "",
      "attachments": []
    },
    "@/to-json(byte)": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "B1kmIj3LD": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "B1kmIj3LD",
          "position": {
            "x": 2,
            "y": 1
          },
          "type": "xod/bits/u8-to-number",
          "@@type": "xod-project/Node"
        },
        "HyIQ8j2Lv": {
          "boundLiterals": {
            "HJTIija-W": "0"
          },
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "HyIQ8j2Lv",
          "position": {
            "x": 2,
            "y": 2
          },
          "type": "xod/core/format-number",
          "@@type": "xod-project/Node"
        },
        "SkpX8onUP": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "SkpX8onUP",
          "position": {
            "x": 2,
            "y": 3
          },
          "type": "xod/patch-nodes/output-string",
          "@@type": "xod-project/Node"
        },
        "ryCWUinLv": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "ryCWUinLv",
          "position": {
            "x": 2,
            "y": 0
          },
          "type": "xod/patch-nodes/input-byte",
          "@@type": "xod-project/Node"
        }
      },
      "links": {
        "BJgQ8s3Lw": {
          "id": "BJgQ8s3Lw",
          "input": {
            "nodeId": "B1kmIj3LD",
            "pinKey": "S113G_ZJm"
          },
          "output": {
            "nodeId": "ryCWUinLv",
            "pinKey": "__out__"
          },
          "@@type": "xod-project/Link"
        },
        "HkC7IjnLv": {
          "id": "HkC7IjnLv",
          "input": {
            "nodeId": "SkpX8onUP",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "HyIQ8j2Lv",
            "pinKey": "r1H_oipZb"
          },
          "@@type": "xod-project/Link"
        },
        "SkOm8jnIw": {
          "id": "SkOm8jnIw",
          "input": {
            "nodeId": "HyIQ8j2Lv",
            "pinKey": "BJlHojaWZ"
          },
          "output": {
            "nodeId": "B1kmIj3LD",
            "pinKey": "Sk43MO-Jm"
          },
          "@@type": "xod-project/Link"
        }
      },
      "comments": {},
      "path": "@/to-json(byte)",
      "description": "Formats byte as a string in a decimal representation.",
      "attachments": []
    },
    "@/to-json(string)": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "Bkh2Qo2Lw": {
          "boundLiterals": {
            "B1x2RV3eZ": "\"\"\""
          },
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "Bkh2Qo2Lw",
          "position": {
            "x": 2,
            "y": 0
          },
          "type": "xod/core/constant-string",
          "@@type": "xod-project/Node"
        },
        "HJNn7i38D": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "HJNn7i38D",
          "position": {
            "x": 0,
            "y": 2
          },
          "type": "xod/patch-nodes/output-string",
          "@@type": "xod-project/Node"
        },
        "HJW3mj38v": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "HJW3mj38v",
          "position": {
            "x": 1,
            "y": 0
          },
          "type": "xod/patch-nodes/input-string",
          "@@type": "xod-project/Node"
        },
        "ryw2Xo3LD": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 2,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "ryw2Xo3LD",
          "position": {
            "x": 0,
            "y": 1
          },
          "type": "xod/core/concat",
          "@@type": "xod-project/Node"
        }
      },
      "links": {
        "B1EWEshLw": {
          "id": "B1EWEshLw",
          "input": {
            "nodeId": "ryw2Xo3LD",
            "pinKey": "BkeKcj6ZZ-$1"
          },
          "output": {
            "nodeId": "Bkh2Qo2Lw",
            "pinKey": "B1x2RV3eZ"
          },
          "@@type": "xod-project/Link"
        },
        "B1SpQshLP": {
          "id": "B1SpQshLP",
          "input": {
            "nodeId": "ryw2Xo3LD",
            "pinKey": "BkeKcj6ZZ"
          },
          "output": {
            "nodeId": "HJW3mj38v",
            "pinKey": "__out__"
          },
          "@@type": "xod-project/Link"
        },
        "SJC3mjnUw": {
          "id": "SJC3mjnUw",
          "input": {
            "nodeId": "HJNn7i38D",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "ryw2Xo3LD",
            "pinKey": "rksccsp-W"
          },
          "@@type": "xod-project/Link"
        },
        "SJSb4shUD": {
          "id": "SJSb4shUD",
          "input": {
            "nodeId": "ryw2Xo3LD",
            "pinKey": "Hkqu9oaWb"
          },
          "output": {
            "nodeId": "Bkh2Qo2Lw",
            "pinKey": "B1x2RV3eZ"
          },
          "@@type": "xod-project/Link"
        }
      },
      "comments": {},
      "path": "@/to-json(string)",
      "description": "Enquotes a string to be a valid JSON string litral. If the string contains quotes it should be escaped first.",
      "attachments": []
    },
    "@/to-json(number)": {
      "@@type": "xod-project/Patch",
      "nodes": {
        "HJItQjh8v": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "HJItQjh8v",
          "position": {
            "x": 0,
            "y": 2
          },
          "type": "xod/patch-nodes/output-string",
          "@@type": "xod-project/Node"
        },
        "Hk1YXs2LD": {
          "boundLiterals": {
            "HJTIija-W": "4"
          },
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "Hk1YXs2LD",
          "position": {
            "x": 0,
            "y": 1
          },
          "type": "xod/core/format-number",
          "@@type": "xod-project/Node"
        },
        "S1n_7snLw": {
          "boundLiterals": {},
          "description": "",
          "label": "",
          "arityLevel": 1,
          "size": {
            "width": 0,
            "height": 0
          },
          "id": "S1n_7snLw",
          "position": {
            "x": 0,
            "y": 0
          },
          "type": "xod/patch-nodes/input-number",
          "@@type": "xod-project/Node"
        }
      },
      "links": {
        "S1WYQsnUv": {
          "id": "S1WYQsnUv",
          "input": {
            "nodeId": "Hk1YXs2LD",
            "pinKey": "BJlHojaWZ"
          },
          "output": {
            "nodeId": "S1n_7snLw",
            "pinKey": "__out__"
          },
          "@@type": "xod-project/Link"
        },
        "r1vt7s3Uw": {
          "id": "r1vt7s3Uw",
          "input": {
            "nodeId": "HJItQjh8v",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "Hk1YXs2LD",
            "pinKey": "r1H_oipZb"
          },
          "@@type": "xod-project/Link"
        }
      },
      "comments": {},
      "path": "@/to-json(number)",
      "description": "Formats a number as a string with four digits after the dot.",
      "attachments": []
    }
  },
  "authors": [],
  "license": "AGPL-3.0",
  "version": "0.37.3",
  "description": "Nodes for parsing JSON from a stream of characters",
  "apiKey": "",
  "name": "json"
}
