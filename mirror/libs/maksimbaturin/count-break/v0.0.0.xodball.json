{
  "patches": {
    "@/main": {
      "links": {
        "SJCefrvx3": {
          "id": "SJCefrvx3",
          "output": {
            "nodeId": "HJIRWSwen",
            "pinKey": "rJFmgJehW"
          },
          "input": {
            "nodeId": "S1EcUb8e3",
            "pinKey": "HyYh1a3LZ"
          }
        },
        "SJNRMSvxn": {
          "id": "SJNRMSvxn",
          "output": {
            "nodeId": "H19kfBDx3",
            "pinKey": "rJFmgJehW"
          },
          "input": {
            "nodeId": "SkQzteIeh",
            "pinKey": "HyYh1a3LZ"
          }
        },
        "rkBXmHPeh": {
          "id": "rkBXmHPeh",
          "output": {
            "nodeId": "H19kfBDx3",
            "pinKey": "rJFmgJehW"
          },
          "input": {
            "nodeId": "SyAa04wgh",
            "pinKey": "HkXK-dGob"
          }
        },
        "rktX7Hwxh": {
          "id": "rktX7Hwxh",
          "output": {
            "nodeId": "HJIRWSwen",
            "pinKey": "rJFmgJehW"
          },
          "input": {
            "nodeId": "H1daeZve2",
            "pinKey": "HkXK-dGob"
          }
        },
        "HyLq_9ce2": {
          "id": "HyLq_9ce2",
          "output": {
            "nodeId": "S1KCHeYgh",
            "pinKey": "BJ--G1tI-"
          },
          "input": {
            "nodeId": "HJ6F_q9lh",
            "pinKey": "HkXK-dGob"
          }
        },
        "ryDDQs5lh": {
          "id": "ryDDQs5lh",
          "output": {
            "nodeId": "BylBXocg2",
            "pinKey": "SkX_Axo5en"
          },
          "input": {
            "nodeId": "HJIRWSwen",
            "pinKey": "HJjEe1lnb"
          }
        },
        "Hy9wXs9e2": {
          "id": "Hy9wXs9e2",
          "output": {
            "nodeId": "BylBXocg2",
            "pinKey": "SkX_Axo5en"
          },
          "input": {
            "nodeId": "BJAxweFl2",
            "pinKey": "HkXK-dGob"
          }
        },
        "H13D7oqgn": {
          "id": "H13D7oqgn",
          "output": {
            "nodeId": "BylBXocg2",
            "pinKey": "SkX_Axo5en"
          },
          "input": {
            "nodeId": "H19kfBDx3",
            "pinKey": "HJjEe1lnb"
          }
        },
        "Bkv2mocgn": {
          "id": "Bkv2mocgn",
          "output": {
            "nodeId": "S1KCHeYgh",
            "pinKey": "BJ--G1tI-"
          },
          "input": {
            "nodeId": "BylBXocg2",
            "pinKey": "SJeORxjcln"
          }
        }
      },
      "nodes": {
        "SkQzteIeh": {
          "boundLiterals": {
            "B1oqkTnIb": "D11"
          },
          "label": "LED",
          "id": "SkQzteIeh",
          "type": "xod/common-hardware/led",
          "position": {
            "x": 51,
            "y": 26,
            "units": "slots"
          }
        },
        "S1EcUb8e3": {
          "boundLiterals": {
            "B1oqkTnIb": "D9"
          },
          "description": "\n\n",
          "label": "LED",
          "id": "S1EcUb8e3",
          "type": "xod/common-hardware/led",
          "position": {
            "x": 41,
            "y": 26,
            "units": "slots"
          }
        },
        "H1daeZve2": {
          "id": "H1daeZve2",
          "type": "xod/debug/watch",
          "position": {
            "x": 47,
            "y": 26,
            "units": "slots"
          }
        },
        "SyAa04wgh": {
          "id": "SyAa04wgh",
          "type": "xod/debug/watch",
          "position": {
            "x": 49,
            "y": 26,
            "units": "slots"
          }
        },
        "HJIRWSwen": {
          "boundLiterals": {
            "B1rSeJlnZ": "1",
            "HkFBgJehW": "1"
          },
          "id": "HJIRWSwen",
          "type": "xod/math/map-clip",
          "position": {
            "x": 42,
            "y": 25,
            "units": "slots"
          }
        },
        "H19kfBDx3": {
          "boundLiterals": {
            "SJbSlJxh-": "1",
            "BJTBgke3b": "0",
            "B1rSeJlnZ": "0",
            "HkFBgJehW": "1"
          },
          "id": "H19kfBDx3",
          "type": "xod/math/map-clip",
          "position": {
            "x": 50,
            "y": 25,
            "units": "slots"
          }
        },
        "S1KCHeYgh": {
          "boundLiterals": {
            "ByNiWkt8Z": "D4"
          },
          "id": "S1KCHeYgh",
          "type": "xod/common-hardware/button",
          "position": {
            "x": 50,
            "y": 23,
            "units": "slots"
          }
        },
        "BJAxweFl2": {
          "id": "BJAxweFl2",
          "type": "xod/debug/watch",
          "position": {
            "x": 48,
            "y": 25,
            "units": "slots"
          }
        },
        "HJ6F_q9lh": {
          "id": "HJ6F_q9lh",
          "type": "xod/debug/watch",
          "position": {
            "x": 53,
            "y": 24,
            "units": "slots"
          }
        },
        "BylBXocg2": {
          "id": "BylBXocg2",
          "type": "@/count-set-break",
          "position": {
            "x": 48,
            "y": 24,
            "units": "slots"
          },
          "boundLiterals": {
            "S1WuCeocgn": "0.1",
            "ryVO0xs9en": "1"
          }
        }
      },
      "path": "@/main"
    },
    "@/count-set-break": {
      "nodes": {
        "B1_Clo5x3": {
          "id": "B1_Clo5x3",
          "position": {
            "x": 0,
            "y": 0.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "SJeORxjcln": {
          "description": "Triggers a single increment.",
          "label": "INC",
          "id": "SJeORxjcln",
          "position": {
            "x": 4,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "S1WuCeocgn": {
          "boundLiterals": {
            "__out__": "1"
          },
          "description": "Value to add on each increment. Use a negative value (e.g. -1) to make decrements.",
          "label": "STEP",
          "id": "S1WuCeocgn",
          "position": {
            "x": 0,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-number"
        },
        "S1GdAgj5g3": {
          "description": "Resets the accumulated value to zero.",
          "label": "RST",
          "id": "S1GdAgj5g3",
          "position": {
            "x": 7,
            "y": -0.25,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "SkX_Axo5en": {
          "description": "The accumulated value.",
          "id": "SkX_Axo5en",
          "position": {
            "x": 0,
            "y": 1.75,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "ryVO0xs9en": {
          "id": "ryVO0xs9en",
          "type": "xod/patch-nodes/input-number",
          "position": {
            "x": 2,
            "y": -0.25,
            "units": "slots"
          },
          "label": "SET"
        }
      },
      "path": "@/count-set-break",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "\nnode {\n    void evaluate(Context ctx) {\n        Number count = getValue<output_OUT>(ctx);\n\n        if (isInputDirty<input_RST>(ctx))\n            count = 0;\n        else if (isInputDirty<input_INC>(ctx))\n            count += getValue<input_STEP>(ctx);\n        auto set = getValue<input_SET>(ctx);\n        if (count > set) count = 0;\n\n\n        emitValue<output_OUT>(ctx, count);\n    }\n}\n"
        }
      ]
    }
  },
  "name": "count-break"
}
