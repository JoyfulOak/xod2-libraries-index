{
  "patches": {
    "@/example": {
      "nodes": {
        "HJR0n_IHO": {
          "id": "HJR0n_IHO",
          "position": {
            "x": 2,
            "y": 1,
            "units": "slots"
          },
          "type": "@/mlx90614"
        },
        "S1NkTuIHd": {
          "id": "S1NkTuIHd",
          "position": {
            "x": 4,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/core/clock"
        },
        "S1QeTuUr_": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "S1QeTuUr_",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "B1PxpdLBu": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "B1PxpdLBu",
          "position": {
            "x": 3,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "Syxvl6dUrd": {
          "id": "Syxvl6dUrd",
          "position": {
            "x": 5,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "H1ebT_ISu": {
          "id": "H1ebT_ISu",
          "position": {
            "x": 5,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/core/count"
        }
      },
      "links": {
        "r1w16O8Hu": {
          "id": "r1w16O8Hu",
          "input": {
            "nodeId": "HJR0n_IHO",
            "pinKey": "SyZbcD8rO"
          },
          "output": {
            "nodeId": "S1NkTuIHd",
            "pinKey": "HJU8CE2lW"
          }
        },
        "B1wZ6O8B_": {
          "id": "B1wZ6O8B_",
          "input": {
            "nodeId": "H1ebT_ISu",
            "pinKey": "HJAq-A_8-"
          },
          "output": {
            "nodeId": "HJR0n_IHO",
            "pinKey": "BybksPUrd"
          }
        },
        "rJoWadLHd": {
          "id": "rJoWadLHd",
          "input": {
            "nodeId": "Syxvl6dUrd",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "H1ebT_ISu",
            "pinKey": "r1yhZRd8W"
          }
        },
        "rk8FAuUru": {
          "id": "rk8FAuUru",
          "input": {
            "nodeId": "S1QeTuUr_",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "HJR0n_IHO",
            "pinKey": "H1WCqwIBd"
          }
        },
        "SJOtROLru": {
          "id": "SJOtROLru",
          "input": {
            "nodeId": "B1PxpdLBu",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "HJR0n_IHO",
            "pinKey": "HkwCqwUB_"
          }
        }
      },
      "path": "@/example",
      "description": "Patch to test mlx90614 node. Run in debugger."
    },
    "@/mlx90614": {
      "nodes": {
        "rk0yqDLB_": {
          "id": "rk0yqDLB_",
          "position": {
            "x": 1,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "SkUl5D8S_": {
          "boundLiterals": {
            "__out__": "5Ah"
          },
          "description": "I²C address of MLX90614 device.",
          "label": "ADDR",
          "id": "SkUl5D8S_",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-byte"
        },
        "SyZbcD8rO": {
          "description": "Update. Trigger a reading.",
          "label": "UPD",
          "id": "SyZbcD8rO",
          "position": {
            "x": 3,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "H1WCqwIBd": {
          "description": "Ambient temperature in degrees Celsius. ",
          "label": "AmbC",
          "id": "H1WCqwIBd",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HkwCqwUB_": {
          "description": "Temperature of the object in degrees Celsius.",
          "label": "ObjC",
          "id": "HkwCqwUB_",
          "position": {
            "x": 2,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "BybksPUrd": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "BybksPUrd",
          "position": {
            "x": 3,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "Sy9IE3cWA": {
          "description": "I²C bus.",
          "label": "I2C",
          "id": "Sy9IE3cWA",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/i2c/input-i2c"
        }
      },
      "path": "@/mlx90614",
      "description": "MLX90614 temperature sensor.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "// Tell XOD where it could download the library:\n#pragma XOD require \"https://github.com/adafruit/Adafruit_BusIO\"\n#pragma XOD require \"https://github.com/adafruit/Adafruit-MLX90614-Library\"\n\n//Include C++ libraries\n#include <Wire.h>\n#include <Adafruit_MLX90614.h>\n\nnode {\n    meta {\n        // Define our custom type as a pointer on the class instance.\n        using Type = Adafruit_MLX90614*;\n    }\n\n    Adafruit_MLX90614 sensor = Adafruit_MLX90614();\n    \n    void evaluate(Context ctx) {\n\n        if (isSettingUp()) {\n           auto address = getValue<input_ADDR>(ctx);\n           auto wire = getValue<input_I2C>(ctx);\n            if (!sensor.begin(address, wire)) {\n                raiseError(ctx);\n                return;\n            }\n        }\n\n        if (isInputDirty<input_UPD>(ctx)) {\n            emitValue<output_AmbC>(ctx, sensor.readAmbientTempC());\n            emitValue<output_ObjC>(ctx, sensor.readObjectTempC());\n            emitValue<output_DONE>(ctx, 1);\n        }\n    }\n}\n"
        }
      ]
    }
  },
  "license": "BSD",
  "version": "0.0.3",
  "description": "MLX90614 temperature sensor. Wraps https://github.com/adafruit/Adafruit-MLX90614-Library. UNTESTED!",
  "name": "mlx90614"
}
