{
  "patches": {
    "@/example-non-blocking": {
      "nodes": {
        "Hkp01FjjO": {
          "id": "Hkp01FjjO",
          "position": {
            "x": 3,
            "y": 1,
            "units": "slots"
          },
          "type": "@/x27-589-device"
        },
        "rkgaC1Fjiu": {
          "boundLiterals": {
            "r1johLjod": "Continuously"
          },
          "id": "rkgaC1Fjiu",
          "position": {
            "x": 1,
            "y": 7,
            "units": "slots"
          },
          "type": "@/set-position"
        },
        "HJGaA1Fjju": {
          "boundLiterals": {
            "HJCWLAdSwyW": "1",
            "rkpbU0OrwyZ": "945"
          },
          "id": "HJGaA1Fjju",
          "position": {
            "x": 2,
            "y": 6,
            "units": "slots"
          },
          "type": "xod/math/map"
        },
        "H1maC1Koi_": {
          "boundLiterals": {
            "Syygo8si_": "On Boot"
          },
          "id": "H1maC1Koi_",
          "position": {
            "x": 4,
            "y": 2,
            "units": "slots"
          },
          "type": "@/zero"
        },
        "ryEa01Fjs_": {
          "id": "ryEa01Fjs_",
          "position": {
            "x": 8,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/core/boot"
        },
        "HySpR1Yoiu": {
          "boundLiterals": {
            "Skre8ROSv1-": "5"
          },
          "id": "HySpR1Yoiu",
          "position": {
            "x": 7,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/core/delay"
        },
        "Sy8aCJtjiO": {
          "boundLiterals": {
            "Skre8ROSv1-": "2"
          },
          "id": "Sy8aCJtjiO",
          "position": {
            "x": 3,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/core/delay"
        },
        "H1Dp01Foj_": {
          "label": "DEV",
          "id": "H1Dp01Foj_",
          "position": {
            "x": 3,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/to-bus"
        },
        "B1d60kKssu": {
          "label": "DEV",
          "id": "B1d60kKssu",
          "position": {
            "x": 1,
            "y": 6,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "H15aCJYjiu": {
          "id": "H15aCJYjiu",
          "position": {
            "x": 2,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/gpio/analog-read"
        },
        "r1opRyFoo_": {
          "id": "r1opRyFoo_",
          "position": {
            "x": 3,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/core/any"
        },
        "SJ1Vetsj_": {
          "id": "SJ1Vetsj_",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "@/update"
        },
        "SJ6eWtjsO": {
          "id": "SJ6eWtjsO",
          "position": {
            "x": 5,
            "y": 7,
            "units": "slots"
          },
          "type": "xod/core/defer"
        },
        "BJ_kUYosu": {
          "boundLiterals": {
            "Skre8ROSv1-": "0.4"
          },
          "id": "BJ_kUYosu",
          "position": {
            "x": 2,
            "y": 8,
            "units": "slots"
          },
          "type": "xod/core/delay"
        }
      },
      "links": {
        "BJ1gTR1tjoO": {
          "id": "BJ1gTR1tjoO",
          "input": {
            "nodeId": "rkgaC1Fjiu",
            "pinKey": "ryvc2Lisd"
          },
          "output": {
            "nodeId": "HJGaA1Fjju",
            "pinKey": "H12bIR_SPyZ"
          }
        },
        "H1xepCyKjo_": {
          "id": "H1xepCyKjo_",
          "input": {
            "nodeId": "H1maC1Koi_",
            "pinKey": "S1SPWUijd"
          },
          "output": {
            "nodeId": "Hkp01FjjO",
            "pinKey": "H1ZzbIsid"
          }
        },
        "H1-ea0ktij_": {
          "id": "H1-ea0ktij_",
          "input": {
            "nodeId": "HySpR1Yoiu",
            "pinKey": "SkSuD6LMb"
          },
          "output": {
            "nodeId": "ryEa01Fjs_",
            "pinKey": "ryVmUAOrvkb"
          }
        },
        "SJflTC1Koju": {
          "id": "SJflTC1Koju",
          "input": {
            "nodeId": "H1maC1Koi_",
            "pinKey": "Syygo8si_"
          },
          "output": {
            "nodeId": "HySpR1Yoiu",
            "pinKey": "Bk4gU0drwJ-"
          }
        },
        "ryXx6AJKijd": {
          "id": "ryXx6AJKijd",
          "input": {
            "nodeId": "H1Dp01Foj_",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "Hkp01FjjO",
            "pinKey": "H1ZzbIsid"
          }
        },
        "H1Nxp0kKsid": {
          "id": "H1Nxp0kKsid",
          "input": {
            "nodeId": "rkgaC1Fjiu",
            "pinKey": "H1fFnUijO"
          },
          "output": {
            "nodeId": "B1d60kKssu",
            "pinKey": "__out__"
          }
        },
        "SkwxTRJYiid": {
          "id": "SkwxTRJYiid",
          "input": {
            "nodeId": "HJGaA1Fjju",
            "pinKey": "BJlzICOSv1-"
          },
          "output": {
            "nodeId": "H15aCJYjiu",
            "pinKey": "SyBtREhlW"
          }
        },
        "rJdepRyFosd": {
          "id": "rJdepRyFosd",
          "input": {
            "nodeId": "r1opRyFoo_",
            "pinKey": "ryv7IRdSP1b"
          },
          "output": {
            "nodeId": "Sy8aCJtjiO",
            "pinKey": "Bk4gU0drwJ-"
          }
        },
        "rJte6AyYjiu": {
          "id": "rJte6AyYjiu",
          "input": {
            "nodeId": "H15aCJYjiu",
            "pinKey": "SyKd0E2x-"
          },
          "output": {
            "nodeId": "r1opRyFoo_",
            "pinKey": "ByHmL0uHPk-"
          }
        },
        "ryyxgYjs_": {
          "id": "ryyxgYjs_",
          "input": {
            "nodeId": "Sy8aCJtjiO",
            "pinKey": "SkSuD6LMb"
          },
          "output": {
            "nodeId": "H1maC1Koi_",
            "pinKey": "H1xFbLsid"
          }
        },
        "H1u4eYiid": {
          "id": "H1u4eYiid",
          "input": {
            "nodeId": "SJ1Vetsj_",
            "pinKey": "ry4tfLji_"
          },
          "output": {
            "nodeId": "Hkp01FjjO",
            "pinKey": "H1ZzbIsid"
          }
        },
        "SJmbZKjju": {
          "id": "SJmbZKjju",
          "input": {
            "nodeId": "r1opRyFoo_",
            "pinKey": "ByU7LRuSPkW"
          },
          "output": {
            "nodeId": "SJ6eWtjsO",
            "pinKey": "HJhXDIY9-"
          }
        },
        "SJAbUYssu": {
          "id": "SJAbUYssu",
          "input": {
            "nodeId": "BJ_kUYosu",
            "pinKey": "SkSuD6LMb"
          },
          "output": {
            "nodeId": "rkgaC1Fjiu",
            "pinKey": "Sk3zTLjsO"
          }
        },
        "Hkmf8tosO": {
          "id": "Hkmf8tosO",
          "input": {
            "nodeId": "SJ6eWtjsO",
            "pinKey": "BJI7P8t9Z"
          },
          "output": {
            "nodeId": "BJ_kUYosu",
            "pinKey": "Bk4gU0drwJ-"
          }
        },
        "HyszItii_": {
          "id": "HyszItii_",
          "input": {
            "nodeId": "rkgaC1Fjiu",
            "pinKey": "r1johLjod"
          },
          "output": {
            "nodeId": "H15aCJYjiu",
            "pinKey": "BkGpcpcJQ"
          }
        }
      },
      "path": "@/example-non-blocking",
      "description": "Demonstration of non-blocking updates. On startup gauge will be set to zero. Then gauge can be controlled using a potentiometer (analog-read)."
    },
    "@/example-blocking": {
      "nodes": {
        "Byu5-vos_": {
          "id": "Byu5-vos_",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "@/x27-589-device"
        },
        "Hyb7Ewosu": {
          "boundLiterals": {
            "ryvc2Lisd": "472"
          },
          "id": "Hyb7Ewosu",
          "position": {
            "x": 5,
            "y": 2,
            "units": "slots"
          },
          "type": "@/set-position"
        },
        "SJCQNvij_": {
          "id": "SJCQNvij_",
          "position": {
            "x": 4,
            "y": 3,
            "units": "slots"
          },
          "type": "@/update-blocking"
        },
        "ryTrwvss_": {
          "boundLiterals": {
            "Syygo8si_": "On Boot"
          },
          "id": "ryTrwvss_",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "@/zero"
        },
        "H1g-7_os_": {
          "id": "H1g-7_os_",
          "position": {
            "x": 5,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/core/boot"
        },
        "BJ_Z7_iod": {
          "boundLiterals": {
            "Skre8ROSv1-": "5"
          },
          "id": "BJ_Z7_iod",
          "position": {
            "x": 4,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/core/delay"
        },
        "SktKV_iod": {
          "boundLiterals": {
            "Skre8ROSv1-": "2"
          },
          "id": "SktKV_iod",
          "position": {
            "x": 0,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/core/delay"
        },
        "Bkz48uiid": {
          "label": "DEV",
          "id": "Bkz48uiid",
          "position": {
            "x": -1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/to-bus"
        },
        "SyerUuoj_": {
          "label": "DEV",
          "id": "SyerUuoj_",
          "position": {
            "x": 4,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "SJ70UOso_": {
          "id": "SJ70UOso_",
          "position": {
            "x": -2,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/core/defer"
        },
        "SJ6I5Ooid": {
          "id": "SJ6I5Ooid",
          "position": {
            "x": 0,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/core/any"
        },
        "HJXGmYos_": {
          "boundLiterals": {
            "ryvc2Lisd": "945"
          },
          "id": "HJXGmYos_",
          "position": {
            "x": 10,
            "y": 2,
            "units": "slots"
          },
          "type": "@/set-position"
        },
        "r1x7GmKiid": {
          "id": "r1x7GmKiid",
          "position": {
            "x": 9,
            "y": 3,
            "units": "slots"
          },
          "type": "@/update-blocking"
        },
        "ry-mM7FisO": {
          "label": "DEV",
          "id": "ry-mM7FisO",
          "position": {
            "x": 9,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "HkuMQFoid": {
          "id": "HkuMQFoid",
          "position": {
            "x": 15,
            "y": 2,
            "units": "slots"
          },
          "type": "@/set-position"
        },
        "HyxOfQKsod": {
          "id": "HyxOfQKsod",
          "position": {
            "x": 14,
            "y": 3,
            "units": "slots"
          },
          "type": "@/update-blocking"
        },
        "HkbdzQKij_": {
          "label": "DEV",
          "id": "HkbdzQKij_",
          "position": {
            "x": 14,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "HJREQKjjO": {
          "boundLiterals": {
            "Skre8ROSv1-": "2"
          },
          "id": "HJREQKjjO",
          "position": {
            "x": 3,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/core/delay"
        },
        "SyzpQYosu": {
          "boundLiterals": {
            "Skre8ROSv1-": "2"
          },
          "id": "SyzpQYosu",
          "position": {
            "x": 8,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/core/delay"
        },
        "S1DaQKjou": {
          "boundLiterals": {
            "Skre8ROSv1-": "2"
          },
          "id": "S1DaQKjou",
          "position": {
            "x": 13,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/core/delay"
        }
      },
      "links": {
        "BJxEVPoju": {
          "id": "BJxEVPoju",
          "input": {
            "nodeId": "SJCQNvij_",
            "pinKey": "S17kjLjs_"
          },
          "output": {
            "nodeId": "Hyb7Ewosu",
            "pinKey": "Sk3zTLjsO"
          }
        },
        "rklIDwsjd": {
          "id": "rklIDwsjd",
          "input": {
            "nodeId": "ryTrwvss_",
            "pinKey": "S1SPWUijd"
          },
          "output": {
            "nodeId": "Byu5-vos_",
            "pinKey": "H1ZzbIsid"
          }
        },
        "SkHGmOsju": {
          "id": "SkHGmOsju",
          "input": {
            "nodeId": "BJ_Z7_iod",
            "pinKey": "SkSuD6LMb"
          },
          "output": {
            "nodeId": "H1g-7_os_",
            "pinKey": "ryVmUAOrvkb"
          }
        },
        "Bk1QXOooO": {
          "id": "Bk1QXOooO",
          "input": {
            "nodeId": "ryTrwvss_",
            "pinKey": "Syygo8si_"
          },
          "output": {
            "nodeId": "BJ_Z7_iod",
            "pinKey": "Bk4gU0drwJ-"
          }
        },
        "S1jN8OssO": {
          "id": "S1jN8OssO",
          "input": {
            "nodeId": "Bkz48uiid",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "Byu5-vos_",
            "pinKey": "H1ZzbIsid"
          }
        },
        "Byj_Lujsd": {
          "id": "Byj_Lujsd",
          "input": {
            "nodeId": "Hyb7Ewosu",
            "pinKey": "H1fFnUijO"
          },
          "output": {
            "nodeId": "SyerUuoj_",
            "pinKey": "__out__"
          }
        },
        "H1W98_sjd": {
          "id": "H1W98_sjd",
          "input": {
            "nodeId": "SJCQNvij_",
            "pinKey": "SJgqpMIjsu"
          },
          "output": {
            "nodeId": "SyerUuoj_",
            "pinKey": "__out__"
          }
        },
        "r1b_5uoj_": {
          "id": "r1b_5uoj_",
          "input": {
            "nodeId": "SJ6I5Ooid",
            "pinKey": "ryv7IRdSP1b"
          },
          "output": {
            "nodeId": "SktKV_iod",
            "pinKey": "Bk4gU0drwJ-"
          }
        },
        "rkru9_jod": {
          "id": "rkru9_jod",
          "input": {
            "nodeId": "SJ6I5Ooid",
            "pinKey": "ByU7LRuSPkW"
          },
          "output": {
            "nodeId": "SJ70UOso_",
            "pinKey": "HJhXDIY9-"
          }
        },
        "SkSyQFsid": {
          "id": "SkSyQFsid",
          "input": {
            "nodeId": "SktKV_iod",
            "pinKey": "SkSuD6LMb"
          },
          "output": {
            "nodeId": "ryTrwvss_",
            "pinKey": "H1xFbLsid"
          }
        },
        "ByqeXKioO": {
          "id": "ByqeXKioO",
          "input": {
            "nodeId": "Hyb7Ewosu",
            "pinKey": "r1johLjod"
          },
          "output": {
            "nodeId": "SJ6I5Ooid",
            "pinKey": "ByHmL0uHPk-"
          }
        },
        "BkfXGXFisO": {
          "id": "BkfXGXFisO",
          "input": {
            "nodeId": "r1x7GmKiid",
            "pinKey": "S17kjLjs_"
          },
          "output": {
            "nodeId": "HJXGmYos_",
            "pinKey": "Sk3zTLjsO"
          }
        },
        "rk7mMmtsjO": {
          "id": "rk7mMmtsjO",
          "input": {
            "nodeId": "HJXGmYos_",
            "pinKey": "H1fFnUijO"
          },
          "output": {
            "nodeId": "ry-mM7FisO",
            "pinKey": "__out__"
          }
        },
        "H1VQf7Foo_": {
          "id": "H1VQf7Foo_",
          "input": {
            "nodeId": "r1x7GmKiid",
            "pinKey": "SJgqpMIjsu"
          },
          "output": {
            "nodeId": "ry-mM7FisO",
            "pinKey": "__out__"
          }
        },
        "SJfuGXYjiu": {
          "id": "SJfuGXYjiu",
          "input": {
            "nodeId": "HyxOfQKsod",
            "pinKey": "S17kjLjs_"
          },
          "output": {
            "nodeId": "HkuMQFoid",
            "pinKey": "Sk3zTLjsO"
          }
        },
        "rymOG7tjjd": {
          "id": "rymOG7tjjd",
          "input": {
            "nodeId": "HkuMQFoid",
            "pinKey": "H1fFnUijO"
          },
          "output": {
            "nodeId": "HkbdzQKij_",
            "pinKey": "__out__"
          }
        },
        "ByN_MQtiiO": {
          "id": "ByN_MQtiiO",
          "input": {
            "nodeId": "HyxOfQKsod",
            "pinKey": "SJgqpMIjsu"
          },
          "output": {
            "nodeId": "HkbdzQKij_",
            "pinKey": "__out__"
          }
        },
        "Bke_7FjoO": {
          "id": "Bke_7FjoO",
          "input": {
            "nodeId": "HJREQKjjO",
            "pinKey": "SkSuD6LMb"
          },
          "output": {
            "nodeId": "SJCQNvij_",
            "pinKey": "H1ZRz8iju"
          }
        },
        "rJm_7Fjsd": {
          "id": "rJm_7Fjsd",
          "input": {
            "nodeId": "HJXGmYos_",
            "pinKey": "r1johLjod"
          },
          "output": {
            "nodeId": "HJREQKjjO",
            "pinKey": "Bk4gU0drwJ-"
          }
        },
        "H1w-Ntiid": {
          "id": "H1w-Ntiid",
          "input": {
            "nodeId": "SyzpQYosu",
            "pinKey": "SkSuD6LMb"
          },
          "output": {
            "nodeId": "r1x7GmKiid",
            "pinKey": "H1ZRz8iju"
          }
        },
        "rJ0m4Fii_": {
          "id": "rJ0m4Fii_",
          "input": {
            "nodeId": "S1DaQKjou",
            "pinKey": "SkSuD6LMb"
          },
          "output": {
            "nodeId": "HyxOfQKsod",
            "pinKey": "H1ZRz8iju"
          }
        },
        "BJ-E4FjsO": {
          "id": "BJ-E4FjsO",
          "input": {
            "nodeId": "SJ70UOso_",
            "pinKey": "BJI7P8t9Z"
          },
          "output": {
            "nodeId": "S1DaQKjou",
            "pinKey": "Bk4gU0drwJ-"
          }
        },
        "SJnvVYjsO": {
          "id": "SJnvVYjsO",
          "input": {
            "nodeId": "HkuMQFoid",
            "pinKey": "r1johLjod"
          },
          "output": {
            "nodeId": "SyzpQYosu",
            "pinKey": "Bk4gU0drwJ-"
          }
        }
      },
      "path": "@/example-blocking",
      "description": "Demonstration of blocking updates. On startup gauge will be set to zero. The needle of the gauge will then cycle through the following positions: middle, maximum, minimum."
    },
    "@/update": {
      "nodes": {
        "S1dLG8is_": {
          "id": "S1dLG8is_",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "ry4tfLji_": {
          "description": "An X27-589 device.",
          "label": "DEV",
          "id": "ry4tfLji_",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-x27-589-device"
        },
        "Byrac8oo_": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "Byrac8oo_",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/update",
      "description": "Asynchronous non-blocking update of gauge.  It does NOT move the motor to the target position, it advances the motor at most just one step toward the target position. Send a pulse to UPD as often as possible. The advantage of this node over the update-blocking node is that you can control many gauges simultanously, and you wont have long periods of inactivity (and potentially missed I/O events) while your motor is moving.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "\nnode {\n    void evaluate(Context ctx) {\n        // The node responds only if there is an input pulse\n        if (!isInputDirty<input_UPD>(ctx))\n            return;\n\n        // Get a pointer to the `SwitecX25` class instance\n        auto gauge = getValue<input_DEV>(ctx);\n        gauge -> update();\n    }\n}\n"
        }
      ]
    },
    "@/zero": {
      "nodes": {
        "rJbvbIjsO": {
          "id": "rJbvbIjsO",
          "position": {
            "x": 1,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "S1SPWUijd": {
          "description": "An X27-589 device.",
          "label": "DEV",
          "id": "S1SPWUijd",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-x27-589-device"
        },
        "H1xFbLsid": {
          "description": "Pulse when gauge set to zero.",
          "label": "DONE",
          "id": "H1xFbLsid",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "Syygo8si_": {
          "description": "Update.",
          "label": "UPD",
          "id": "Syygo8si_",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/zero",
      "description": "Set gauge to zero position. Slow, blocking operation.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "node {\n    void evaluate(Context ctx) {\n        // The node responds only if there is an input pulse\n        if (!isInputDirty<input_UPD>(ctx))\n            return;\n\n        // Get a pointer to the `SwitecX25` class instance\n        auto gauge = getValue<input_DEV>(ctx);\n        gauge -> zero();\n        emitValue<output_DONE>(ctx, 1);\n    }\n}\n"
        }
      ]
    },
    "@/update-blocking": {
      "nodes": {
        "BJ5TMUsiO": {
          "id": "BJ5TMUsiO",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "SJgqpMIjsu": {
          "description": "An X27-589 device.",
          "label": "DEV",
          "id": "SJgqpMIjsu",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-x27-589-device"
        },
        "H1ZRz8iju": {
          "description": "Pulse on completion of update.",
          "label": "DONE",
          "id": "H1ZRz8iju",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "S17kjLjs_": {
          "description": "Update.",
          "label": "UPD",
          "id": "S17kjLjs_",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/update-blocking",
      "description": "Move the motor smoothly to the position specified by the set-position node. All other actions are blocked until the motor has reached its target position.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "\nnode {\n    void evaluate(Context ctx) {\n        // The node responds only if there is an input pulse\n        if (!isInputDirty<input_UPD>(ctx))\n            return;\n\n        // Get a pointer to the `SwitecX25` class instance\n        auto gauge = getValue<input_DEV>(ctx);\n        gauge -> updateBlocking();\n        emitValue<output_DONE>(ctx, 1);\n    }\n}\n"
        }
      ]
    },
    "@/x27-589-device": {
      "nodes": {
        "SyfXe8jjO": {
          "id": "SyfXe8jjO",
          "position": {
            "x": -10,
            "y": -4,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "SJ27xLsiu": {
          "boundLiterals": {
            "__out__": "D8"
          },
          "description": "1st digital output pin.",
          "label": "PIN1",
          "id": "SJ27xLsiu",
          "position": {
            "x": -10,
            "y": -5,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-port"
        },
        "ByQ4g8iid": {
          "boundLiterals": {
            "__out__": "D9"
          },
          "description": "2nd digitial output pin.",
          "label": "PIN2",
          "id": "ByQ4g8iid",
          "position": {
            "x": -9,
            "y": -5,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-port"
        },
        "SkhQEgLood": {
          "boundLiterals": {
            "__out__": "D10"
          },
          "description": "3rd digital output pin.",
          "label": "PIN3",
          "id": "SkhQEgLood",
          "position": {
            "x": -8,
            "y": -5,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-port"
        },
        "rki44x8osu": {
          "boundLiterals": {
            "__out__": "D11"
          },
          "description": "4th digital output pin.",
          "label": "PIN4",
          "id": "rki44x8osu",
          "position": {
            "x": -7,
            "y": -5,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-port"
        },
        "H1ZzbIsid": {
          "description": "An X27-589 device.",
          "label": "DEV",
          "id": "H1ZzbIsid",
          "position": {
            "x": -10,
            "y": -3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-self"
        }
      },
      "path": "@/x27-589-device",
      "description": "Create an X27-589 device.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "\n// Tell XOD where it could download the library:\n#pragma XOD require \"https://github.com/clearwater/SwitecX25\"\n\n//Include C++ libraries\n#include <SwitecX25.h>\n\nnode {\n\n    meta {\n        using Type = SwitecX25*;\n    }\n\n    static_assert(isValidDigitalPort(constant_input_PIN1), \"must be a valid digital port\");\n    static_assert(isValidDigitalPort(constant_input_PIN2), \"must be a valid digital port\");\n    static_assert(isValidDigitalPort(constant_input_PIN3), \"must be a valid digital port\");\n    static_assert(isValidDigitalPort(constant_input_PIN4), \"must be a valid digital port\");\n\n    // Number of steps = 315*3 = 945\n    const uint16_t STEPS = 945;\n    SwitecX25 gauge = SwitecX25(STEPS, constant_input_PIN1, constant_input_PIN2, constant_input_PIN3, constant_input_PIN4);\n\n    void evaluate(Context ctx) {\n        // It should be evaluated only once on the first (setup) transaction\n        if (!isSettingUp())\n            return;\n\n        emitValue<output_DEV>(ctx, &gauge);\n    }\n}\n"
        }
      ]
    },
    "@/set-position": {
      "nodes": {
        "ryoO2Uood": {
          "id": "ryoO2Uood",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "H1fFnUijO": {
          "description": "An X27-589 device.",
          "label": "DEV",
          "id": "H1fFnUijO",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-x27-589-device"
        },
        "ryvc2Lisd": {
          "description": "Target position.",
          "label": "POS",
          "id": "ryvc2Lisd",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-number"
        },
        "r1johLjod": {
          "description": "Update.",
          "label": "UPD",
          "id": "r1johLjod",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "Sk3zTLjsO": {
          "description": "Pulse on completion.",
          "label": "DONE",
          "id": "Sk3zTLjsO",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        }
      },
      "path": "@/set-position",
      "description": "Change the target position of the motor.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "\nnode {\n    void evaluate(Context ctx) {\n        // The node responds only if there is an input pulse\n        if (!isInputDirty<input_UPD>(ctx))\n            return;\n\n        // Get a pointer to the `SwitecX25` class instance\n        auto gauge = getValue<input_DEV>(ctx);\n        gauge -> setPosition(getValue<input_POS>(ctx));\n        emitValue<output_DONE>(ctx, 1);\n    }\n}\n"
        }
      ]
    }
  },
  "license": "BSD",
  "version": "0.0.3",
  "description": "X27-589 automotive gauge. Work in progress. Wraps Guy Carpenter's SwitecX25 arduino library (https://github.com/clearwater/SwitecX25).",
  "name": "x27-589-gauge"
}
