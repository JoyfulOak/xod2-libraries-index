{
  "patches": {
    "@/example-read-luminosity-only": {
      "nodes": {
        "BJE6zgJoL": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "BJE6zgJoL",
          "position": {
            "x": 1,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "BJHazeyiU": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "BJHazeyiU",
          "position": {
            "x": 3,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "BJz9zgkjL": {
          "id": "BJz9zgkjL",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "@/read-luminosity"
        },
        "BkPTzlJj8": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "BkPTzlJj8",
          "position": {
            "x": 7,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "HkOg7e1j8": {
          "id": "HkOg7e1j8",
          "position": {
            "x": 7,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/core/count"
        },
        "Hy3qzgkiU": {
          "boundLiterals": {
            "B13SCNhl-": "1"
          },
          "id": "Hy3qzgkiU",
          "position": {
            "x": 2,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/core/clock"
        },
        "HyhhMg1sU": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "HyhhMg1sU",
          "position": {
            "x": -1,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "rJE1mxJjU": {
          "id": "rJE1mxJjU",
          "position": {
            "x": 1,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/core/subtract"
        },
        "ryqFze1jI": {
          "id": "ryqFze1jI",
          "position": {
            "x": 1,
            "y": 1,
            "units": "slots"
          },
          "type": "@/tsl2591-device"
        }
      },
      "links": {
        "BkOGXgys8": {
          "id": "BkOGXgys8",
          "input": {
            "nodeId": "rJE1mxJjU",
            "pinKey": "BypX80uSD1Z"
          },
          "output": {
            "nodeId": "BJz9zgkjL",
            "pinKey": "HJf6m6LR9U"
          }
        },
        "BywoMgkoI": {
          "id": "BywoMgkoI",
          "input": {
            "nodeId": "BJz9zgkjL",
            "pinKey": "SyW6XaLRqL"
          },
          "output": {
            "nodeId": "Hy3qzgkiU",
            "pinKey": "HJU8CE2lW"
          }
        },
        "H1U5fgJjU": {
          "id": "H1U5fgJjU",
          "input": {
            "nodeId": "BJz9zgkjL",
            "pinKey": "Syg6mTLR5I"
          },
          "output": {
            "nodeId": "ryqFze1jI",
            "pinKey": "S1itG8A9L"
          }
        },
        "H1VQ7gkjI": {
          "id": "H1VQ7gkjI",
          "input": {
            "nodeId": "BkPTzlJj8",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "HkOg7e1j8",
            "pinKey": "r1yhZRd8W"
          }
        },
        "H1bfmeJj8": {
          "id": "H1bfmeJj8",
          "input": {
            "nodeId": "HyhhMg1sU",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "BJz9zgkjL",
            "pinKey": "HJf6m6LR9U"
          }
        },
        "H1cGmx1s8": {
          "id": "H1cGmx1s8",
          "input": {
            "nodeId": "rJE1mxJjU",
            "pinKey": "rkJ4URuHDJ-"
          },
          "output": {
            "nodeId": "BJz9zgkjL",
            "pinKey": "Sy7pmaLR98"
          }
        },
        "SJzzQlJjU": {
          "id": "SJzzQlJjU",
          "input": {
            "nodeId": "BJHazeyiU",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "BJz9zgkjL",
            "pinKey": "Sy7pmaLR98"
          }
        },
        "SyTbme1jL": {
          "id": "SyTbme1jL",
          "input": {
            "nodeId": "HkOg7e1j8",
            "pinKey": "HJAq-A_8-"
          },
          "output": {
            "nodeId": "BJz9zgkjL",
            "pinKey": "r1B6mpLC98"
          }
        },
        "ryazmlJiI": {
          "id": "ryazmlJiI",
          "input": {
            "nodeId": "BJE6zgJoL",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "rJE1mxJjU",
            "pinKey": "HyRmUCdBDkZ"
          }
        }
      },
      "comments": {
        "BkcwQxysU": {
          "content": "Luminosity of visible light.",
          "id": "BkcwQxysU",
          "position": {
            "x": 3,
            "y": 4,
            "units": "slots"
          },
          "size": {
            "height": 1,
            "width": 3,
            "units": "slots"
          }
        },
        "S1u2mg1sL": {
          "content": "Number of readings.",
          "id": "S1u2mg1sL",
          "position": {
            "x": 9,
            "y": 4,
            "units": "slots"
          },
          "size": {
            "height": 1,
            "width": 3,
            "units": "slots"
          }
        }
      },
      "path": "@/example-read-luminosity-only",
      "description": "Demonstration of the read-luminosity node. This node is useful if you are only interested in the raw data from the sensor. Run patch in debugger."
    },
    "@/example-test-lux-meter": {
      "nodes": {
        "BJTqdHyj8": {
          "id": "BJTqdHyj8",
          "position": {
            "x": 11,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "BJct_rkjL": {
          "id": "BJct_rkjL",
          "position": {
            "x": 12,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/core/count"
        },
        "BkvN_rys8": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "BkvN_rys8",
          "position": {
            "x": 4,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "By1tdSkiL": {
          "id": "By1tdSkiL",
          "position": {
            "x": 4,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/core/clock"
        },
        "H11NdHkiL": {
          "boundLiterals": {
            "SykJ8wjXN": "02h"
          },
          "id": "H11NdHkiL",
          "position": {
            "x": 9,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/debug/tweak-byte"
        },
        "H1ngdHkoL": {
          "id": "H1ngdHkoL",
          "position": {
            "x": 7,
            "y": 1,
            "units": "slots"
          },
          "type": "@/lux-meter"
        },
        "H1vidByj8": {
          "id": "H1vidByj8",
          "position": {
            "x": 10,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "Hy2Q_ByjU": {
          "boundLiterals": {
            "SykJ8wjXN": "10h"
          },
          "id": "Hy2Q_ByjU",
          "position": {
            "x": 8,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/debug/tweak-byte"
        },
        "HygBOB1j8": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "HygBOB1j8",
          "position": {
            "x": 6,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "Sk-8uryi8": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "Sk-8uryi8",
          "position": {
            "x": 8,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "Skf9dSyo8": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "Skf9dSyo8",
          "position": {
            "x": 12,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        }
      },
      "links": {
        "BkxuOSJoU": {
          "id": "BkxuOSJoU",
          "input": {
            "nodeId": "HygBOB1j8",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "H1ngdHkoL",
            "pinKey": "SJwJ3VJjU"
          }
        },
        "H1WiuSkoU": {
          "id": "H1WiuSkoU",
          "input": {
            "nodeId": "BJTqdHyj8",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "H1ngdHkoL",
            "pinKey": "SyHaUSys8"
          }
        },
        "H1couByiU": {
          "id": "H1couByiU",
          "input": {
            "nodeId": "H1vidByj8",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "H1ngdHkoL",
            "pinKey": "B1q_UB1i8"
          }
        },
        "HJ8OdH1oU": {
          "id": "HJ8OdH1oU",
          "input": {
            "nodeId": "H1ngdHkoL",
            "pinKey": "rkc6jNkj8"
          },
          "output": {
            "nodeId": "Hy2Q_ByjU",
            "pinKey": "SykJ8wjXN"
          }
        },
        "HJP_dByjU": {
          "id": "HJP_dByjU",
          "input": {
            "nodeId": "H1ngdHkoL",
            "pinKey": "SJCasNkiL"
          },
          "output": {
            "nodeId": "H11NdHkiL",
            "pinKey": "SykJ8wjXN"
          }
        },
        "r1Y9dr1iU": {
          "id": "r1Y9dr1iU",
          "input": {
            "nodeId": "Skf9dSyo8",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "BJct_rkjL",
            "pinKey": "r1yhZRd8W"
          }
        },
        "rJHjdByoI": {
          "id": "rJHjdByoI",
          "input": {
            "nodeId": "BJct_rkjL",
            "pinKey": "HJAq-A_8-"
          },
          "output": {
            "nodeId": "H1ngdHkoL",
            "pinKey": "rJ61nE1iI"
          }
        },
        "rkGd_rys8": {
          "id": "rkGd_rys8",
          "input": {
            "nodeId": "Sk-8uryi8",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "H1ngdHkoL",
            "pinKey": "S1dkhNJsI"
          }
        },
        "ryNtdryoL": {
          "id": "ryNtdryoL",
          "input": {
            "nodeId": "H1ngdHkoL",
            "pinKey": "BJO7341sI"
          },
          "output": {
            "nodeId": "By1tdSkiL",
            "pinKey": "HJU8CE2lW"
          }
        },
        "ryRD_S1j8": {
          "id": "ryRD_S1j8",
          "input": {
            "nodeId": "BkvN_rys8",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "H1ngdHkoL",
            "pinKey": "Byxk2NyjU"
          }
        }
      },
      "path": "@/example-test-lux-meter",
      "description": "Test of lux meter. Run in debugger and use tweak-byte nodes to change gain and integration time settings on the fly."
    },
    "@/example-two-tsl2591-devices": {
      "nodes": {
        "BJYuz-PDu": {
          "boundLiterals": {
            "BJO7341sI": "Continuously",
            "rkc6jNkj8": "00h"
          },
          "id": "BJYuz-PDu",
          "position": {
            "x": 12,
            "y": 2,
            "units": "slots"
          },
          "type": "@/lux-meter"
        },
        "S1G9zWvvu": {
          "boundLiterals": {
            "BJO7341sI": "Continuously",
            "rkc6jNkj8": "20h"
          },
          "id": "S1G9zWvvu",
          "position": {
            "x": 20,
            "y": 2,
            "units": "slots"
          },
          "type": "@/lux-meter"
        },
        "H19yL-Dv_": {
          "id": "H19yL-Dv_",
          "position": {
            "x": 12,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/i2c/i2c"
        },
        "S1XxIbDD_": {
          "id": "S1XxIbDD_",
          "position": {
            "x": 20,
            "y": 1,
            "units": "slots"
          },
          "type": "wayland/i2c-additional-buses/i2c-wire1"
        },
        "Bk_ZUWvvu": {
          "id": "Bk_ZUWvvu",
          "position": {
            "x": 14,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "rJlfUWDvu": {
          "id": "rJlfUWDvu",
          "position": {
            "x": 22,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "HynwcWwPO": {
          "size": {
            "width": 2,
            "height": 1,
            "units": "slots"
          },
          "id": "HynwcWwPO",
          "position": {
            "x": 15,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "By1uqZvDu": {
          "size": {
            "width": 2,
            "height": 1,
            "units": "slots"
          },
          "id": "By1uqZvDu",
          "position": {
            "x": 23,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        }
      },
      "links": {
        "By0JLbDv_": {
          "id": "By0JLbDv_",
          "input": {
            "nodeId": "BJYuz-PDu",
            "pinKey": "S19iWWvwO"
          },
          "output": {
            "nodeId": "H19yL-Dv_",
            "pinKey": "HyvnPf3kQ"
          }
        },
        "rk_x8-vw_": {
          "id": "rk_x8-vw_",
          "input": {
            "nodeId": "S1G9zWvvu",
            "pinKey": "S19iWWvwO"
          },
          "output": {
            "nodeId": "S1XxIbDD_",
            "pinKey": "HkzqwgmD_"
          }
        },
        "HJpWIZvDO": {
          "id": "HJpWIZvDO",
          "input": {
            "nodeId": "Bk_ZUWvvu",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "BJYuz-PDu",
            "pinKey": "S1dkhNJsI"
          }
        },
        "S1mGUZwwu": {
          "id": "S1mGUZwwu",
          "input": {
            "nodeId": "rJlfUWDvu",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "S1G9zWvvu",
            "pinKey": "S1dkhNJsI"
          }
        },
        "SJM_q-DPO": {
          "id": "SJM_q-DPO",
          "output": {
            "nodeId": "S1G9zWvvu",
            "pinKey": "B1q_UB1i8"
          },
          "input": {
            "nodeId": "By1uqZvDu",
            "pinKey": "HkXK-dGob"
          }
        },
        "Bk4u9bwPu": {
          "id": "Bk4u9bwPu",
          "output": {
            "nodeId": "BJYuz-PDu",
            "pinKey": "B1q_UB1i8"
          },
          "input": {
            "nodeId": "HynwcWwPO",
            "pinKey": "HkXK-dGob"
          }
        }
      },
      "comments": {
        "Hyay3ZPP_": {
          "id": "Hyay3ZPP_",
          "position": {
            "x": 14,
            "y": 1,
            "units": "slots"
          },
          "size": {
            "width": 4,
            "height": 1,
            "units": "slots"
          },
          "content": "**Wire** \n1st hardware I²C bus."
        },
        "ryjfnZvvu": {
          "id": "ryjfnZvvu",
          "position": {
            "x": 22,
            "y": 1,
            "units": "slots"
          },
          "size": {
            "width": 4,
            "height": 1,
            "units": "slots"
          },
          "content": "**Wire1** \n2nd hardware I²C bus."
        }
      },
      "path": "@/example-two-tsl2591-devices",
      "description": "Use of two TSL2591 devices, each on its own hardware I²C bus."
    },
    "@/lux-meter": {
      "nodes": {
        "B1q_UB1i8": {
          "description": "Current value of gain: 00h = low gain (1x), 10h = medium gain (25x), 20h = medium gain (428x), 30h = high gain (9876x).",
          "label": "G",
          "id": "B1q_UB1i8",
          "position": {
            "x": 6,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-byte"
        },
        "BJO7341sI": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update. Trigger read.",
          "label": "UPD",
          "id": "BJO7341sI",
          "position": {
            "x": 2,
            "y": -1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "BJxwBLH1j8": {
          "id": "BJxwBLH1j8",
          "position": {
            "x": 6,
            "y": 3,
            "units": "slots"
          },
          "type": "@/get-gain"
        },
        "Bkk-oS1s8": {
          "id": "Bkk-oS1s8",
          "position": {
            "x": 9,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/core/any"
        },
        "Byxk2NyjU": {
          "description": "Luminosity (raw count) of full spectrum (visible and infrared).",
          "label": "FULL",
          "id": "Byxk2NyjU",
          "position": {
            "x": 1,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "H1GDr8SysU": {
          "id": "H1GDr8SysU",
          "position": {
            "x": 13,
            "y": 2,
            "units": "slots"
          },
          "type": "@/set-timing"
        },
        "H1NPr8rki8": {
          "label": "DEV",
          "id": "H1NPr8rki8",
          "position": {
            "x": 6,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "H1t3oE1sI": {
          "id": "H1t3oE1sI",
          "position": {
            "x": 1,
            "y": 1,
            "units": "slots"
          },
          "type": "@/read-lux"
        },
        "Hk7P8H1sI": {
          "label": "DEV",
          "id": "Hk7P8H1sI",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/to-bus"
        },
        "S1ZwHUS1jI": {
          "id": "S1ZwHUS1jI",
          "position": {
            "x": 7,
            "y": 2,
            "units": "slots"
          },
          "type": "@/set-gain"
        },
        "S1dkhNJsI": {
          "description": "Lux (or < 0 if overflow)",
          "label": "LUX",
          "id": "S1dkhNJsI",
          "position": {
            "x": 3,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "S1fajNyiU": {
          "id": "S1fajNyiU",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/tsl2591-device"
        },
        "SJCasNkiL": {
          "boundLiterals": {
            "__out__": "02h"
          },
          "description": "Integration time (milliseconds). Options: 100ms = 00h, 200ms = 01h, 300ms = 02h, 400ms = 03h,  500ms = 04h, 600ms = 05h.",
          "label": "TIME",
          "id": "SJCasNkiL",
          "position": {
            "x": 14,
            "y": -1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-byte"
        },
        "SJlxoSyj8": {
          "id": "SJlxoSyj8",
          "position": {
            "x": 12,
            "y": -1,
            "units": "slots"
          },
          "type": "xod/core/boot"
        },
        "SJwJ3VJjU": {
          "description": "Infrared luminosity (raw count).",
          "label": "IR",
          "id": "SJwJ3VJjU",
          "position": {
            "x": 2,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "SkyVoByoU": {
          "id": "SkyVoByoU",
          "position": {
            "x": 15,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/core/any"
        },
        "SyHaUSys8": {
          "description": "Integration time: 00h = 100ms, 01h = 200ms, 02h = 300ms, 03h = 400ms, 04h = 500ms, 05h = 600ms.",
          "label": "IT",
          "id": "SyHaUSys8",
          "position": {
            "x": 12,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-byte"
        },
        "SySbvHJsL": {
          "id": "SySbvHJsL",
          "position": {
            "x": 15,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/core/pulse-on-change"
        },
        "rJ61nE1iI": {
          "label": "DONE",
          "id": "rJ61nE1iI",
          "position": {
            "x": 13,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "rJclPHkjL": {
          "id": "rJclPHkjL",
          "position": {
            "x": 9,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/core/pulse-on-change"
        },
        "rJmPSLH1oU": {
          "label": "DEV",
          "id": "rJmPSLH1oU",
          "position": {
            "x": 12,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "rkc6jNkj8": {
          "boundLiterals": {
            "__out__": "10h"
          },
          "description": "Sensor gain.  Options: low (1x) = 00h, medium (25x) = 10h,  high (428x) = 20h, max (9876x) = 30h. ",
          "label": "GAIN",
          "id": "rkc6jNkj8",
          "position": {
            "x": 8,
            "y": -1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-byte"
        },
        "ryPr8rkoI": {
          "id": "ryPr8rkoI",
          "position": {
            "x": 12,
            "y": 3,
            "units": "slots"
          },
          "type": "@/get-timing"
        },
        "S19iWWvwO": {
          "description": "I²C bus.",
          "label": "I2C",
          "id": "S19iWWvwO",
          "position": {
            "x": 0,
            "y": -1,
            "units": "slots"
          },
          "type": "xod/i2c/input-i2c"
        },
        "SyfboZDwO": {
          "id": "SyfboZDwO",
          "type": "xod/core/delay",
          "position": {
            "x": 11,
            "y": 0,
            "units": "slots"
          },
          "boundLiterals": {
            "Skre8ROSv1-": "3"
          }
        }
      },
      "links": {
        "B1Mxh4Jj8": {
          "id": "B1Mxh4Jj8",
          "input": {
            "nodeId": "rJ61nE1iI",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "H1t3oE1sI",
            "pinKey": "Bya698C9U"
          }
        },
        "B1kxsrjvD": {
          "id": "B1kxsrjvD",
          "input": {
            "nodeId": "SySbvHJsL",
            "pinKey": "BkjI-COLb"
          },
          "output": {
            "nodeId": "SJCasNkiL",
            "pinKey": "__out__"
          }
        },
        "B1w42E1sL": {
          "id": "B1w42E1sL",
          "input": {
            "nodeId": "H1t3oE1sI",
            "pinKey": "B1yfq8058"
          },
          "output": {
            "nodeId": "BJO7341sI",
            "pinKey": "__out__"
          }
        },
        "BJIDS8ryoU": {
          "id": "BJIDS8ryoU",
          "input": {
            "nodeId": "ryPr8rkoI",
            "pinKey": "BJzND2yyj8"
          },
          "output": {
            "nodeId": "H1GDr8SysU",
            "pinKey": "SJXg9U3R5I"
          }
        },
        "H1awIrkoU": {
          "id": "H1awIrkoU",
          "input": {
            "nodeId": "Hk7P8H1sI",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "S1fajNyiU",
            "pinKey": "S1itG8A9L"
          }
        },
        "H1fwsBki8": {
          "id": "H1fwsBki8",
          "input": {
            "nodeId": "SkyVoByoU",
            "pinKey": "ryv7IRdSP1b"
          },
          "output": {
            "nodeId": "SySbvHJsL",
            "pinKey": "ByAIWR_UZ"
          }
        },
        "HJPvSLryj8": {
          "id": "HJPvSLryj8",
          "input": {
            "nodeId": "S1ZwHUS1jI",
            "pinKey": "BkFCA8Aq8"
          },
          "output": {
            "nodeId": "H1NPr8rki8",
            "pinKey": "__out__"
          }
        },
        "HJQvoSyoU": {
          "id": "HJQvoSyoU",
          "input": {
            "nodeId": "H1GDr8SysU",
            "pinKey": "BJzlcUnRqI"
          },
          "output": {
            "nodeId": "SkyVoByoU",
            "pinKey": "ByHmL0uHPk-"
          }
        },
        "HkAdUHyoU": {
          "id": "HkAdUHyoU",
          "input": {
            "nodeId": "B1q_UB1i8",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "BJxwBLH1j8",
            "pinKey": "Bkk6i1yoL"
          }
        },
        "HkG1jSsvw": {
          "id": "HkG1jSsvw",
          "input": {
            "nodeId": "S1ZwHUS1jI",
            "pinKey": "BJSZ1PC58"
          },
          "output": {
            "nodeId": "rkc6jNkj8",
            "pinKey": "__out__"
          }
        },
        "HkPgnEkoU": {
          "id": "HkPgnEkoU",
          "input": {
            "nodeId": "Byxk2NyjU",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "H1t3oE1sI",
            "pinKey": "B1Gm5LCcL"
          }
        },
        "HkSHoSyoL": {
          "id": "HkSHoSyoL",
          "input": {
            "nodeId": "Bkk-oS1s8",
            "pinKey": "ryv7IRdSP1b"
          },
          "output": {
            "nodeId": "rJclPHkjL",
            "pinKey": "ByAIWR_UZ"
          }
        },
        "S1h1jrsDP": {
          "id": "S1h1jrsDP",
          "input": {
            "nodeId": "H1GDr8SysU",
            "pinKey": "Bkbg9IhCqI"
          },
          "output": {
            "nodeId": "SJCasNkiL",
            "pinKey": "__out__"
          }
        },
        "SJSe2Vyj8": {
          "id": "SJSe2Vyj8",
          "input": {
            "nodeId": "SJwJ3VJjU",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "H1t3oE1sI",
            "pinKey": "Hy8mqUAqI"
          }
        },
        "SkOBsH1s8": {
          "id": "SkOBsH1s8",
          "input": {
            "nodeId": "S1ZwHUS1jI",
            "pinKey": "B1SKwYC5U"
          },
          "output": {
            "nodeId": "Bkk-oS1s8",
            "pinKey": "ByHmL0uHPk-"
          }
        },
        "SkSwHUS1jU": {
          "id": "SkSwHUS1jU",
          "input": {
            "nodeId": "BJxwBLH1j8",
            "pinKey": "rJHSh1yiU"
          },
          "output": {
            "nodeId": "S1ZwHUS1jI",
            "pinKey": "SkXJdFRq8"
          }
        },
        "SyBysrivD": {
          "id": "SyBysrivD",
          "input": {
            "nodeId": "rJclPHkjL",
            "pinKey": "BkjI-COLb"
          },
          "output": {
            "nodeId": "rkc6jNkj8",
            "pinKey": "__out__"
          }
        },
        "SyFvSUSkoI": {
          "id": "SyFvSUSkoI",
          "input": {
            "nodeId": "ryPr8rkoI",
            "pinKey": "B1xEvhJkjU"
          },
          "output": {
            "nodeId": "rJmPSLH1oU",
            "pinKey": "__out__"
          }
        },
        "SyVghNyi8": {
          "id": "SyVghNyi8",
          "input": {
            "nodeId": "S1dkhNJsI",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "H1t3oE1sI",
            "pinKey": "Hkx87qLCcI"
          }
        },
        "r19PHUHksL": {
          "id": "r19PHUHksL",
          "input": {
            "nodeId": "BJxwBLH1j8",
            "pinKey": "H1Ooiy1sU"
          },
          "output": {
            "nodeId": "H1NPr8rki8",
            "pinKey": "__out__"
          }
        },
        "r1N6jEyjI": {
          "id": "r1N6jEyjI",
          "input": {
            "nodeId": "H1t3oE1sI",
            "pinKey": "BkSg5UR9L"
          },
          "output": {
            "nodeId": "S1fajNyiU",
            "pinKey": "S1itG8A9L"
          }
        },
        "rJj0ISksU": {
          "id": "rJj0ISksU",
          "input": {
            "nodeId": "SyHaUSys8",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "ryPr8rkoI",
            "pinKey": "HJZEP31ysI"
          }
        },
        "rydDB8S1sI": {
          "id": "rydDB8S1sI",
          "input": {
            "nodeId": "H1GDr8SysU",
            "pinKey": "Hkxg5I20qL"
          },
          "output": {
            "nodeId": "rJmPSLH1oU",
            "pinKey": "__out__"
          }
        },
        "SkAs-WDvO": {
          "id": "SkAs-WDvO",
          "input": {
            "nodeId": "S1fajNyiU",
            "pinKey": "Hkr8us4D_"
          },
          "output": {
            "nodeId": "S19iWWvwO",
            "pinKey": "__out__"
          }
        },
        "B1rMibPPu": {
          "id": "B1rMibPPu",
          "output": {
            "nodeId": "SJlxoSyj8",
            "pinKey": "ryVmUAOrvkb"
          },
          "input": {
            "nodeId": "SyfboZDwO",
            "pinKey": "SkSuD6LMb"
          }
        },
        "ryuGo-vvd": {
          "id": "ryuGo-vvd",
          "output": {
            "nodeId": "SyfboZDwO",
            "pinKey": "Bk4gU0drwJ-"
          },
          "input": {
            "nodeId": "Bkk-oS1s8",
            "pinKey": "ByU7LRuSPkW"
          }
        },
        "SJiGjZwDu": {
          "id": "SJiGjZwDu",
          "output": {
            "nodeId": "SyfboZDwO",
            "pinKey": "Bk4gU0drwJ-"
          },
          "input": {
            "nodeId": "SkyVoByoU",
            "pinKey": "ByU7LRuSPkW"
          }
        }
      },
      "path": "@/lux-meter",
      "description": "Combines lower level nodes to creat a lux meter."
    },
    "@/read-luminosity": {
      "nodes": {
        "Bk6Qa8C9I": {
          "id": "Bk6Qa8C9I",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "HJf6m6LR9U": {
          "description": "Luminosity (raw count) of full spectrum (visible and infrared).",
          "label": "FULL",
          "id": "HJf6m6LR9U",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "Sy7pmaLR98": {
          "description": "Infrared luminosity (raw count).",
          "label": "IR",
          "id": "Sy7pmaLR98",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "SyW6XaLRqL": {
          "description": "Update. Trigger read.",
          "label": "UPD",
          "id": "SyW6XaLRqL",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "Syg6mTLR5I": {
          "description": "A tsl2591-device.",
          "label": "DEV",
          "id": "Syg6mTLR5I",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-tsl2591-device"
        },
        "r1B6mpLC98": {
          "description": "Pulse on completion.",
          "label": "DONE",
          "id": "r1B6mpLC98",
          "position": {
            "x": 2,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        }
      },
      "path": "@/read-luminosity",
      "description": "Read luminosity (raw count) of full spectrum (visible and IR) and IR component. Subtract IR from FULL to get luminosity of visible light.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "\nstruct State {\n};\n\n{{ GENERATED_CODE }}\n\nvoid evaluate(Context ctx) {\n    // The node responds only if there is an input pulse\n    if (!isInputDirty<input_UPD>(ctx))\n        return;\n\n    // Get a pointer to the `Adafruit_TSL2591` class instance\n    auto sensor = getValue<input_DEV>(ctx);\n    uint32_t lum = sensor->getFullLuminosity();\n    uint16_t ir, full;\n    ir = lum >> 16;\n    full = lum & 0xFFFF;\n    emitValue<output_FULL>(ctx, full);\n    emitValue<output_IR>(ctx, ir);\n    emitValue<output_DONE>(ctx, 1);\n}\n"
        }
      ]
    },
    "@/get-timing": {
      "nodes": {
        "B1xEvhJkjU": {
          "description": "A tsl2591-device.",
          "label": "DEV",
          "id": "B1xEvhJkjU",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-tsl2591-device"
        },
        "BJzND2yyj8": {
          "description": "Update. Trigger get-gain.",
          "label": "UPD",
          "id": "BJzND2yyj8",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "HJZEP31ysI": {
          "description": "Integration time: 00h = 100ms, 01h = 200ms, 02h = 300ms, 03h = 400ms, 04h = 500ms, 05h = 600ms.",
          "label": "TIME",
          "id": "HJZEP31ysI",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-byte"
        },
        "HkSTTgysL": {
          "description": "Pulse on completion.",
          "label": "DONE",
          "id": "HkSTTgysL",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "SJND2J1jU": {
          "id": "SJND2J1jU",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        }
      },
      "path": "@/get-timing",
      "description": "Get integration time of sensor.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "node {\n    void evaluate(Context ctx) {\n        // The node responds only if there is an input pulse\n        if (!isInputDirty<input_UPD>(ctx))\n            return;\n\n        // Get a pointer to the `Adafruit_TSL2591` class instance\n        auto sensor = getValue<input_DEV>(ctx);\n        emitValue<output_TIME>(ctx, sensor->getTiming());\n        emitValue<output_DONE>(ctx, 1);\n    }\n}\n\n\n"
        }
      ]
    },
    "@/read-lux": {
      "nodes": {
        "B1Gm5LCcL": {
          "description": "Luminosity (raw count) of full spectrum (visible and infrared).",
          "label": "FULL",
          "id": "B1Gm5LCcL",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "B1yfq8058": {
          "description": "Update. Trigger read.",
          "label": "UPD",
          "id": "B1yfq8058",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "BkSg5UR9L": {
          "description": "A tsl2591-device.",
          "label": "DEV",
          "id": "BkSg5UR9L",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-tsl2591-device"
        },
        "Bya698C9U": {
          "description": "Pulse on completion.",
          "label": "DONE",
          "id": "Bya698C9U",
          "position": {
            "x": 3,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "H1WlqUC9U": {
          "id": "H1WlqUC9U",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Hkx87qLCcI": {
          "description": "Lux (or < 0 if overflow)",
          "label": "LUX",
          "id": "Hkx87qLCcI",
          "position": {
            "x": 2,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "Hy8mqUAqI": {
          "description": "Infrared luminosity (raw count).",
          "label": "IR",
          "id": "Hy8mqUAqI",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        }
      },
      "path": "@/read-lux",
      "description": "Read lux and raw luminosity  measurements.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "node {\n    void evaluate(Context ctx) {\n        // The node responds only if there is an input pulse\n        if (!isInputDirty<input_UPD>(ctx))\n            return;\n\n        // Get a pointer to the `Adafruit_TSL2591` class instance\n        auto sensor = getValue<input_DEV>(ctx);\n        uint32_t lum = sensor -> getFullLuminosity();\n        uint16_t ir, full;\n        ir = lum >> 16;\n        full = lum & 0xFFFF;\n        emitValue<output_FULL>(ctx, full);\n        emitValue<output_IR>(ctx, ir);\n        emitValue<output_LUX>(ctx, sensor->calculateLux(full, ir));\n        emitValue<output_DONE>(ctx, 1);\n    }\n}\n\n"
        }
      ]
    },
    "@/set-gain": {
      "nodes": {
        "B1SKwYC5U": {
          "description": "Update. Trigger set-gain.",
          "label": "UPD",
          "id": "B1SKwYC5U",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "BJSZ1PC58": {
          "boundLiterals": {
            "__out__": "10h"
          },
          "description": "Sensor gain.  Options: low (1x) = 00h, medium (25x) = 10h,  high (428x) = 20h, max (9876x) = 30h. ",
          "label": "GAIN",
          "id": "BJSZ1PC58",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-byte"
        },
        "BkFCA8Aq8": {
          "description": "A tsl2591-device.",
          "label": "DEV",
          "id": "BkFCA8Aq8",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-tsl2591-device"
        },
        "H1mRRIC5I": {
          "id": "H1mRRIC5I",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "SkXJdFRq8": {
          "description": "Pulse on completion.",
          "label": "DONE",
          "id": "SkXJdFRq8",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        }
      },
      "path": "@/set-gain",
      "description": "Set sensor gain. ",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "node {\n    void evaluate(Context ctx) {\n        // The node responds only if there is an input pulse\n        if (!isInputDirty<input_UPD>(ctx))\n            return;\n\n        // Get a pointer to the `Adafruit_TSL2591` class instance\n        auto sensor = getValue<input_DEV>(ctx);\n        sensor -> setGain((tsl2591Gain_t)getValue<input_GAIN>(ctx));\n        emitValue<output_DONE>(ctx, 1);\n    }\n}\n"
        }
      ]
    },
    "@/get-gain": {
      "nodes": {
        "Bkk6i1yoL": {
          "description": "Current value of gain: 00h = low gain (1x), 10h = medium gain (25x), 20h = medium gain (428x), 30h = high gain (9876x).",
          "label": "GAIN",
          "id": "Bkk6i1yoL",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-byte"
        },
        "H1Ooiy1sU": {
          "description": "A tsl2591-device.",
          "label": "DEV",
          "id": "H1Ooiy1sU",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-tsl2591-device"
        },
        "Sye3alysL": {
          "description": "Pulse on completion.",
          "label": "DONE",
          "id": "Sye3alysL",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "rJHSh1yiU": {
          "description": "Update. Trigger get-gain.",
          "label": "UPD",
          "id": "rJHSh1yiU",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "ryZ_s1yjL": {
          "id": "ryZ_s1yjL",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        }
      },
      "path": "@/get-gain",
      "description": "Get gain of sensor.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "node {\n    void evaluate(Context ctx) {\n        // The node responds only if there is an input pulse\n        if (!isInputDirty<input_UPD>(ctx))\n            return;\n\n        // Get a pointer to the `Adafruit_TSL2591` class instance\n        auto sensor = getValue<input_DEV>(ctx);\n        emitValue<output_GAIN>(ctx, sensor->getGain());\n        emitValue<output_DONE>(ctx, 1);\n    }\n}\n"
        }
      ]
    },
    "@/set-timing": {
      "nodes": {
        "BJzlcUnRqI": {
          "description": "Update. Trigger set-gain.",
          "label": "UPD",
          "id": "BJzlcUnRqI",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "Bkbg9IhCqI": {
          "boundLiterals": {
            "__out__": "02h"
          },
          "description": "Integration time (milliseconds). Options: 100ms = 00h, 200ms = 01h, 300ms = 02h, 400ms = 03h,  500ms = 04h, 600ms = 05h.",
          "label": "TIME",
          "id": "Bkbg9IhCqI",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-byte"
        },
        "Hkxg5I20qL": {
          "description": "A tsl2591-device.",
          "label": "DEV",
          "id": "Hkxg5I20qL",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-tsl2591-device"
        },
        "SJXg9U3R5I": {
          "description": "Pulse on completion.",
          "label": "DONE",
          "id": "SJXg9U3R5I",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "SyeqIn09U": {
          "id": "SyeqIn09U",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        }
      },
      "path": "@/set-timing",
      "description": "Set sensor integration time.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "node {\n    void evaluate(Context ctx) {\n        // The node responds only if there is an input pulse\n        if (!isInputDirty<input_UPD>(ctx))\n            return;\n\n        // Get a pointer to the `Adafruit_TSL2591` class instance\n        auto sensor = getValue<input_DEV>(ctx);\n        sensor -> setTiming((tsl2591IntegrationTime_t)getValue<input_TIME>(ctx));\n        emitValue<output_DONE>(ctx, 1);\n    }\n}\n\n"
        }
      ]
    },
    "@/tsl2591-device": {
      "nodes": {
        "S1itG8A9L": {
          "description": "A TSL2591 device.",
          "label": "DEV",
          "id": "S1itG8A9L",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-self"
        },
        "SyEKGICcU": {
          "id": "SyEKGICcU",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Hkr8us4D_": {
          "description": "I²C bus.",
          "label": "I2C",
          "id": "Hkr8us4D_",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/i2c/input-i2c"
        }
      },
      "path": "@/tsl2591-device",
      "description": "Create a tsl2591-device.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "// Tell XOD where it can download the libraries:\n#pragma XOD require \"https://github.com/adafruit/Adafruit_Sensor\"\n#pragma XOD require \"https://github.com/adafruit/Adafruit_TSL2591_Library\"\n\n//Include C++ libraries\n#include <Adafruit_Sensor.h>\n#include <Adafruit_TSL2591.h>\n\nnode {\n\n    meta {\n        // Define our custom type as a pointer on the class instance.\n        using Type = Adafruit_TSL2591*;\n    }\n\n    // Create an object of class Adafruit_TSL2591\n    Adafruit_TSL2591 sensor = Adafruit_TSL2591();\n\n    void evaluate(Context ctx) {\n        // It should be evaluated only once on the first (setup) transaction\n        if (!isSettingUp())\n            return;\n\n        auto wire = getValue<input_I2C>(ctx);\n        \n        // Try to initialize sensor\n        if (!sensor.begin(wire)) {\n            raiseError(ctx);\n            return;\n        }\n        emitValue<output_DEV>(ctx, &sensor);\n    }\n}\n\n"
        }
      ]
    }
  },
  "license": "BSD-3-Clause",
  "version": "0.0.4",
  "description": "TSL2591 High Dynamic Range Digital Light Sensor. Wraps https://github.com/adafruit/Adafruit_TSL2591_Library. Datasheet: https://cdn-learn.adafruit.com/assets/assets/000/078/658/original/TSL2591_DS000338_6-00.pdf?1564168468",
  "name": "tsl2591-light-sensor"
}
