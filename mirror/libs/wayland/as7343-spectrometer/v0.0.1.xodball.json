{
  "patches": {
    "@/01-example-spectrometer": {
      "nodes": {
        "HyXDTD67i": {
          "id": "HyXDTD67i",
          "position": {
            "x": -7,
            "y": 1,
            "units": "slots"
          },
          "type": "@/as7343-device"
        },
        "r1tDTDa7s": {
          "id": "r1tDTDa7s",
          "position": {
            "x": -7,
            "y": 2,
            "units": "slots"
          },
          "type": "@/init"
        },
        "ByjdADTQo": {
          "id": "ByjdADTQo",
          "position": {
            "x": 2,
            "y": 3,
            "units": "slots"
          },
          "type": "@/read-all-channels"
        },
        "r1lvb_a7i": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "r1lvb_a7i",
          "position": {
            "x": 2,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "BJzulKpQs": {
          "id": "BJzulKpQs",
          "position": {
            "x": 2,
            "y": 4,
            "units": "slots"
          },
          "type": "@/get-ch-405nm"
        },
        "SkduxtT7o": {
          "label": "DEV",
          "id": "SkduxtT7o",
          "position": {
            "x": -8,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/to-bus"
        },
        "S1YRltaQs": {
          "label": "DEV",
          "id": "S1YRltaQs",
          "position": {
            "x": 2,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "rJxgWFpmo": {
          "label": "DEV",
          "id": "rJxgWFpmo",
          "position": {
            "x": 1,
            "y": 4,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "B1YEPGRXo": {
          "label": "DEV",
          "id": "B1YEPGRXo",
          "position": {
            "x": 4,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "B1jp4Pf07o": {
          "label": "DEV",
          "id": "B1jp4Pf07o",
          "position": {
            "x": 6,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "r1grvGCXj": {
          "label": "DEV",
          "id": "r1grvGCXj",
          "position": {
            "x": 8,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "SJWHvGR7i": {
          "label": "DEV",
          "id": "SJWHvGR7i",
          "position": {
            "x": 10,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "HJzBDMCQs": {
          "label": "DEV",
          "id": "HJzBDMCQs",
          "position": {
            "x": 12,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "SyRMSDM0mi": {
          "label": "DEV",
          "id": "SyRMSDM0mi",
          "position": {
            "x": 14,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "r14HvMAQo": {
          "label": "DEV",
          "id": "r14HvMAQo",
          "position": {
            "x": 16,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "SJ68vzRQj": {
          "id": "SJ68vzRQj",
          "position": {
            "x": 26,
            "y": 4,
            "units": "slots"
          },
          "type": "@/get-ch-clear"
        },
        "rksDPzRQi": {
          "label": "DEV",
          "id": "rksDPzRQi",
          "position": {
            "x": 18,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "H16wPf0Qi": {
          "label": "DEV",
          "id": "H16wPf0Qi",
          "position": {
            "x": 20,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "SJNowMCQs": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "SJNowMCQs",
          "position": {
            "x": 4,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "SJ9sPfCQs": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "SJ9sPfCQs",
          "position": {
            "x": 6,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "HJajvzRXo": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "HJajvzRXo",
          "position": {
            "x": 8,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "S11nDzCQi": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "S11nDzCQi",
          "position": {
            "x": 10,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "rJjbhvfRXj": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "rJjbhvfRXj",
          "position": {
            "x": 12,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "ryoQ3vGR7s": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "ryoQ3vGR7s",
          "position": {
            "x": 14,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "SyjSnPf0Qi": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "SyjSnPf0Qi",
          "position": {
            "x": 16,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "BJuhvGAXi": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "BJuhvGAXi",
          "position": {
            "x": 18,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "SJicnwGC7i": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "SJicnwGC7i",
          "position": {
            "x": 20,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "BkiwKfA7o": {
          "boundLiterals": {
            "HyvbSZCXo": "999"
          },
          "id": "BkiwKfA7o",
          "position": {
            "x": -6,
            "y": 4,
            "units": "slots"
          },
          "type": "@/set-astep"
        },
        "ByJOKMAXs": {
          "boundLiterals": {
            "S1XsvdZAQi": "100"
          },
          "id": "ByJOKMAXs",
          "position": {
            "x": -9,
            "y": 4,
            "units": "slots"
          },
          "type": "@/set-atime"
        },
        "rkX_KMAXo": {
          "id": "rkX_KMAXo",
          "position": {
            "x": -3,
            "y": 4,
            "units": "slots"
          },
          "type": "@/set-gain"
        },
        "Sk1FYzA7s": {
          "label": "DEV",
          "id": "Sk1FYzA7s",
          "position": {
            "x": -6,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "H1LKFzCmj": {
          "label": "DEV",
          "id": "H1LKFzCmj",
          "position": {
            "x": -9,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "H1httG0Qj": {
          "label": "DEV",
          "id": "H1httG0Qj",
          "position": {
            "x": -3,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "BkXvEtzh2": {
          "id": "BkXvEtzh2",
          "position": {
            "x": 4,
            "y": 4,
            "units": "slots"
          },
          "type": "@/get-ch-425nm"
        },
        "ByYvNYGnh": {
          "id": "ByYvNYGnh",
          "position": {
            "x": 6,
            "y": 4,
            "units": "slots"
          },
          "type": "@/get-ch-450nm"
        },
        "rJAwNYM2n": {
          "id": "rJAwNYM2n",
          "position": {
            "x": 8,
            "y": 4,
            "units": "slots"
          },
          "type": "@/get-ch-475nm"
        },
        "r1VuEYznn": {
          "id": "r1VuEYznn",
          "position": {
            "x": 10,
            "y": 4,
            "units": "slots"
          },
          "type": "@/get-ch-515nm"
        },
        "SkquVYf32": {
          "id": "SkquVYf32",
          "position": {
            "x": 12,
            "y": 4,
            "units": "slots"
          },
          "type": "@/get-ch-550nm"
        },
        "r1JYNtMh2": {
          "id": "r1JYNtMh2",
          "position": {
            "x": 14,
            "y": 4,
            "units": "slots"
          },
          "type": "@/get-ch-555nm"
        },
        "HkEt4Fz3h": {
          "id": "HkEt4Fz3h",
          "position": {
            "x": 16,
            "y": 4,
            "units": "slots"
          },
          "type": "@/get-ch-560nm"
        },
        "rkYKEYz3h": {
          "id": "rkYKEYz3h",
          "position": {
            "x": 18,
            "y": 4,
            "units": "slots"
          },
          "type": "@/get-ch-640nm"
        },
        "rJfcNtfh2": {
          "id": "rJfcNtfh2",
          "position": {
            "x": 20,
            "y": 4,
            "units": "slots"
          },
          "type": "@/get-ch-690nm"
        },
        "r1o9NFM32": {
          "id": "r1o9NFM32",
          "position": {
            "x": 22,
            "y": 4,
            "units": "slots"
          },
          "type": "@/get-ch-745nm"
        },
        "SywiNYM3n": {
          "id": "SywiNYM3n",
          "position": {
            "x": 24,
            "y": 4,
            "units": "slots"
          },
          "type": "@/get-ch-855nm"
        },
        "H1mgHYMn3": {
          "label": "DEV",
          "id": "H1mgHYMn3",
          "position": {
            "x": 22,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "r14xHtMh2": {
          "label": "DEV",
          "id": "r14xHtMh2",
          "position": {
            "x": 24,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "B1HlHFfh3": {
          "label": "DEV",
          "id": "B1HlHFfh3",
          "position": {
            "x": 26,
            "y": 3,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "HJB-HFz3h": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "HJB-HFz3h",
          "position": {
            "x": 22,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "By2eUWSYfh3": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "By2eUWSYfh3",
          "position": {
            "x": 24,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        },
        "ryvZHtGn2": {
          "size": {
            "height": 1,
            "width": 2,
            "units": "slots"
          },
          "id": "ryvZHtGn2",
          "position": {
            "x": 26,
            "y": 5,
            "units": "slots"
          },
          "type": "xod/debug/watch"
        }
      },
      "links": {
        "rk9DpDTQj": {
          "id": "rk9DpDTQj",
          "input": {
            "nodeId": "r1tDTDa7s",
            "pinKey": "BJk95MGF5"
          },
          "output": {
            "nodeId": "HyXDTD67i",
            "pinKey": "rJiHKfzYq"
          }
        },
        "ByGKxY6Xs": {
          "id": "ByGKxY6Xs",
          "input": {
            "nodeId": "SkduxtT7o",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "HyXDTD67i",
            "pinKey": "rJiHKfzYq"
          }
        },
        "r1rg-YTXi": {
          "id": "r1rg-YTXi",
          "input": {
            "nodeId": "ByjdADTQo",
            "pinKey": "HyIz0w6Qo"
          },
          "output": {
            "nodeId": "S1YRltaQs",
            "pinKey": "__out__"
          }
        },
        "rkVfZYaQj": {
          "id": "rkVfZYaQj",
          "input": {
            "nodeId": "BJzulKpQs",
            "pinKey": "Sylyphdamo"
          },
          "output": {
            "nodeId": "rJxgWFpmo",
            "pinKey": "__out__"
          }
        },
        "HJ8MZKpXs": {
          "id": "HJ8MZKpXs",
          "input": {
            "nodeId": "BJzulKpQs",
            "pinKey": "HJJqaOpQo"
          },
          "output": {
            "nodeId": "ByjdADTQo",
            "pinKey": "HJMw0waQi"
          }
        },
        "rkqGWKaXs": {
          "id": "rkqGWKaXs",
          "input": {
            "nodeId": "r1lvb_a7i",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "BJzulKpQs",
            "pinKey": "Sysl6dpXj"
          }
        },
        "r1VFYMRmi": {
          "id": "r1VFYMRmi",
          "input": {
            "nodeId": "BkiwKfA7o",
            "pinKey": "S1gUgHZ0Xi"
          },
          "output": {
            "nodeId": "Sk1FYzA7s",
            "pinKey": "__out__"
          }
        },
        "HJ9YtM0Xi": {
          "id": "HJ9YtM0Xi",
          "input": {
            "nodeId": "ByJOKMAXs",
            "pinKey": "S1loPOZC7i"
          },
          "output": {
            "nodeId": "H1LKFzCmj",
            "pinKey": "__out__"
          }
        },
        "S1k9tzR7j": {
          "id": "S1k9tzR7j",
          "input": {
            "nodeId": "rkX_KMAXo",
            "pinKey": "BkeZaFZ0Qs"
          },
          "output": {
            "nodeId": "H1httG0Qj",
            "pinKey": "__out__"
          }
        },
        "H1ZTYGCQi": {
          "id": "H1ZTYGCQi",
          "input": {
            "nodeId": "ByJOKMAXs",
            "pinKey": "SkGiv_WAQs"
          },
          "output": {
            "nodeId": "r1tDTDa7s",
            "pinKey": "H1v6qMzK5"
          }
        },
        "Bk7pYfCmi": {
          "id": "Bk7pYfCmi",
          "input": {
            "nodeId": "BkiwKfA7o",
            "pinKey": "H1XUeH-CQj"
          },
          "output": {
            "nodeId": "ByJOKMAXs",
            "pinKey": "H1-iPu-CQj"
          }
        },
        "BkyzqzC7j": {
          "id": "BkyzqzC7j",
          "input": {
            "nodeId": "rkX_KMAXo",
            "pinKey": "ByM-atbAXj"
          },
          "output": {
            "nodeId": "BkiwKfA7o",
            "pinKey": "SyzUxrbRQi"
          }
        },
        "Byd64tM3n": {
          "id": "Byd64tM3n",
          "input": {
            "nodeId": "BkXvEtzh2",
            "pinKey": "Sylyphdamo"
          },
          "output": {
            "nodeId": "B1YEPGRXo",
            "pinKey": "__out__"
          }
        },
        "r1ipVtG23": {
          "id": "r1ipVtG23",
          "input": {
            "nodeId": "ByYvNYGnh",
            "pinKey": "Sylyphdamo"
          },
          "output": {
            "nodeId": "B1jp4Pf07o",
            "pinKey": "__out__"
          }
        },
        "SkpTEFf3n": {
          "id": "SkpTEFf3n",
          "input": {
            "nodeId": "rJAwNYM2n",
            "pinKey": "Sylyphdamo"
          },
          "output": {
            "nodeId": "r1grvGCXj",
            "pinKey": "__out__"
          }
        },
        "rk0TEtM2h": {
          "id": "rk0TEtM2h",
          "input": {
            "nodeId": "r1VuEYznn",
            "pinKey": "Sylyphdamo"
          },
          "output": {
            "nodeId": "SJWHvGR7i",
            "pinKey": "__out__"
          }
        },
        "SJlAEtM33": {
          "id": "SJlAEtM33",
          "input": {
            "nodeId": "SkquVYf32",
            "pinKey": "Sylyphdamo"
          },
          "output": {
            "nodeId": "HJzBDMCQs",
            "pinKey": "__out__"
          }
        },
        "SJ-A4KMn2": {
          "id": "SJ-A4KMn2",
          "input": {
            "nodeId": "r1JYNtMh2",
            "pinKey": "Sylyphdamo"
          },
          "output": {
            "nodeId": "SyRMSDM0mi",
            "pinKey": "__out__"
          }
        },
        "SyX0NtGn2": {
          "id": "SyX0NtGn2",
          "input": {
            "nodeId": "HkEt4Fz3h",
            "pinKey": "Sylyphdamo"
          },
          "output": {
            "nodeId": "r14HvMAQo",
            "pinKey": "__out__"
          }
        },
        "B1NA4KM32": {
          "id": "B1NA4KM32",
          "input": {
            "nodeId": "rkYKEYz3h",
            "pinKey": "Sylyphdamo"
          },
          "output": {
            "nodeId": "rksDPzRQi",
            "pinKey": "__out__"
          }
        },
        "SJDC4Yfh3": {
          "id": "SJDC4Yfh3",
          "input": {
            "nodeId": "BkXvEtzh2",
            "pinKey": "HJJqaOpQo"
          },
          "output": {
            "nodeId": "BJzulKpQs",
            "pinKey": "HJ1w6dTXo"
          }
        },
        "H1FCEFz22": {
          "id": "H1FCEFz22",
          "input": {
            "nodeId": "ByYvNYGnh",
            "pinKey": "HJJqaOpQo"
          },
          "output": {
            "nodeId": "BkXvEtzh2",
            "pinKey": "HJ1w6dTXo"
          }
        },
        "BJj04Yf3h": {
          "id": "BJj04Yf3h",
          "input": {
            "nodeId": "rJAwNYM2n",
            "pinKey": "HJJqaOpQo"
          },
          "output": {
            "nodeId": "ByYvNYGnh",
            "pinKey": "HJ1w6dTXo"
          }
        },
        "r1aCVFfh2": {
          "id": "r1aCVFfh2",
          "input": {
            "nodeId": "r1VuEYznn",
            "pinKey": "HJJqaOpQo"
          },
          "output": {
            "nodeId": "rJAwNYM2n",
            "pinKey": "HJ1w6dTXo"
          }
        },
        "ryyJrYM2h": {
          "id": "ryyJrYM2h",
          "input": {
            "nodeId": "SkquVYf32",
            "pinKey": "HJJqaOpQo"
          },
          "output": {
            "nodeId": "r1VuEYznn",
            "pinKey": "HJ1w6dTXo"
          }
        },
        "rkZ1HKf2h": {
          "id": "rkZ1HKf2h",
          "input": {
            "nodeId": "r1JYNtMh2",
            "pinKey": "HJJqaOpQo"
          },
          "output": {
            "nodeId": "SkquVYf32",
            "pinKey": "HJ1w6dTXo"
          }
        },
        "SkNJrYfn2": {
          "id": "SkNJrYfn2",
          "input": {
            "nodeId": "HkEt4Fz3h",
            "pinKey": "HJJqaOpQo"
          },
          "output": {
            "nodeId": "r1JYNtMh2",
            "pinKey": "HJ1w6dTXo"
          }
        },
        "ryIJSYfhn": {
          "id": "ryIJSYfhn",
          "input": {
            "nodeId": "rkYKEYz3h",
            "pinKey": "HJJqaOpQo"
          },
          "output": {
            "nodeId": "HkEt4Fz3h",
            "pinKey": "HJ1w6dTXo"
          }
        },
        "rkwJBtf3h": {
          "id": "rkwJBtf3h",
          "input": {
            "nodeId": "rJfcNtfh2",
            "pinKey": "HJJqaOpQo"
          },
          "output": {
            "nodeId": "rkYKEYz3h",
            "pinKey": "HJ1w6dTXo"
          }
        },
        "rJtkHKGhn": {
          "id": "rJtkHKGhn",
          "input": {
            "nodeId": "r1o9NFM32",
            "pinKey": "HJJqaOpQo"
          },
          "output": {
            "nodeId": "rJfcNtfh2",
            "pinKey": "HJ1w6dTXo"
          }
        },
        "By3yrKMn3": {
          "id": "By3yrKMn3",
          "input": {
            "nodeId": "SywiNYM3n",
            "pinKey": "HJJqaOpQo"
          },
          "output": {
            "nodeId": "r1o9NFM32",
            "pinKey": "HJ1w6dTXo"
          }
        },
        "B11eBtM23": {
          "id": "B11eBtM23",
          "input": {
            "nodeId": "SJ68vzRQj",
            "pinKey": "HJJqaOpQo"
          },
          "output": {
            "nodeId": "SywiNYM3n",
            "pinKey": "HJ1w6dTXo"
          }
        },
        "By_xBYzhh": {
          "id": "By_xBYzhh",
          "input": {
            "nodeId": "SJ68vzRQj",
            "pinKey": "Sylyphdamo"
          },
          "output": {
            "nodeId": "B1HlHFfh3",
            "pinKey": "__out__"
          }
        },
        "Hk3xSKfn2": {
          "id": "Hk3xSKfn2",
          "input": {
            "nodeId": "SywiNYM3n",
            "pinKey": "Sylyphdamo"
          },
          "output": {
            "nodeId": "r14xHtMh2",
            "pinKey": "__out__"
          }
        },
        "HkJWSKGh2": {
          "id": "HkJWSKGh2",
          "input": {
            "nodeId": "r1o9NFM32",
            "pinKey": "Sylyphdamo"
          },
          "output": {
            "nodeId": "H1mgHYMn3",
            "pinKey": "__out__"
          }
        },
        "B1-WBYfhh": {
          "id": "B1-WBYfhh",
          "input": {
            "nodeId": "rJfcNtfh2",
            "pinKey": "Sylyphdamo"
          },
          "output": {
            "nodeId": "H16wPf0Qi",
            "pinKey": "__out__"
          }
        },
        "B1jZrKM23": {
          "id": "B1jZrKM23",
          "input": {
            "nodeId": "ryvZHtGn2",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "SJ68vzRQj",
            "pinKey": "Sysl6dpXj"
          }
        },
        "S1RZHKzhh": {
          "id": "S1RZHKzhh",
          "input": {
            "nodeId": "By2eUWSYfh3",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "SywiNYM3n",
            "pinKey": "Sysl6dpXj"
          }
        },
        "S1-GStM33": {
          "id": "S1-GStM33",
          "input": {
            "nodeId": "HJB-HFz3h",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "r1o9NFM32",
            "pinKey": "Sysl6dpXj"
          }
        },
        "r1VzHFG3n": {
          "id": "r1VzHFG3n",
          "input": {
            "nodeId": "SJicnwGC7i",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "rJfcNtfh2",
            "pinKey": "Sysl6dpXj"
          }
        },
        "H1HGHYf23": {
          "id": "H1HGHYf23",
          "input": {
            "nodeId": "BJuhvGAXi",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "rkYKEYz3h",
            "pinKey": "Sysl6dpXj"
          }
        },
        "r1DMrYMhn": {
          "id": "r1DMrYMhn",
          "input": {
            "nodeId": "SyjSnPf0Qi",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "HkEt4Fz3h",
            "pinKey": "Sysl6dpXj"
          }
        },
        "rJoMHYM2n": {
          "id": "rJoMHYM2n",
          "input": {
            "nodeId": "rJjbhvfRXj",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "SkquVYf32",
            "pinKey": "Sysl6dpXj"
          }
        },
        "B13zrYznn": {
          "id": "B13zrYznn",
          "input": {
            "nodeId": "S11nDzCQi",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "r1VuEYznn",
            "pinKey": "Sysl6dpXj"
          }
        },
        "Hyk7StGn2": {
          "id": "Hyk7StGn2",
          "input": {
            "nodeId": "HJajvzRXo",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "rJAwNYM2n",
            "pinKey": "Sysl6dpXj"
          }
        },
        "HkZXrYz2h": {
          "id": "HkZXrYz2h",
          "input": {
            "nodeId": "SJ9sPfCQs",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "ByYvNYGnh",
            "pinKey": "Sysl6dpXj"
          }
        },
        "rkXXSYzn3": {
          "id": "rkXXSYzn3",
          "input": {
            "nodeId": "SJNowMCQs",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "BkXvEtzh2",
            "pinKey": "Sysl6dpXj"
          }
        },
        "r1KwUhXn2": {
          "id": "r1KwUhXn2",
          "input": {
            "nodeId": "ryoQ3vGR7s",
            "pinKey": "HkXK-dGob"
          },
          "output": {
            "nodeId": "r1JYNtMh2",
            "pinKey": "Sysl6dpXj"
          }
        }
      },
      "path": "@/01-example-spectrometer",
      "description": "Spectrometer example. Run in debugger."
    },
    "@/as7343-device": {
      "nodes": {
        "S1O7FfGF5": {
          "id": "S1O7FfGF5",
          "position": {
            "x": 1,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "rJiHKfzYq": {
          "description": "An as7341 device.",
          "label": "DEV",
          "id": "rJiHKfzYq",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-self"
        }
      },
      "path": "@/as7343-device",
      "description": "Create an as7343-device.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD require \"https://github.com/adafruit/Adafruit_BusIO\"\n#pragma XOD require \"https://github.com/WaylandM/AMS_OSRAM_AS7343\"\n\n#include <Wire.h>\n#include <AMS_OSRAM_AS7343.h>\n\nnode {\n    meta {\n        // Define our custom type as a pointer on the class instance.\n        using Type = AMS_OSRAM_AS7343*;\n    }\n\n    // Create an object of the class AS7341\n    AMS_OSRAM_AS7343 sensor = AMS_OSRAM_AS7343();\n\n    void evaluate(Context ctx) {\n        // It should be evaluated only once on the first (setup) transaction\n        if (!isSettingUp())\n            return;\n\n        emitValue<output_DEV>(ctx, &sensor);\n    }\n}\n"
        }
      ]
    },
    "@/enable-led": {
      "nodes": {
        "rkBHEzAXi": {
          "id": "rkBHEzAXi",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "BklHHVfAms": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "BklHHVfAms",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "S1-SrVGRmj": {
          "description": "Pulses if LED is successfully enabled/disabled.",
          "label": "DONE",
          "id": "S1-SrVGRmj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "SyGSHNMAQs": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "SyGSHNMAQs",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "ByL8NMRXs": {
          "description": "If true, LED is enabled. If false, LED is disabled.",
          "label": "Enable",
          "id": "ByL8NMRXs",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-boolean"
        }
      },
      "path": "@/enable-led",
      "description": "Enable control of attached LED.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n       auto enable = getValue<input_Enable>(ctx);\n\n       if (!sensor->enableLED(enable)) {\n            raiseError(ctx);\n            return;\n       }\n       \n       emitValue<output_DONE>(ctx, 1);\n    }\n}\n"
        }
      ]
    },
    "@/02-example-led": {
      "nodes": {
        "BJVmhGRmj": {
          "id": "BJVmhGRmj",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "@/as7343-device"
        },
        "BklV72GCms": {
          "id": "BklV72GCms",
          "position": {
            "x": 1,
            "y": 1,
            "units": "slots"
          },
          "type": "@/init"
        },
        "BybVX3zAms": {
          "label": "DEV",
          "id": "BybVX3zAms",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/to-bus"
        },
        "Sy0Q2G07i": {
          "id": "Sy0Q2G07i",
          "position": {
            "x": 9,
            "y": 1,
            "units": "slots"
          },
          "type": "@/set-led-current"
        },
        "Hk84nfRQj": {
          "label": "DEV",
          "id": "Hk84nfRQj",
          "position": {
            "x": 9,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "Sk9EnG0ms": {
          "label": "DEV",
          "id": "Sk9EnG0ms",
          "position": {
            "x": 5,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/from-bus"
        },
        "rJ5rnGAmo": {
          "id": "rJ5rnGAmo",
          "position": {
            "x": 5,
            "y": 1,
            "units": "slots"
          },
          "type": "@/enable-led"
        },
        "B1VLhfCmo": {
          "boundLiterals": {
            "Sk1e_NIVE": "False"
          },
          "id": "B1VLhfCmo",
          "position": {
            "x": 6,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/debug/tweak-boolean"
        },
        "HkUDnzR7j": {
          "boundLiterals": {
            "ByfGSDjQE": "100"
          },
          "id": "HkUDnzR7j",
          "position": {
            "x": 10,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/debug/tweak-number"
        }
      },
      "links": {
        "H1zVXhf07j": {
          "id": "H1zVXhf07j",
          "input": {
            "nodeId": "BklV72GCms",
            "pinKey": "BJk95MGF5"
          },
          "output": {
            "nodeId": "BJVmhGRmj",
            "pinKey": "rJiHKfzYq"
          }
        },
        "B1XEQ3fAXo": {
          "id": "B1XEQ3fAXo",
          "input": {
            "nodeId": "BybVX3zAms",
            "pinKey": "__in__"
          },
          "output": {
            "nodeId": "BJVmhGRmj",
            "pinKey": "rJiHKfzYq"
          }
        },
        "rkWr3GAms": {
          "id": "rkWr3GAms",
          "input": {
            "nodeId": "Sy0Q2G07i",
            "pinKey": "S1gn9bzRXi"
          },
          "output": {
            "nodeId": "Hk84nfRQj",
            "pinKey": "__out__"
          }
        },
        "B16B3fR7o": {
          "id": "B16B3fR7o",
          "input": {
            "nodeId": "rJ5rnGAmo",
            "pinKey": "BklHHVfAms"
          },
          "output": {
            "nodeId": "Sk9EnG0ms",
            "pinKey": "__out__"
          }
        },
        "rydLnM07i": {
          "id": "rydLnM07i",
          "input": {
            "nodeId": "rJ5rnGAmo",
            "pinKey": "ByL8NMRXs"
          },
          "output": {
            "nodeId": "B1VLhfCmo",
            "pinKey": "Sk1e_NIVE"
          }
        },
        "H15vhGA7o": {
          "id": "H15vhGA7o",
          "input": {
            "nodeId": "Sy0Q2G07i",
            "pinKey": "ryXnqWGRmj"
          },
          "output": {
            "nodeId": "HkUDnzR7j",
            "pinKey": "ByfGSDjQE"
          }
        }
      },
      "path": "@/02-example-led",
      "description": "LED control example."
    },
    "@/get-ch-450nm": {
      "nodes": {
        "Hkk6ndTQj": {
          "id": "Hkk6ndTQj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sylyphdamo": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "Sylyphdamo",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Sysl6dpXj": {
          "description": "Raw measurement from the 450nm channel.",
          "label": "VALUE",
          "id": "Sysl6dpXj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HJ1w6dTXo": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "HJ1w6dTXo",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJJqaOpQo": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "HJJqaOpQo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/get-ch-450nm",
      "description": "Get the most recent measurement from the 450nm channel.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       emitValue<output_VALUE>(ctx, sensor->getChannel(AS7343_CHANNEL_450_FZ));\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/get-ch-405nm": {
      "nodes": {
        "Hkk6ndTQj": {
          "id": "Hkk6ndTQj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sylyphdamo": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "Sylyphdamo",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Sysl6dpXj": {
          "description": "Raw measurement from the 405nm channel.",
          "label": "VALUE",
          "id": "Sysl6dpXj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HJ1w6dTXo": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "HJ1w6dTXo",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJJqaOpQo": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "HJJqaOpQo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/get-ch-405nm",
      "description": "Get the most recent measurement from the 405nm channel.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       emitValue<output_VALUE>(ctx, sensor->getChannel(AS7343_CHANNEL_405_F1));\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/get-ch-425nm": {
      "nodes": {
        "Hkk6ndTQj": {
          "id": "Hkk6ndTQj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sylyphdamo": {
          "description": "An as7341-device.",
          "label": "DEV",
          "id": "Sylyphdamo",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Sysl6dpXj": {
          "description": "Raw measurement from the 425nm channel.",
          "label": "VALUE",
          "id": "Sysl6dpXj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HJ1w6dTXo": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "HJ1w6dTXo",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJJqaOpQo": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "HJJqaOpQo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/get-ch-425nm",
      "description": "Get the most recent measurement from the 425nm channel.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       emitValue<output_VALUE>(ctx, sensor->getChannel(AS7343_CHANNEL_425_F2));\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/get-ch-475nm": {
      "nodes": {
        "Hkk6ndTQj": {
          "id": "Hkk6ndTQj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sylyphdamo": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "Sylyphdamo",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Sysl6dpXj": {
          "description": "Raw measurement from the 475nm channel.",
          "label": "VALUE",
          "id": "Sysl6dpXj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HJ1w6dTXo": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "HJ1w6dTXo",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJJqaOpQo": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "HJJqaOpQo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/get-ch-475nm",
      "description": "Get the most recent measurement from the 475nm channel.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       emitValue<output_VALUE>(ctx, sensor->getChannel(AS7343_CHANNEL_475_F3));\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/get-ch-515nm": {
      "nodes": {
        "Hkk6ndTQj": {
          "id": "Hkk6ndTQj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sylyphdamo": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "Sylyphdamo",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Sysl6dpXj": {
          "description": "Raw measurement from the 515nm channel.",
          "label": "VALUE",
          "id": "Sysl6dpXj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HJ1w6dTXo": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "HJ1w6dTXo",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJJqaOpQo": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "HJJqaOpQo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/get-ch-515nm",
      "description": "Get the most recent measurement from the 515nm channel.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       emitValue<output_VALUE>(ctx, sensor->getChannel(AS7343_CHANNEL_515_F4));\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/get-ch-555nm": {
      "nodes": {
        "Hkk6ndTQj": {
          "id": "Hkk6ndTQj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sylyphdamo": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "Sylyphdamo",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Sysl6dpXj": {
          "description": "Raw measurement from the 555nm channel.",
          "label": "VALUE",
          "id": "Sysl6dpXj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HJ1w6dTXo": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "HJ1w6dTXo",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJJqaOpQo": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "HJJqaOpQo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/get-ch-555nm",
      "description": "Get the most recent measurement from the 555nm channel.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       emitValue<output_VALUE>(ctx, sensor->getChannel(AS7343_CHANNEL_555_FY));\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/get-ch-560nm": {
      "nodes": {
        "Hkk6ndTQj": {
          "id": "Hkk6ndTQj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sylyphdamo": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "Sylyphdamo",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Sysl6dpXj": {
          "description": "Raw measurement from the 560nm channel.",
          "label": "VALUE",
          "id": "Sysl6dpXj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HJ1w6dTXo": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "HJ1w6dTXo",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJJqaOpQo": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "HJJqaOpQo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/get-ch-560nm",
      "description": "Get the most recent measurement from the 560nm channel.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       emitValue<output_VALUE>(ctx, sensor->getChannel(AS7343_CHANNEL_600_FXL));\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/get-ch-640nm": {
      "nodes": {
        "Hkk6ndTQj": {
          "id": "Hkk6ndTQj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sylyphdamo": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "Sylyphdamo",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Sysl6dpXj": {
          "description": "Raw measurement from the 640nm channel.",
          "label": "VALUE",
          "id": "Sysl6dpXj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HJ1w6dTXo": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "HJ1w6dTXo",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJJqaOpQo": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "HJJqaOpQo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/get-ch-640nm",
      "description": "Get the most recent measurement from the 640nm channel.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       emitValue<output_VALUE>(ctx, sensor->getChannel(AS7343_CHANNEL_640_F6));\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/get-ch-855nm": {
      "nodes": {
        "Hkk6ndTQj": {
          "id": "Hkk6ndTQj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sylyphdamo": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "Sylyphdamo",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Sysl6dpXj": {
          "description": "Raw measurement from the 855nm channel.",
          "label": "VALUE",
          "id": "Sysl6dpXj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HJ1w6dTXo": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "HJ1w6dTXo",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJJqaOpQo": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "HJJqaOpQo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/get-ch-855nm",
      "description": "Get the most recent measurement from the 855nm channel.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       emitValue<output_VALUE>(ctx, sensor->getChannel(AS7343_CHANNEL_855_NIR));\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/get-ch-690nm": {
      "nodes": {
        "Hkk6ndTQj": {
          "id": "Hkk6ndTQj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sylyphdamo": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "Sylyphdamo",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Sysl6dpXj": {
          "description": "Raw measurement from the 690nm channel.",
          "label": "VALUE",
          "id": "Sysl6dpXj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HJ1w6dTXo": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "HJ1w6dTXo",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJJqaOpQo": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "HJJqaOpQo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/get-ch-690nm",
      "description": "Get the most recent measurement from the 690nm channel.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       emitValue<output_VALUE>(ctx, sensor->getChannel(AS7343_CHANNEL_690_F7));\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/get-ch-clear": {
      "nodes": {
        "Hkk6ndTQj": {
          "id": "Hkk6ndTQj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sylyphdamo": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "Sylyphdamo",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Sysl6dpXj": {
          "description": "Raw measurement from the \"clear\" (unfiltered) channel.",
          "label": "VALUE",
          "id": "Sysl6dpXj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HJ1w6dTXo": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "HJ1w6dTXo",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJJqaOpQo": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "HJJqaOpQo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/get-ch-clear",
      "description": "Get the most recent measurement from the \"clear\" (unfiltered) channel.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       uint16_t cl, cl0, cl1, avg;\n       cl = sensor->getChannel(AS7343_CHANNEL_CLEAR);\n       cl0 = sensor->getChannel(AS7343_CHANNEL_CLEAR_0);\n       cl1 = sensor->getChannel(AS7343_CHANNEL_CLEAR_1);\n\n       avg = round((cl+cl0+cl1)/3);\n\n       emitValue<output_VALUE>(ctx, avg);\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/get-saturation-status": {
      "nodes": {
        "BkpcaG42h": {
          "id": "BkpcaG42h",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "ByxTcTfVhn": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "ByxTcTfVhn",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "r1fTqTf4hn": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "r1fTqTf4hn",
          "position": {
            "x": 2,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "BJmp5aG4n3": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "BJmp5aG4n3",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "BkqjRMEn3": {
          "description": "True indicates that the intensity of ambient light has exceeded the maximum integration level for the\nspectral analog circuit.",
          "label": "Analog",
          "id": "BkqjRMEn3",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-boolean"
        },
        "rk0sRM433": {
          "description": "True indicates that the maximum counter value has been reached. Maximum counter value depends on integration time set in the ATIME register.",
          "label": "Digital",
          "id": "rk0sRM433",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-boolean"
        }
      },
      "path": "@/get-saturation-status",
      "description": "Checks for analog and digital saturation.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       emitValue<output_Analog>(ctx, sensor->analogSaturation());\n       emitValue<output_Digital>(ctx, sensor->digitalSaturation());\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/init": {
      "nodes": {
        "SJYO9GfYq": {
          "id": "SJYO9GfYq",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "BJk95MGF5": {
          "description": "An as7341-device.",
          "label": "DEV",
          "id": "BJk95MGF5",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "rJdsqfMtc": {
          "boundLiterals": {
            "__out__": "On Boot"
          },
          "description": "Pulse triggers initialization.",
          "label": "INIT",
          "id": "rJdsqfMtc",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "H1v6qMzK5": {
          "description": "Pulse on successful initialization.",
          "label": "OK",
          "id": "H1v6qMzK5",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJ-xhvTQi": {
          "description": "IC bus",
          "label": "I2C",
          "id": "HJ-xhvTQi",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/i2c/input-i2c"
        }
      },
      "path": "@/init",
      "description": "Initialize sensor.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_INIT\n\nnode {\n\n    void evaluate(Context ctx) {\n        // The node responds only if there is an input pulsei\n        if (!isInputDirty<input_INIT>(ctx))\n            return;\n        \n        // Get a pointer to the `AMS_OSRAM_AS7343` class instance\n        auto sensor = getValue<input_DEV>(ctx);\n\n        auto wire = getValue<input_I2C>(ctx);\n\n        // Attempt to initialize AS7343 module; if attempt fails emit error\n        if (!sensor->begin(AS7343_I2CADDR_DEFAULT, wire, 0)) {\n            raiseError(ctx);\n            return;\n        }\n\n        emitValue<output_OK>(ctx, 1);\n\n\n    }\n}\n"
        }
      ]
    },
    "@/read-all-channels": {
      "nodes": {
        "BJgz0vamj": {
          "id": "BJgz0vamj",
          "position": {
            "x": 1,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "HyIz0w6Qo": {
          "description": "An as7341-device.",
          "label": "DEV",
          "id": "HyIz0w6Qo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "rJ6zAwp7j": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update. Pulse triggers read.",
          "label": "UPD",
          "id": "rJ6zAwp7j",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "HJMw0waQi": {
          "description": "Pulse on successful read.",
          "label": "DONE",
          "id": "HJMw0waQi",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        }
      },
      "path": "@/read-all-channels",
      "description": "Read all channels and store measurements in an internal buffer. To retrieve a measurement for a specific channel, use the appropriate get-ch-* node.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       if (!sensor->readAllChannels()) {\n            raiseError(ctx);\n            return;\n       }\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/set-astep": {
      "nodes": {
        "ryIgB-07s": {
          "id": "ryIgB-07s",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "S1gUgHZ0Xi": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "S1gUgHZ0Xi",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "SyzUxrbRQi": {
          "description": "Pulses if integration time step size is successfully set.",
          "label": "DONE",
          "id": "SyzUxrbRQi",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "H1XUeH-CQj": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "H1XUeH-CQj",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "HyvbSZCXo": {
          "boundLiterals": {
            "__out__": "100"
          },
          "description": "Integration time step size in 2.78 microsecond increments. Step size is (ASTEP+1)  2.78S.",
          "label": "ASTEP",
          "id": "HyvbSZCXo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-number"
        }
      },
      "path": "@/set-astep",
      "description": "Set integration time step size.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n       auto astep = getValue<input_ASTEP>(ctx);\n\n       if (!sensor->setASTEP(astep)) {\n            raiseError(ctx);\n            return;\n       }\n\n       emitValue<output_DONE>(ctx, 1);\n    }\n}\n"
        }
      ]
    },
    "@/get-ch-550nm": {
      "nodes": {
        "Hkk6ndTQj": {
          "id": "Hkk6ndTQj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sylyphdamo": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "Sylyphdamo",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Sysl6dpXj": {
          "description": "Raw measurement from the 550nm channel.",
          "label": "VALUE",
          "id": "Sysl6dpXj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HJ1w6dTXo": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "HJ1w6dTXo",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJJqaOpQo": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "HJJqaOpQo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/get-ch-550nm",
      "description": "Get the most recent measurement from the 550nm channel.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n       \n       emitValue<output_VALUE>(ctx, sensor->getChannel(AS7343_CHANNEL_550_F5));\n       \n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/set-gain": {
      "nodes": {
        "r1-pKWRQs": {
          "id": "r1-pKWRQs",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "BkeZaFZ0Qs": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "BkeZaFZ0Qs",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "B1WZpYb0Qs": {
          "description": "Pulses if gain is successfully set.",
          "label": "DONE",
          "id": "B1WZpYb0Qs",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "ByM-atbAXj": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "ByM-atbAXj",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "HynToWA7j": {
          "boundLiterals": {
            "__out__": "256"
          },
          "description": "ADC gain multiplier. Can take values of: 0.5, 1, 2, 4, 8, 16, 32, 64, 128, 256 and 512.",
          "label": "GAIN",
          "id": "HynToWA7j",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-number"
        }
      },
      "path": "@/set-gain",
      "description": "Set the ADC gain multiplier.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n       auto gain = getValue<input_GAIN>(ctx);\n\n\n       if (gain<1) {\n           if (!sensor->setGain(AS7343_GAIN_0_5X)) {\n               raiseError(ctx);\n               return;\n           }\n           emitValue<output_DONE>(ctx, 1);\n       }\n\n       if (gain==1) {\n           if (!sensor->setGain(AS7343_GAIN_1X)) {\n               raiseError(ctx);\n               return;\n           }\n           emitValue<output_DONE>(ctx, 1);\n       }\n\n       if (gain==2) {\n           if (!sensor->setGain(AS7343_GAIN_2X)) {\n               raiseError(ctx);\n               return;\n           }\n           emitValue<output_DONE>(ctx, 1);\n       }\n\n       if (gain==4) {\n           if (!sensor->setGain(AS7343_GAIN_4X)) {\n               raiseError(ctx);\n               return;\n           }\n           emitValue<output_DONE>(ctx, 1);\n       }\n\n       if (gain==8) {\n           if (!sensor->setGain(AS7343_GAIN_8X)) {\n               raiseError(ctx);\n               return;\n           }\n           emitValue<output_DONE>(ctx, 1);\n       }\n\n       if (gain==16) {\n           if (!sensor->setGain(AS7343_GAIN_16X)) {\n               raiseError(ctx);\n               return;\n           }\n           emitValue<output_DONE>(ctx, 1);\n       }\n\n       if (gain==32) {\n           if (!sensor->setGain(AS7343_GAIN_32X)) {\n               raiseError(ctx);\n               return;\n           }\n           emitValue<output_DONE>(ctx, 1);\n       }\n\n       if (gain==64) {\n           if (!sensor->setGain(AS7343_GAIN_64X)) {\n               raiseError(ctx);\n               return;\n           }\n           emitValue<output_DONE>(ctx, 1);\n       }\n\n       if (gain==128) {\n           if (!sensor->setGain(AS7343_GAIN_128X)) {\n               raiseError(ctx);\n               return;\n           }\n           emitValue<output_DONE>(ctx, 1);\n       }\n\n       if (gain==256) {\n           if (!sensor->setGain(AS7343_GAIN_256X)) {\n               raiseError(ctx);\n               return;\n           }\n           emitValue<output_DONE>(ctx, 1);\n       }\n\n       if (gain==512) {\n           if (!sensor->setGain(AS7343_GAIN_512X)) {\n               raiseError(ctx);\n               return;\n           }\n           emitValue<output_DONE>(ctx, 1);\n       }\n\n       if (gain==1024) {\n           if (!sensor->setGain(AS7343_GAIN_1024X)) {\n               raiseError(ctx);\n               return;\n           }\n           emitValue<output_DONE>(ctx, 1);\n       }\n\n       if (gain==2048) {\n           if (!sensor->setGain(AS7343_GAIN_2048X)) {\n               raiseError(ctx);\n               return;\n           }\n           emitValue<output_DONE>(ctx, 1);\n       }\n\n    }\n}\n"
        }
      ]
    },
    "@/set-led-current": {
      "nodes": {
        "Bkh9Zf0Qi": {
          "id": "Bkh9Zf0Qi",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "S1gn9bzRXi": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "S1gn9bzRXi",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Hy-h9ZzRXi": {
          "description": "Pulses if LED current limit is set successfully.",
          "label": "DONE",
          "id": "Hy-h9ZzRXi",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "rJfhcZGRms": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "rJfhcZGRms",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "ryXnqWGRmj": {
          "boundLiterals": {
            "__out__": "100"
          },
          "description": "LED current limit in mA. Range is 4mA to 258mA.",
          "label": "mA",
          "id": "ryXnqWGRmj",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-number"
        }
      },
      "path": "@/set-led-current",
      "description": "Set the current limit for the LED.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n       auto mA = getValue<input_mA>(ctx);\n\n       if (!sensor->setLEDCurrent(mA)) {\n            raiseError(ctx);\n            return;\n       }\n       \n       emitValue<output_DONE>(ctx, 1);\n    }\n}\n"
        }
      ]
    },
    "@/get-ch-745nm": {
      "nodes": {
        "Hkk6ndTQj": {
          "id": "Hkk6ndTQj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "Sylyphdamo": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "Sylyphdamo",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "Sysl6dpXj": {
          "description": "Raw measurement from the 745nm channel.",
          "label": "VALUE",
          "id": "Sysl6dpXj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-number"
        },
        "HJ1w6dTXo": {
          "description": "Pulse on read.",
          "label": "DONE",
          "id": "HJ1w6dTXo",
          "position": {
            "x": 1,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "HJJqaOpQo": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "HJJqaOpQo",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        }
      },
      "path": "@/get-ch-745nm",
      "description": "Get the most recent measurement from the 745nm channel.",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n\n       emitValue<output_VALUE>(ctx, sensor->getChannel(AS7343_CHANNEL_745_F8));\n\n       emitValue<output_DONE>(ctx, 1);\n\n    }\n}\n"
        }
      ]
    },
    "@/set-atime": {
      "nodes": {
        "H1oP_-Rmj": {
          "id": "H1oP_-Rmj",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "type": "xod/patch-nodes/not-implemented-in-xod"
        },
        "S1loPOZC7i": {
          "description": "An as7343-device.",
          "label": "DEV",
          "id": "S1loPOZC7i",
          "position": {
            "x": 0,
            "y": 0,
            "units": "slots"
          },
          "type": "@/input-as7343-device"
        },
        "H1-iPu-CQj": {
          "description": "Pulses if integration time step count is successfully set.",
          "label": "DONE",
          "id": "H1-iPu-CQj",
          "position": {
            "x": 0,
            "y": 2,
            "units": "slots"
          },
          "type": "xod/patch-nodes/output-pulse"
        },
        "SkGiv_WAQs": {
          "boundLiterals": {
            "__out__": "Continuously"
          },
          "description": "Update.",
          "label": "UPD",
          "id": "SkGiv_WAQs",
          "position": {
            "x": 2,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-pulse"
        },
        "S1XsvdZAQi": {
          "boundLiterals": {
            "__out__": "999"
          },
          "description": "Integration time step count.",
          "label": "ATIME",
          "id": "S1XsvdZAQi",
          "position": {
            "x": 1,
            "y": 0,
            "units": "slots"
          },
          "type": "xod/patch-nodes/input-number"
        }
      },
      "path": "@/set-atime",
      "description": "Set the integration time step count. Total integration time will be (ATIME + 1)  (ASTEP + 1)  2.78S",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf8",
          "content": "#pragma XOD evaluate_on_pin disable\n#pragma XOD evaluate_on_pin enable input_UPD\n\nnode {\n   void evaluate(Context ctx) {\n       // The node responds only if there is an input pulse\n       if (!isInputDirty<input_UPD>(ctx))\n           return;\n\n       auto sensor = getValue<input_DEV>(ctx);\n       auto atime = getValue<input_ATIME>(ctx);\n\n       if (!sensor->setATIME(atime)) {\n            raiseError(ctx);\n            return;\n       }\n       \n       emitValue<output_DONE>(ctx, 1);\n    }\n}\n"
        }
      ]
    }
  },
  "license": "BSD",
  "version": "0.0.1",
  "description": "AMS OSRAM AS7343 14-Channel Spectral Sensor. Wraps https://github.com/WaylandM/AMS_OSRAM_AS7343. Datasheet: https://ams.com/documents/20143/6705498/AS7343_DS001046_6_00.pdf",
  "name": "as7343-spectrometer"
}
