{
  "patches": {
    "@/main": {
      "nodes": {
        "S1LUjVWrI": {
          "id": "S1LUjVWrI",
          "type": "xod/core/clock",
          "position": {
            "x": 4,
            "y": 0,
            "units": "slots"
          }
        },
        "BJ0vj4ZBU": {
          "id": "BJ0vj4ZBU",
          "type": "@/custom-characters",
          "position": {
            "x": 0,
            "y": -1,
            "units": "slots"
          },
          "boundLiterals": {
            "HkRJ5xbrI": "11h",
            "H1VgcxZSL": "00h",
            "rk8g9lbBI": "00h",
            "B1slcxWrL": "11h",
            "B16gqgbr8": "0Eh",
            "rkS-qx-SU": "00h",
            "SyvZ5gZH8": "00h",
            "Syqb9x-B8": "00h"
          }
        },
        "HklRPsE-B8": {
          "id": "HklRPsE-B8",
          "type": "xod-dev/text-lcd/text-lcd-i2c-device",
          "position": {
            "x": 0,
            "y": -2.6333333333333333,
            "units": "slots"
          },
          "boundLiterals": {
            "HkdEXeCMH": "20",
            "SkeN7eCzr": "4"
          }
        },
        "H1Lg3EZH8": {
          "id": "H1Lg3EZH8",
          "type": "@/i2c-custom-char-print-at",
          "position": {
            "x": 0,
            "y": 1,
            "units": "slots"
          },
          "boundLiterals": {
            "BkhM3WWHL": "0",
            "HkMG3--SL": "0"
          }
        }
      },
      "links": {
        "BJZ0viVbHU": {
          "id": "BJZ0viVbHU",
          "output": {
            "nodeId": "HklRPsE-B8",
            "pinKey": "rJZSQgAfS"
          },
          "input": {
            "nodeId": "BJ0vj4ZBU",
            "pinKey": "S19O5QZr8"
          }
        },
        "B1kW3N-HI": {
          "id": "B1kW3N-HI",
          "output": {
            "nodeId": "BJ0vj4ZBU",
            "pinKey": "S1rF9mZSU"
          },
          "input": {
            "nodeId": "H1Lg3EZH8",
            "pinKey": "SJb3n-bH8"
          }
        },
        "H1L33V-SU": {
          "id": "H1L33V-SU",
          "output": {
            "nodeId": "S1LUjVWrI",
            "pinKey": "HJU8CE2lW"
          },
          "input": {
            "nodeId": "H1Lg3EZH8",
            "pinKey": "BJAfhVWSI"
          }
        }
      },
      "path": "@/main"
    },
    "@/customcharacter": {
      "path": "@/customcharacter"
    },
    "@/custom-characters": {
      "nodes": {
        "HkRJ5xbrI": {
          "id": "HkRJ5xbrI",
          "type": "xod/patch-nodes/input-byte",
          "position": {
            "x": 5,
            "y": 1,
            "units": "slots"
          },
          "label": "byte1",
          "description": "Row 1 byte for character ( 1 = pixel on)"
        },
        "H1VgcxZSL": {
          "id": "H1VgcxZSL",
          "type": "xod/patch-nodes/input-byte",
          "position": {
            "x": 7,
            "y": 1,
            "units": "slots"
          },
          "label": "byte2",
          "description": "Row 2 byte for character ( 1 = pixel on)"
        },
        "rk8g9lbBI": {
          "id": "rk8g9lbBI",
          "type": "xod/patch-nodes/input-byte",
          "position": {
            "x": 9,
            "y": 1,
            "units": "slots"
          },
          "label": "byte3",
          "description": "Row 3 byte for character ( 1 = pixel on)"
        },
        "B1slcxWrL": {
          "id": "B1slcxWrL",
          "type": "xod/patch-nodes/input-byte",
          "position": {
            "x": 11,
            "y": 1,
            "units": "slots"
          },
          "label": "byte4",
          "description": "Row 4 byte for character ( 1 = pixel on)"
        },
        "B16gqgbr8": {
          "id": "B16gqgbr8",
          "type": "xod/patch-nodes/input-byte",
          "position": {
            "x": 13,
            "y": 1,
            "units": "slots"
          },
          "label": "byte5",
          "description": "Row 5 byte for character ( 1 = pixel on)"
        },
        "rkS-qx-SU": {
          "id": "rkS-qx-SU",
          "type": "xod/patch-nodes/input-byte",
          "position": {
            "x": 15,
            "y": 1,
            "units": "slots"
          },
          "label": "byte6",
          "description": "Row 6 byte for character ( 1 = pixel on)"
        },
        "SyvZ5gZH8": {
          "id": "SyvZ5gZH8",
          "type": "xod/patch-nodes/input-byte",
          "position": {
            "x": 17,
            "y": 1,
            "units": "slots"
          },
          "label": "byte7",
          "description": "Row 7 byte for character ( 1 = pixel on)"
        },
        "Syqb9x-B8": {
          "id": "Syqb9x-B8",
          "type": "xod/patch-nodes/input-byte",
          "position": {
            "x": 19,
            "y": 1,
            "units": "slots"
          },
          "label": "byte8",
          "description": "Row 8 byte for character ( 1 = pixel on)"
        },
        "H1FFqebBU": {
          "id": "H1FFqebBU",
          "type": "xod/patch-nodes/not-implemented-in-xod",
          "position": {
            "x": 7,
            "y": 2,
            "units": "slots"
          }
        },
        "rJagDZ-HU": {
          "id": "rJagDZ-HU",
          "type": "xod/patch-nodes/input-number",
          "position": {
            "x": 3,
            "y": 1,
            "units": "slots"
          },
          "label": "num",
          "description": "Custom character byte number (0-7)"
        },
        "rJ9QYmbHU": {
          "id": "rJ9QYmbHU",
          "type": "xod/patch-nodes/output-pulse",
          "position": {
            "x": 3,
            "y": 3,
            "units": "slots"
          },
          "label": "DONE",
          "description": "Fires when the allocated area is updated"
        },
        "S19O5QZr8": {
          "id": "S19O5QZr8",
          "type": "xod-dev/text-lcd/input-text-lcd-i2c-device",
          "position": {
            "x": 1,
            "y": 1,
            "units": "slots"
          },
          "label": "DEV",
          "description": "An I2C text LCD device"
        },
        "S1rF9mZSU": {
          "id": "S1rF9mZSU",
          "type": "xod-dev/text-lcd/output-text-lcd-i2c-device",
          "position": {
            "x": 1,
            "y": 3,
            "units": "slots"
          },
          "label": "DEV'"
        }
      },
      "path": "@/custom-characters",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "\nstruct State {\n};\n\n{{ GENERATED_CODE }}\n\nvoid makeChar(LiquidCrystal_I2C* lcd, Number charnum, uint8_t b1, uint8_t b2, uint8_t b3, uint8_t b4,uint8_t b5, uint8_t b6, uint8_t b7, uint8_t b8) {\n       uint8_t charData[8]={b1, b2, b3, b4, b5, b6, b7, b8,};\n       lcd->createChar(charnum, charData);\n    }\n\nvoid evaluate(Context ctx) {\n\n       auto t = getValue<input_DEV>(ctx);\n            \n       Number charNum = getValue<input_num>(ctx);\n       uint8_t byte_1 = getValue<input_byte1>(ctx);\n       uint8_t byte_2 = getValue<input_byte2>(ctx);\n       uint8_t byte_3 = getValue<input_byte3>(ctx);\n       uint8_t byte_4 = getValue<input_byte4>(ctx);\n       uint8_t byte_5 = getValue<input_byte5>(ctx);\n       uint8_t byte_6 = getValue<input_byte6>(ctx);\n       uint8_t byte_7 = getValue<input_byte7>(ctx);\n       uint8_t byte_8 = getValue<input_byte8>(ctx);\n\n        if (charNum < 0 || charNum > 7) {\n           raiseError<output_DONE>(ctx);\n           return;\n        }\n      \n        makeChar(t.lcd, charNum, byte_1, byte_2, byte_3, byte_4, byte_5, byte_6, byte_7, byte_8);\n        emitValue<output_DONE>(ctx, 1);          \n        emitValue<output_DEVU0027>(ctx, t);\n    \n}\n"
        }
      ]
    },
    "@/i2c-custom-char-print-at": {
      "nodes": {
        "SJ09j--HL": {
          "id": "SJ09j--HL",
          "type": "xod/patch-nodes/input-number",
          "position": {
            "x": 7,
            "y": 1,
            "units": "slots"
          },
          "label": "num",
          "description": "Custom character byte number (0-7)"
        },
        "S1Gy3bZH8": {
          "id": "S1Gy3bZH8",
          "type": "xod/patch-nodes/not-implemented-in-xod",
          "position": {
            "x": 5,
            "y": 2,
            "units": "slots"
          }
        },
        "rynZhZZH8": {
          "id": "rynZhZZH8",
          "type": "xod/patch-nodes/output-pulse",
          "position": {
            "x": 3,
            "y": 3,
            "units": "slots"
          },
          "label": "DONE",
          "description": "Fires when the allocated area is updated"
        },
        "HkMG3--SL": {
          "id": "HkMG3--SL",
          "type": "xod/patch-nodes/input-number",
          "position": {
            "x": 5,
            "y": 1,
            "units": "slots"
          },
          "label": "POS",
          "description": "Position in the row. Starts from 0."
        },
        "BkhM3WWHL": {
          "id": "BkhM3WWHL",
          "type": "xod/patch-nodes/input-number",
          "position": {
            "x": 3,
            "y": 1,
            "units": "slots"
          },
          "label": "ROW",
          "description": "The row index on the display. Starts from 0."
        },
        "SJb3n-bH8": {
          "id": "SJb3n-bH8",
          "type": "xod-dev/text-lcd/input-text-lcd-i2c-device",
          "position": {
            "x": 1,
            "y": 1,
            "units": "slots"
          },
          "label": "DEV"
        },
        "BkIWaWbBU": {
          "id": "BkIWaWbBU",
          "type": "xod-dev/text-lcd/output-text-lcd-i2c-device",
          "position": {
            "x": 1,
            "y": 3,
            "units": "slots"
          },
          "label": "DEV'"
        },
        "BJAfhVWSI": {
          "id": "BJAfhVWSI",
          "type": "xod/patch-nodes/input-pulse",
          "position": {
            "x": 9,
            "y": 1,
            "units": "slots"
          },
          "label": "DO",
          "description": "Update the allocated area content"
        }
      },
      "path": "@/i2c-custom-char-print-at",
      "attachments": [
        {
          "filename": "patch.cpp",
          "encoding": "utf-8",
          "content": "\nstruct State {\n};\n\n{{ GENERATED_CODE }}\n\nvoid printAt(LiquidCrystal_I2C* lcd, uint8_t rowIndex, uint8_t posIndex, Number charnum) {\n    lcd->setCursor(posIndex, rowIndex);\n    lcd->write(byte(charnum));\n\n}\n\nvoid evaluate(Context ctx) {\n    auto t = getValue<input_DEV>(ctx);\n\n   if (isInputDirty<input_DO>(ctx)) {\n        uint8_t row = (uint8_t) getValue<input_ROW>(ctx);\n        uint8_t pos = (uint8_t) getValue<input_POS>(ctx);\n        Number charNum = getValue<input_num>(ctx);\n\n        if (row < 0 || row >= t.rows || pos < 0 || pos >= t.cols) {\n            raiseError<output_DONE>(ctx);\n            return;\n        }\n\n        printAt(t.lcd, row, pos, charNum);\n        emitValue<output_DONE>(ctx, 1);\n        }\n\n    emitValue<output_DEVU0027>(ctx, t);\n  \n}\n"
        }
      ]
    }
  },
  "name": "custom-characters"
}
